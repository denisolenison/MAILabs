(function (cjs, an) {

var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"index_atlas_", frames: [[0,0,1289,771],[0,773,1282,761]]},
		{name:"index_atlas_2", frames: [[0,782,961,456],[1618,237,96,93],[1716,237,96,93],[1814,237,96,93],[1318,439,156,34],[1770,332,161,33],[1476,462,156,34],[1770,367,161,33],[1634,472,156,34],[1770,402,161,33],[1792,472,156,34],[1155,404,161,33],[1155,474,156,34],[1318,404,161,33],[1313,475,156,34],[1481,427,161,33],[1471,498,156,34],[1644,437,161,33],[1629,508,156,34],[1807,437,161,33],[1787,508,156,34],[1155,439,161,33],[2001,207,32,64],[2001,113,32,92],[2001,0,32,111],[2001,273,32,64],[0,0,1153,780],[1912,237,74,93],[1618,332,74,93],[1694,332,74,93],[1603,0,369,77],[1603,79,369,77],[1618,158,369,77],[1989,0,10,771],[0,1240,1292,10],[0,1252,1292,10],[1155,212,461,190],[1155,0,446,210]]}
];


// symbols:



(lib.CachedBmp_86 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_85 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_84 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_83 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_82 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_81 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_80 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_79 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_78 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_77 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_76 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_75 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_74 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_73 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_72 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_71 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_70 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_69 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_68 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_67 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_66 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_65 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_64 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_63 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_62 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_61 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_60 = function() {
	this.initialize(ss["index_atlas_"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_59 = function() {
	this.initialize(ss["index_atlas_"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_58 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(26);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_57 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(27);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_56 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(28);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_55 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(29);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_54 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(30);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_53 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(31);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_52 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(32);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_51 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(33);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_50 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(34);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_49 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(35);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_48 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(36);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_47 = function() {
	this.initialize(img.CachedBmp_47);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,2425,1348);


(lib.Растровоеизображение1 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(37);
}).prototype = p = new cjs.Sprite();
// helper functions:

function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}

function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}


(lib.task1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.Растровоеизображение1();
	this.instance.setTransform(5.25,1.85,1.0427,1.0427);

	this.instance_1 = new lib.CachedBmp_86();
	this.instance_1.setTransform(-2,-2,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.task1, new cjs.Rectangle(-2,-2,480.5,228), null);


(lib.stopBtn = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_83();
	this.instance.setTransform(-7,-1.5,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_84();
	this.instance_1.setTransform(-6.9,-1.5,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_85();
	this.instance_2.setTransform(-7,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-7,-1.5,48.1,46.5);


(lib.setPurp = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_78();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_77();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_80();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_79();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_82();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_81();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.setGreen = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_72();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_71();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_74();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_73();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_76();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_75();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.setBlue = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_66();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_65();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_68();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_67();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_70();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_69();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.line = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_61();
	this.instance.setTransform(0,-0.95,0.0315,0.0315);

	this.instance_1 = new lib.CachedBmp_62();
	this.instance_1.setTransform(0,-1.7,0.0315,0.0315);

	this.instance_2 = new lib.CachedBmp_63();
	this.instance_2.setTransform(0,-1.4,0.0315,0.0315);

	this.instance_3 = new lib.CachedBmp_64();
	this.instance_3.setTransform(0,-0.95,0.0315,0.0315);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,-1.7,1,3.5);


(lib.graphGrid = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_60();
	this.instance.setTransform(-623.35,-0.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.graphGrid, new cjs.Rectangle(-623.3,-0.5,644.5,385.5), null);


(lib.graphBG = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_59();
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.graphBG, new cjs.Rectangle(0,0,641,380.5), null);


(lib.dividions = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_58();
	this.instance.setTransform(-1,-1,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.dividions, new cjs.Rectangle(-1,-1,576.5,390), null);


(lib.chalNext = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_55();
	this.instance.setTransform(-1.5,-1.5,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_56();
	this.instance_1.setTransform(-1.5,-1.5,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_57();
	this.instance_2.setTransform(-1.5,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1.5,-1.5,37,46.5);


(lib.begin_button = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.text = new cjs.Text("Погнали?", "bold 15px 'Consolas'");
	this.text.textAlign = "center";
	this.text.lineHeight = 20;
	this.text.lineWidth = 101;
	this.text.parent = this;
	this.text.setTransform(90.3077,3.4,1.7167,1.7028);

	this.instance = new lib.CachedBmp_52();
	this.instance.setTransform(-1.5,0.55,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_53();
	this.instance_1.setTransform(-1.5,0.55,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_54();
	this.instance_2.setTransform(-1.5,0.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.text}]}).to({state:[{t:this.instance_1},{t:this.text}]},1).to({state:[{t:this.instance_2},{t:this.text}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1.5,0,184.5,39.1);


(lib.axisLeft = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_51();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisLeft, new cjs.Rectangle(-2.5,-2.5,5,385.5), null);


(lib.axisDownTT = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_50();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisDownTT, new cjs.Rectangle(-2.5,-2.5,646,5), null);


(lib.axisDown = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_49();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisDown, new cjs.Rectangle(-2.5,-2.5,646,5), null);


// stage content:
(lib.index = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	this.isSingleFrame = false;
	// timeline functions:
	this.frame_0 = function() {
		if(this.isSingleFrame) {
			return;
		}
		if(this.totalFrames == 1) {
			this.isSingleFrame = true;
		}
		var alpha = 1; //α
		var beta = 0; //β
		var gamma = 1; //γ
		var delta = 0; //δ
		
		
		//α * Ux(0, t) + β * U(0, t) = exp(-0.5*t)
		//γ * Ux(l, t) + δ * U(l, t) = -exp(-0.5*t)
		//Обозначим все как граничные условия 3 рода
		
		function phi_0(t) {
			return Math.exp(-0.5 * t);
		}
		
		function phi_l(t) {
			return -Math.exp(-0.5 * t);
		}
		
		function psi(x) { return Math.sin(x); }
		// Начальное условие
		
		
		
		function U(x, t) {
			return Math.exp(-0.5 * t) * Math.sin(x);
		} //Аналитическое решение
		
		
		//Параметры сетки
		var l = 3.1415926535; //интервал
		var N = 10; //количество шагов
		var T = 1; //макс. время
		var K = 25; //количество тиков
		
		var h = 0; var t = 0;
		
		var a = 1; var b = 0; var c = 0;
		//exp(-0.5t)cos(x) - доп. функция
		
		var sigma = 1;
		//σ = a^2 * τ / h^2
		
		var dt = 0.02; //длительность тика
		var cur_tick = 0;
		
		
		var generation = 0; //номер генерации
		var go = false; //увеличивать счетчик тиков?
		
		
		this.addEventListener("tick", det_ht.bind(this));
		function det_ht() {
			h = l / N;
			t = T / K;
			
			sigma = a * a * t / (h * h);
			//определяем шаги по времени и пространству
			
			this.h_text.text = "h = " + Math.round(h * 100000)/100000;
			this.tau_text.text = "τ = " + Math.round(t * 100000)/100000;
			
			this.l_text.text = "l = " + Math.round(l * 100000)/100000;
			this.T_text.text = "T = " + Math.round(T * 100000)/100000;
			
			this.N_text.text = "N = " + Math.round(N);
			this.K_text.text = "K = " + Math.round(K);
			
			this.dt_text.text = "dt = " + Math.round(dt*1000)/1000;
			
			this.sig_text.text = "σ = " + Math.round(sigma * 100000)/100000;
			
			
			if (go) {
				cur_tick += 1/60;
				if (cur_tick >= dt && s_cur < K) {
					var tGot = Math.floor(cur_tick / dt);
					cur_tick %= dt;
					s_cur += Math.min(K - s_cur, tGot);
				}
				else if (s_cur == K) {
					go = false;
				}
			}
			
		}
		
		
		
		
		this.setGreen1.addEventListener("click", set_l_prompt.bind(this));
		function set_l_prompt() {
			generation += 1;
			var temp = prompt("Введите l:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = l;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			l = temp;
		}
		
		
		
		this.setGreen2.addEventListener("click", set_T_prompt.bind(this));
		function set_T_prompt() {
			generation += 1;
			var temp = prompt("Введите T:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = T;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			T = temp;
		}
		
		
		this.setBlue1.addEventListener("click", set_N_prompt.bind(this));
		function set_N_prompt() {
			generation += 1;
			var temp = prompt("Введите N:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = N;
			}
			else if (temp > 200) {
				//ограничение на величину
				temp = 200;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			N = temp;
		}
		
		
		this.setBlue2.addEventListener("click", set_K_prompt.bind(this));
		function set_K_prompt() {
			generation += 1;
			var temp = prompt("Введите K:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = K;
			}
			else if (temp > 10000) {
				//ограничение на величину
				temp = 10000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			K = temp;
		}
		
		
		this.setPurp1.addEventListener("click", set_dt_prompt.bind(this));
		function set_dt_prompt() {
			cur_tick = 0;
			var temp = prompt("Введите dt (для ручного переключения можно ввести очень большим):", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = dt;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp < 0.02) {
				//всегда положительно и больше 0.2 (почти плавная смена графика)
				temp = 0.02;
			}
			dt = temp;
		}
		
		
		
		var scheme_type = 1;
		//Тип схемы
		//1,2 - Явная/Неявная К-Р схема
		//3 - схема Кранка-Николсона
		
		var theta = 1;
		
		
		var meth_type = 1;
		//Метод аппроксимации
		//1 - Двухточечная аппроксимация с первым порядком
		//2 - Трехточечная аппроксимация со вторым порядком
		//3 - Двухточечная аппроксимация со вторым порядком
		
		
		var pogr_type = 1;
		//Тип погрешности
		//1 - Абсолютная
		//2 - Относительная
		//3 - От времени
		
		var scale_type = 1;
		//Масштаб графика
		//1 - Фиксированный
		//2 - Динамический
		
		this.SLeft1.addEventListener("click", scheme_left.bind(this));
		function scheme_left() {
			if (scheme_type == 1) {
				scheme_type = 3;
			}
			else {
				scheme_type -= 1;
			}
		}
		
		this.SRight1.addEventListener("click", scheme_right.bind(this));
		function scheme_right() {
			if (scheme_type == 3) {
				scheme_type = 1;
			}
			else {
				scheme_type += 1;
			}
		}
		
		
		this.SLeft2.addEventListener("click", meth_left.bind(this));
		function meth_left() {
			if (meth_type == 1) {
				meth_type = 3;
			}
			else {
				meth_type -= 1;
			}
		}
		
		this.SRight2.addEventListener("click", meth_right.bind(this));
		function meth_right() {
			if (meth_type == 3) {
				meth_type = 1;
			}
			else {
				meth_type += 1;
			}
		}
		
		
		this.SLeft3.addEventListener("click", curStep_left.bind(this));
		function curStep_left() {
			if (s_cur > 0) {
				s_cur -= 1;
			}
		}
		
		this.SRight3.addEventListener("click", curStep_right.bind(this));
		function curStep_right() {
			if (s_cur < K) {
				s_cur += 1;
			}
		}
		
		
		this.stopBtn.addEventListener("click", curStep_stop.bind(this));
		function curStep_stop() {
			dt = 1000000;
		}
		
		this.SLeft4.addEventListener("click", pogr_left.bind(this));
		function pogr_left() {
			if (pogr_type == 1) {
				pogr_type = 3;
			}
			else {
				pogr_type -= 1;
			}
		}
		
		this.SRight4.addEventListener("click", pogr_right.bind(this));
		function pogr_right() {
			if (pogr_type == 3) {
				pogr_type = 1;
			}
			else {
				pogr_type += 1;
			}
		}
		
		this.SLeft5.addEventListener("click", scale_left.bind(this));
		function scale_left() {
			if (scale_type == 1) {
				scale_type = 2;
			}
			else {
				scale_type -= 1;
			}
		}
		
		this.SRight5.addEventListener("click", scale_right.bind(this));
		function scale_right() {
			if (scale_type == 2) {
				scale_type = 1;
			}
			else {
				scale_type += 1;
			}
		}
		
		this.addEventListener("tick", setTexts2.bind(this));
		function setTexts2() {
			if (scheme_type == 1) {
				this.scheme_text.text = "Явная конечно-разностная";
				theta = 1;
			}
			else if (scheme_type == 2) {
				this.scheme_text.text = "Неявная конечно-разностная";
				theta = 0;
			}
			else if (scheme_type == 3) {
				this.scheme_text.text = "Схема Кранка-Николсона";
				theta = 0.5;
			}
			
			if (meth_type == 1) {
				this.meth_text.text = "Двухточечная аппроксимация с первым порядком";
			}
			else if (meth_type == 2) {
				this.meth_text.text = "Трехточечная аппроксимация со вторым порядком";
			}
			else if (meth_type == 3) {
				this.meth_text.text = "Двухточечная аппроксимация со вторым порядком";
			}
			
			
			if (pogr_type == 1) {
				this.pogr_text.text = "Абсолютная погрешность";
			}
			else if (pogr_type == 2) {
				this.pogr_text.text = "Относительная погрешность";
			}
			else if (pogr_type == 3) {
				this.pogr_text.text = "Макс. Погрешность от времени";
			}
			
			
			if (scale_type == 1) {
				this.scale_text.text = "Макс. Фиксированный";
			}
			else if (scale_type == 2) {
				this.scale_text.text = "Динамический";
			}
			
			
			this.divDown0.text = "" + 0;
			this.divDown1.text = "" + Math.round(l*1/6*1000)/1000;
			this.divDown2.text = "" + Math.round(l*2/6*1000)/1000;
			this.divDown3.text = "" + Math.round(l*3/6*1000)/1000;
			this.divDown4.text = "" + Math.round(l*4/6*1000)/1000;
			this.divDown5.text = "" + Math.round(l*5/6*1000)/1000;
			this.divDown6.text = "" + Math.round(l*1000)/1000;
			
			
			if (pogr_type <= 2) {
				this.divDown0err.text = "" + 0;
				this.divDown1err.text = "" + Math.round(l*1/6*1000)/1000;
				this.divDown2err.text = "" + Math.round(l*2/6*1000)/1000;
				this.divDown3err.text = "" + Math.round(l*3/6*1000)/1000;
				this.divDown4err.text = "" + Math.round(l*4/6*1000)/1000;
				this.divDown5err.text = "" + Math.round(l*5/6*1000)/1000;
				this.divDown6err.text = "" + Math.round(l*1000)/1000;
			}
			else {
				this.divDown0err.text = "" + 0;
				this.divDown1err.text = "" + Math.round(T*1/6*1000)/1000;
				this.divDown2err.text = "" + Math.round(T*2/6*1000)/1000;
				this.divDown3err.text = "" + Math.round(T*3/6*1000)/1000;
				this.divDown4err.text = "" + Math.round(T*4/6*1000)/1000;
				this.divDown5err.text = "" + Math.round(T*5/6*1000)/1000;
				this.divDown6err.text = "" + Math.round(T*1000)/1000;
			}
			
			
			if (maxVals.length > 0 && scale_type == 2) {
				this.divUp0.text = "" + Math.round(minVals[s_cur]*1000)/1000;
				this.divUp1.text = "" + Math.round((minVals[s_cur] + (maxVals[s_cur] - minVals[s_cur])*1/7)*1000)/1000;
				this.divUp2.text = "" + Math.round((minVals[s_cur] + (maxVals[s_cur] - minVals[s_cur])*2/7)*1000)/1000;
				this.divUp3.text = "" + Math.round((minVals[s_cur] + (maxVals[s_cur] - minVals[s_cur])*3/7)*1000)/1000;
				this.divUp4.text = "" + Math.round((minVals[s_cur] + (maxVals[s_cur] - minVals[s_cur])*4/7)*1000)/1000;
				this.divUp5.text = "" + Math.round((minVals[s_cur] + (maxVals[s_cur] - minVals[s_cur])*5/7)*1000)/1000;
				this.divUp6.text = "" + Math.round((minVals[s_cur] + (maxVals[s_cur] - minVals[s_cur])*6/7)*1000)/1000;
				this.divUp7.text = "" + Math.round(maxVals[s_cur]*1000)/1000;
			}
			else {
				this.divUp0.text = "" + Math.round(minMinVal*1000)/1000;
				this.divUp1.text = "" + Math.round((minMinVal + (maxMaxVal - minMinVal)*1/7)*1000)/1000;
				this.divUp2.text = "" + Math.round((minMinVal + (maxMaxVal - minMinVal)*2/7)*1000)/1000;
				this.divUp3.text = "" + Math.round((minMinVal + (maxMaxVal - minMinVal)*3/7)*1000)/1000;
				this.divUp4.text = "" + Math.round((minMinVal + (maxMaxVal - minMinVal)*4/7)*1000)/1000;
				this.divUp5.text = "" + Math.round((minMinVal + (maxMaxVal - minMinVal)*5/7)*1000)/1000;
				this.divUp6.text = "" + Math.round((minMinVal + (maxMaxVal - minMinVal)*6/7)*1000)/1000;
				this.divUp7.text = "" + Math.round(maxMaxVal*1000)/1000;
			}
			
			if (maxValsE.length > 0 && scale_type == 2 && pogr_type <= 2) {
				this.divUp0err.text = "" + Math.round(minValsE[s_cur]*1000)/1000;
				this.divUp1err.text = "" + Math.round((minValsE[s_cur] + (maxValsE[s_cur] - minValsE[s_cur])*1/7)*1000)/1000;
				this.divUp2err.text = "" + Math.round((minValsE[s_cur] + (maxValsE[s_cur] - minValsE[s_cur])*2/7)*1000)/1000;
				this.divUp3err.text = "" + Math.round((minValsE[s_cur] + (maxValsE[s_cur] - minValsE[s_cur])*3/7)*1000)/1000;
				this.divUp4err.text = "" + Math.round((minValsE[s_cur] + (maxValsE[s_cur] - minValsE[s_cur])*4/7)*1000)/1000;
				this.divUp5err.text = "" + Math.round((minValsE[s_cur] + (maxValsE[s_cur] - minValsE[s_cur])*5/7)*1000)/1000;
				this.divUp6err.text = "" + Math.round((minValsE[s_cur] + (maxValsE[s_cur] - minValsE[s_cur])*6/7)*1000)/1000;
				this.divUp7err.text = "" + Math.round(maxValsE[s_cur]*1000)/1000;
			}
			else if (pogr_type <= 2) {
				this.divUp0err.text = "" + Math.round(minMinValE*1000)/1000;
				this.divUp1err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*1/7)*1000)/1000;
				this.divUp2err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*2/7)*1000)/1000;
				this.divUp3err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*3/7)*1000)/1000;
				this.divUp4err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*4/7)*1000)/1000;
				this.divUp5err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*5/7)*1000)/1000;
				this.divUp6err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*6/7)*1000)/1000;
				this.divUp7err.text = "" + Math.round(maxMaxValE*1000)/1000;
			}
			else {
				this.divUp0err.text = "" + Math.round(minEotT*1000)/1000;
				this.divUp1err.text = "" + Math.round((minEotT + (maxEotT - minEotT)*1/7)*1000)/1000;
				this.divUp2err.text = "" + Math.round((minEotT + (maxEotT - minEotT)*2/7)*1000)/1000;
				this.divUp3err.text = "" + Math.round((minEotT + (maxEotT - minEotT)*3/7)*1000)/1000;
				this.divUp4err.text = "" + Math.round((minEotT + (maxEotT - minEotT)*4/7)*1000)/1000;
				this.divUp5err.text = "" + Math.round((minEotT + (maxEotT - minEotT)*5/7)*1000)/1000;
				this.divUp6err.text = "" + Math.round((minEotT + (maxEotT - minEotT)*6/7)*1000)/1000;
				this.divUp7err.text = "" + Math.round(maxEotT*1000)/1000;
			}
			
			t_cur = s_cur*t;
			
			this.step_text.text = "t = " + Math.round(t_cur*10000)/10000 + " (шаг " + Math.round(s_cur) + ")";
			
			this.axisDown.y = Math.min(Math.max(transfY(0), 26.4), 418.6);
			
			this.axisDownErr.y = Math.min(Math.max(transfEY(0), 468), 700);
		}
		
		
		//baseGraph
		//x = 0 : posX = 60
		//y = 0 : posY = 418.6
		
		//x = max : posX = 627
		//y = max : posY = 26.4
		
		//errGraph
		//x = 0 : posX = 53.6
		//y = 0 : posY = 700
		
		//x = max : posX = 397.8
		//y = max : posY = 468.4
		
		
		
		
		
		var t_cur = 0;
		//текущий момент времени
		
		var s_cur = 0;
		//текущий шаг
		
		
		var etalon = [];
		var xVector = [];
		var tVector = [];
		
		var maxMaxVal = 1;
		var minMinVal = 0;
		
		var maxMaxValE = 1; //link
		var minMinValE = 0; //link
		var maxMaxValE1 = 1;
		var minMinValE1 = 0;
		var maxMaxValE2 = 1;
		var minMinValE2 = 0;
		
		var maxVals = [];
		var minVals = [];
		
		var maxValsE = []; //link
		var minValsE = []; //link
		var maxValsE1 = [];
		var minValsE1 = [];
		var maxValsE2 = [];
		var minValsE2 = [];
		
		
		var EotT = [];
		
		this.addEventListener("tick", setError.bind(this));
		function setError() {
			if (pogr_type == 1) {
				maxMaxValE = maxMaxValE1;
				minMinValE = minMinValE1;
				maxValsE = maxValsE1;
				minValsE = minValsE1;
				errorGraph = absolute_error;
			}
			else {
				maxMaxValE = maxMaxValE2;
				minMinValE = minMinValE2;
				maxValsE = maxValsE2;
				minValsE = minValsE2;
				errorGraph = relative_error;
			}
		}
		
		var solve = [];
		
		
		function copyV(vector) {
			var newV = [];
			for (var i = 0 ; i < vector.length ; ++i) {
				newV.push(vector[i]);
			}
			return newV;
		}
		
		
		var absolute_error = [];
		var relative_error = [];
		var errorGraph = [];
		
		var minEotT = 0;
		var maxEotT = 1;
		
		
		
		function explicit_step(i, vector0, vector1) {
			var curT = i * t;
					
			//Сначала вычисляем серединку
			for (var j = 1 ; j < N ; ++j) {
				vector1[j] = sigma * vector0[j + 1] + (1 - 2*sigma) * vector0[j] + sigma * vector0[j - 1] + 0.5*Math.exp(-0.5*curT)*Math.sin((j-1)*h)*t;
						
				maxVals[i] = (vector1[j] > maxVals[i] ? vector1[j] : maxVals[i]);
				minVals[i] = (vector1[j] < minVals[i] ? vector1[j] : minVals[i]);
			}
					
			//аппроксимируем граничные условия
			if (meth_type == 1) {
				vector1[0] = vector1[1] - (h/alpha)*phi_0(curT);
				vector1[N] = vector1[N-1] + (h/gamma)*phi_l(curT);
			}
			if (meth_type == 2) {
				//(u1k - u0k)/h = (-3u0k + 4u1k - u2k)/2h
				//вывожу u0k
				//получаю u0k = 2u1k - u2k
				//аналогично для ulk
				vector1[0] = (4 * vector1[1] - vector1[2] - 2*h*phi_0(curT))/3;
				vector1[N] = (4 * vector1[N-1] - vector1[N-2] + 2*h*phi_l(curT))/3;
			}
			if (meth_type == 3) {
				//тут идут сложные преобразования, которые
				//я делал на бумаге
				var d0 = h*vector0[0]/t - (phi_0(curT)*(2*a*a/alpha));
				var c0 = -2 * a * a / h;
				var b0 = (2 * a * a / h) + (h/t);
				var a0 = 0;
						
				vector1[0] = (d0 - c0*vector1[1]) / b0;
			
				var dn = h*vector0[N]/t + (phi_l(curT)*(2*a*a/gamma));
				var cn = 0;
				var bn = 2*a*a/h + (h/t);
				var an = -2*a*a/h;
					
				vector1[N] = (dn - an*vector1[N-1])/bn;
			}
					
			maxVals[i] = (vector1[0] > maxVals[i] ? vector1[0] : maxVals[i]);
			maxVals[i] = (vector1[N] > maxVals[i] ? vector1[N] : maxVals[i]);
			
			minVals[i] = (vector1[0] < minVals[i] ? vector1[0] : minVals[i]);
			minVals[i] = (vector1[N] < minVals[i] ? vector1[N] : minVals[i]);
			
			maxMaxVal = (maxVals[i] > maxMaxVal ? maxVals[i] : maxMaxVal);
			minMinVal = (minVals[i] < minMinVal ? minVals[i] : minMinVal);
					
			return copyV(vector1);
			
		}
		
		
		
		function implicit_step(i, vector0, vector1) {
			var curT = i * t;
					
			var solveMatrix = [];
			var solveVector = [];
					
			var emptV = [];
			for (var j = 0 ; j <= N ; ++j) {
				emptV.push(0);
			}
					
			var thisV = copyV(emptV);
					
			if (meth_type == 1) {
				thisV[0] = -1; //b0
				thisV[1] = 1; //c0
						
				solveMatrix.push(copyV(thisV));
						
				var d0 = h*phi_0(curT);
						
				solveVector.push(d0); //d0
			}
			if (meth_type == 2) {
				thisV[0] = -3;
				thisV[1] = 4;
				thisV[2] = -1
			
				solveMatrix.push(copyV(thisV));
						
				var d0 = phi_0(curT) * 2 * h;
						
				solveVector.push(d0); //d0
			}
			if (meth_type == 3) {
				thisV[0] = (2*a*a / h) + (h/t); //b0 g(c) и beta = 0
				thisV[1] = (-2*a*a / h);
		
				solveMatrix.push(copyV(thisV));
						
				var d0 = h/t * vector0[0] - phi_0(curT)*(2*a*a / alpha); //b = 0
						
				solveVector.push(d0); //d0
			}
					
			for (var j = 1 ; j < N ; ++j) {
				var thisV = copyV(emptV);
				thisV[j - 1] = -sigma; //aj
				thisV[j] = (2*sigma + 1); //bj
				thisV[j + 1] = -sigma; //cj
						
				solveMatrix.push(copyV(thisV));
						
				var dj = vector0[j] + 0.5*Math.exp(-0.5*curT)*Math.sin((j-1)*h)*t;
				solveVector.push(dj);
						
				//убираем 3 элемент (для трехдиагональности)
				if (j == 1 && meth_type == 2) {
					var divisor = solveMatrix[0][2] / solveMatrix[1][2];
					solveMatrix[0][0] -= solveMatrix[1][0] * divisor;
					solveMatrix[0][1] -= solveMatrix[1][1] * divisor;
					solveMatrix[0][2] = 0;
							
					solveVector[0] -= solveVector[1] * divisor;
				}
						
						
						
			}
					
			var thisV = copyV(emptV);
				
			if (meth_type == 1) {
				thisV[N-1] = -1; //an
				thisV[N] = 1; //bn
				
				solveMatrix.push(copyV(thisV));
						
				var dn = h*phi_l(curT);
						
				solveVector.push(dn); //d1
			}
			if (meth_type == 2) {
				thisV[N-2] = 1;
				thisV[N-1] = -4;
				thisV[N] = 3;
						
				solveMatrix.push(copyV(thisV));
						
				var d0 = 2*h*phi_l(curT);
						
				solveVector.push(d0); //d0
						
				var divisor = solveMatrix[N][N-2] / solveMatrix[N-1][N-2];
				solveMatrix[N][N] -= solveMatrix[N-1][N] * divisor;
				solveMatrix[N][N-1] -= solveMatrix[N-1][N-1] * divisor;
				solveMatrix[N][N-2] = 0;
				
				solveVector[N] -= solveVector[N-1] * divisor;
			}
			if (meth_type == 3) {
				thisV[N-1] = 2*a*a/h; //an
				thisV[N] = (2*a*a / h) + (h/t);  //bn g(c) и delta = 0
						
				solveMatrix.push(copyV(thisV));
						
				var dn = h/t * vector0[N] - phi_l(curT)*(2*a*a / gamma); //b = 0
						
				solveVector.push(dn); //d1
			}
					
			var the_vector = progonka(solveMatrix, solveVector);
					
					
			for (var j = 0 ; j <= N ; ++j) {
			
				maxVals[i] = (the_vector[j] > maxVals[i] ? the_vector[j] : maxVals[i]);
				minVals[i] = (the_vector[j] < minVals[i] ? the_vector[j] : minVals[i]);
				
				maxMaxVal = (maxVals[i] > maxMaxVal ? maxVals[i] : maxMaxVal);
				minMinVal = (minVals[i] < minMinVal ? minVals[i] : minMinVal);
					
			}
			
			return copyV(the_vector);
		}
		
		
		
		this.beginBtn.addEventListener("click", beginSimulation.bind(this));
		function beginSimulation() {
			generation += 1;
			s_cur = 0;
			etalon = [];
			solve = [];
			maxMaxVal = 1;
			minMinVal = 0;
		
			maxVals = [];
			minVals = [];
			
			xVector = [];
			tVector = [];
			
			for (var j = 0 ; j <= N ; ++j) {
				xVector.push(h * j);
			}
			for (var i = 0 ; i <= K ; ++i) {
				var timeVector = [];
				var this_t = t * i;
				tVector.push(this_t);
				var this_max = 0;
				var this_min = 0;
				for (var j = 0 ; j <= N ; ++j) {
					var this_x = xVector[j];
					var func_res = U(this_x, this_t);
					if (j == 0) {
						this_max = func_res;
						this_min = func_res;
					}
					else {
						this_max = (func_res > this_max ? func_res : this_max);
						this_min = (func_res < this_min ? func_res : this_min);
					}
					timeVector.push(func_res);
				}
				etalon.push(timeVector);
				maxVals.push(this_max);
				minVals.push(this_min);
				if (i == 0) {
					maxMaxVal = this_max;
					minMinVal = this_min;
				}
				else {
					maxMaxVal = (this_max > maxMaxVal ? this_max : maxMaxVal);
					minMinVal = (this_min < minMinVal ? this_min : minMinVal);
				}
			}
			//задаем начальное условие
			var psiGrid0 = [];
			var emptV = [];
			for (var j = 0 ; j <= N ; ++j) {
				psiGrid0.push(psi(xVector[j]));
				emptV.push(0);
			}
			solve.push(psiGrid0);
			
			var vector0 = psiGrid0;
			var vector1 = copyV(emptV);
			
			//scheme 1
			if (scheme_type == 1) {
				
				for (var i = 1 ; i <= K ; ++i) {
					
					var resV = explicit_step(i, vector0, vector1);
					
					solve.push(copyV(resV));
					
					vector0 = copyV(resV);
					vector1 = copyV(emptV);
					
				}
				
			}
			else if (scheme_type == 2) {
				
				for (var i = 1 ; i <= K ; ++i) {
					
					var resV = implicit_step(i, vector0, vector1);
					
					solve.push(copyV(resV));
					
					vector0 = copyV(resV);
					vector1 = copyV(emptV);
						
				}
			}
			
			else if (scheme_type == 3) {
				
				for (var i = 1 ; i <= K ; ++i) {
					
					var resV1 = explicit_step(i, vector0, vector1);
					var resV2 = implicit_step(i, vector0, vector1);
					
					var totalV = [];
					
					for (var y = 0 ; y < resV1.length ; ++y) {
						var resT = 0.5*resV1[y] + 0.5*resV2[y];
						totalV.push(resT);
					}
					
					solve.push(copyV(totalV));
					
					vector0 = copyV(totalV);
					vector1 = copyV(emptV);
						
				}
			}
			
			
			// error
			
			
			absolute_error = [];
			relative_error = [];
			maxMaxValE1 = 1;
			minMinValE1 = 0;
			maxMaxValE2 = 1;
			minMinValE2 = 0;
		
			maxValsE1 = [];
			minValsE1 = [];
			maxValsE2 = [];
			minValsE2 = [];
			
			EotT = [];
			
			for (var i = 0 ; i <= K ; ++i) {
				var timeVector1 = [];
				var timeVector2 = [];
				var this_t = t * i;
				var this_max1 = 0;
				var this_min1 = 0;
				
				var this_max2 = 0;
				var this_min2 = 0;
				
				for (var j = 0 ; j <= N ; ++j) {
					var this_x = xVector[j];
					
					var err1 = solve[i][j] - etalon[i][j];
					var err2 = 0;
					if (Math.abs(etalon[i][j]) > 0.1) {
						err2 = Math.abs(1 - solve[i][j]/etalon[i][j]);
					}
					else {
						err2 = Math.abs(1 - (solve[i][j]+0.2)/(etalon[i][j] + 0.2));
					}
					
					if (j == 0) {
						this_max1 = err1;
						this_min1 = err1;
						
						this_max2 = err2;
						this_min2 = err2;
					}
					else {
						this_max1 = (err1 > this_max1 ? err1 : this_max1);
						this_min1 = (err1 < this_min1 ? err1 : this_min1);
						
						this_max2 = (err2 > this_max2 ? err2 : this_max2);
						this_min2 = (err2 < this_min2 ? err2 : this_min2);
					}
					timeVector1.push(err1);
					timeVector2.push(err2);
				}
				
				absolute_error.push(timeVector1);
				relative_error.push(timeVector2);
				
				maxValsE1.push(this_max1);
				minValsE1.push(this_min1);
				
				maxValsE2.push(this_max2);
				minValsE2.push(this_min2);
				
				
				if (i == 0) {
					maxMaxValE1 = this_max1;
					minMinValE1 = this_min1;
					
					maxMaxValE2 = this_max2;
					minMinValE2 = this_min2;
					
					var stepEot = Math.max(maxMaxValE1, Math.abs(minMinValE1));
					
					EotT.push(stepEot);
					
					minEotT = stepEot;
					maxEotT = stepEot;
				}
				else {
					maxMaxValE1 = (this_max1 > maxMaxValE1 ? this_max1 : maxMaxValE1);
					minMinValE1 = (this_min1 < minMinValE1 ? this_min1 : minMinValE1);
					
					var stepEot = Math.max(this_max1, Math.abs(this_min1));
		
					minEotT = (stepEot < minEotT ? stepEot : minEotT);
					maxEotT = (stepEot > maxEotT ? stepEot : maxEotT);
					
					EotT.push(stepEot);
					
					
					
					maxMaxValE2 = (this_max2 > maxMaxValE2 ? this_max2 : maxMaxValE2);
					minMinValE2 = (this_min2 < minMinValE2 ? this_min2 : minMinValE2);
				}
			}
			
			
			
			makeEtalonGraph();
			makeSolveGraph();
			makeErrorGraph();
			makeErrorTGraph();
			
			go = true;
		}
		
		function transfX(x) {
			var newX = 60 + (567 * (x / l));
			return newX;
		}
		
		function transfY(y) {
			var newY = 0;
			if (maxVals.length > 0 && scale_type == 2) {
				newY = 418.6 - (382.6 * (y - minVals[s_cur])/(maxVals[s_cur] - minVals[s_cur]));
			}
			else {
				newY = 418.6 - (382.6 * (y - minMinVal)/(maxMaxVal - minMinVal));
			}
			return newY;
		}
		
		
		function transfEX(x) {
			var newX = 60.6 + (344.2 * (x / l));
			return newX;
		}
		
		function transfE2X(x) {
			var newX = 60.6 + (344.2 * (x / T));
			return newX;
		}
		
		function transfEY(y) {
			var newY = 0;
			if (maxValsE.length > 0 && scale_type == 2) {
				newY = 700 - (231 * (y - minValsE[s_cur])/(maxValsE[s_cur] - minValsE[s_cur]));
			}
			else {
				newY = 700 - (231 * (y - minMinValE)/(maxMaxValE - minMinValE));
			}
			return newY;
		}
		
		function transfE2Y(y) {
			var newY = 0;
			newY = 700 - (231 * (y - minEotT)/(maxEotT - minEotT));
			
			return newY;
		}
		
		
		function makeEtalonGraph() {
			for (var i = 0 ; i < N ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(xVector[i]);
				join.y = transfY(etalon[0][i]);
				join.endX = transfX(xVector[i+1]);
				join.endY = transfY(etalon[0][i+1]);
				
				join.gotoAndStop(0);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses);
			}
			
		}
		
		function makeSolveGraph() {
			for (var i = 0 ; i < N ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(xVector[i]);
				join.y = transfY(solve[0][i]);
				join.endX = transfX(xVector[i+1]);
				join.endY = transfY(solve[0][i+1]);
				
				join.gotoAndStop(1);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses2);
			}
			
		}
		
		function makeErrorGraph() {
			setError();
			for (var i = 0 ; i < N ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfEX(xVector[i]);
				join.y = transfEY(errorGraph[0][i]);
				join.endX = transfEX(xVector[i+1]);
				join.endY = transfEY(errorGraph[0][i+1]);
				
				join.gotoAndStop(3);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses3);
			}
			
		}
		
		function makeErrorTGraph() {
			for (var i = 0 ; i < K ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfE2X(tVector[i]);
				join.y = transfE2Y(EotT[i]);
				join.endX = transfE2X(tVector[i+1]);
				join.endY = transfE2Y(tVector[i+1]);
				
				join.gotoAndStop(3);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses4);
			}
			
		}
		
		function setPoses(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(xVector[object.num]);
				object.y = transfY(etalon[s_cur][object.num]);
				object.endX = transfX(xVector[object.num+1]);
				object.endY = transfY(etalon[s_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
							
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses2(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(xVector[object.num]);
				object.y = transfY(solve[s_cur][object.num]);
				object.endX = transfX(xVector[object.num+1]);
				object.endY = transfY(solve[s_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
							
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses2);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses3(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfEX(xVector[object.num]);
				object.y = transfEY(errorGraph[s_cur][object.num]);
				object.endX = transfEX(xVector[object.num+1]);
				object.endY = transfEY(errorGraph[s_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
							
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (pogr_type <= 2) {
				object.visible = true;
			}
			else {
				object.visible = false;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses3);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses4(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfE2X(tVector[object.num]);
				object.y = transfE2Y(EotT[object.num]);
				object.endX = transfE2X(tVector[object.num+1]);
				object.endY = transfE2Y(EotT[object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
							
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (pogr_type == 3) {
				object.visible = true;
			}
			else {
				object.visible = false;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses4);
				stage.removeChild(object);
			}
			
		}
		
		
		
		
		
		
		
		
		//метод прогонки
		function progonka(matrix, vectorB) {
			var vectorX = [];
			
			var N = vectorB.length;
			
			var alphas = [];
			var betas = [];
			
			
			for (var i = 0 ; i < vectorB.length ; ++i) {
				alphas.push(0);
				betas.push(0);
			}
		
			//Прямой ход прогонки
		
			for (var i = 0; i < N; ++i) {
				var A0, C0, B0, F0;
		
				if (i - 1 < 0) {
					A0 = 0;
				}
				else {
					A0 = matrix[i][i - 1];
				}
		
				C0 = -1 * matrix[i][i];
		
				if (i + 1 < N) {
					B0 = matrix[i][i + 1];
				}
				else {
					B0 = 0;
				}
		
				F0 = vectorB[i];
		
		
				if (i == 0) {
					alphas[i] = B0 / C0;
					betas[i] = -(F0 / C0);
				}
				else if (i == N - 1) {
					alphas[i] = 0;
					betas[i] = (betas[i - 1] * A0 - F0) / (C0 - alphas[i - 1] * A0);
				}
				else {
					alphas[i] = B0 / (C0 - alphas[i - 1] * A0);
					betas[i] = (betas[i - 1] * A0 - F0) / (C0 - alphas[i - 1] * A0);
				}
		
			}
		
		
			vectorX[N - 1] = betas[N - 1];
		
			for (var i = 2; i <= N; ++i) {
				vectorX[N - i] = alphas[N - i] * vectorX[N - i + 1] + betas[N - i];
			}
			
			return vectorX;
		}
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));

	// Lab5
	this.text = new cjs.Text("Сигма", "bold 8px 'Arial'");
	this.text.textAlign = "center";
	this.text.lineHeight = 11;
	this.text.parent = this;
	this.text.setTransform(805.1309,110.45,1.4997,1.4997);

	this.sig_text = new cjs.Text("σ = 0.01", "bold 8px 'Arial'", "#006666");
	this.sig_text.name = "sig_text";
	this.sig_text.textAlign = "center";
	this.sig_text.lineHeight = 11;
	this.sig_text.lineWidth = 77;
	this.sig_text.parent = this;
	this.sig_text.setTransform(803.95,131.6,2.1481,2.1481);

	this.axisDown = new lib.axisDownTT();
	this.axisDown.name = "axisDown";
	this.axisDown.setTransform(383.15,418.6,1,1,0,0,0,320.5,0);

	this.SRight5 = new lib.chalNext();
	this.SRight5.name = "SRight5";
	this.SRight5.setTransform(864.95,690.65,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight5, 0, 1, 2);

	this.SLeft5 = new lib.chalNext();
	this.SLeft5.name = "SLeft5";
	this.SLeft5.setTransform(838.75,690.65,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft5, 0, 1, 2);

	this.text_1 = new cjs.Text("Масштаб графика", "bold 8px 'Arial'");
	this.text_1.textAlign = "center";
	this.text_1.lineHeight = 11;
	this.text_1.lineWidth = 167;
	this.text_1.parent = this;
	this.text_1.setTransform(693.3283,659.1,1.4997,1.4997);

	this.scale_text = new cjs.Text("Макс. Фиксированный", "bold 7px 'Arial'");
	this.scale_text.name = "scale_text";
	this.scale_text.textAlign = "center";
	this.scale_text.lineHeight = 10;
	this.scale_text.lineWidth = 116;
	this.scale_text.parent = this;
	this.scale_text.setTransform(692.9327,682.15,2.1481,2.1481);

	this.SRight4 = new lib.chalNext();
	this.SRight4.name = "SRight4";
	this.SRight4.setTransform(864.95,636.55,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight4, 0, 1, 2);

	this.SLeft4 = new lib.chalNext();
	this.SLeft4.name = "SLeft4";
	this.SLeft4.setTransform(838.75,636.55,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft4, 0, 1, 2);

	this.text_2 = new cjs.Text("График погрешности", "bold 8px 'Arial'");
	this.text_2.textAlign = "center";
	this.text_2.lineHeight = 11;
	this.text_2.lineWidth = 167;
	this.text_2.parent = this;
	this.text_2.setTransform(693.3283,605,1.4997,1.4997);

	this.pogr_text = new cjs.Text("Относительная погрешность", "bold 7px 'Arial'");
	this.pogr_text.name = "pogr_text";
	this.pogr_text.textAlign = "center";
	this.pogr_text.lineHeight = 10;
	this.pogr_text.lineWidth = 124;
	this.pogr_text.parent = this;
	this.pogr_text.setTransform(691.3045,628.65,2.0295,2.0295);

	this.line = new lib.line();
	this.line.name = "line";
	this.line.setTransform(232.9,805,15.8702,0.6);

	this.divUp7err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp7err.name = "divUp7err";
	this.divUp7err.textAlign = "right";
	this.divUp7err.lineHeight = 31;
	this.divUp7err.lineWidth = 123;
	this.divUp7err.parent = this;
	this.divUp7err.setTransform(55.05,460.8,0.3719,0.3719);

	this.divUp6err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp6err.name = "divUp6err";
	this.divUp6err.textAlign = "right";
	this.divUp6err.lineHeight = 31;
	this.divUp6err.lineWidth = 123;
	this.divUp6err.parent = this;
	this.divUp6err.setTransform(55.05,494.3,0.3719,0.3719);

	this.divUp5err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp5err.name = "divUp5err";
	this.divUp5err.textAlign = "right";
	this.divUp5err.lineHeight = 31;
	this.divUp5err.lineWidth = 123;
	this.divUp5err.parent = this;
	this.divUp5err.setTransform(55.05,527.8,0.3719,0.3719);

	this.divUp4err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp4err.name = "divUp4err";
	this.divUp4err.textAlign = "right";
	this.divUp4err.lineHeight = 31;
	this.divUp4err.lineWidth = 123;
	this.divUp4err.parent = this;
	this.divUp4err.setTransform(55.05,561.35,0.3719,0.3719);

	this.divUp3err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp3err.name = "divUp3err";
	this.divUp3err.textAlign = "right";
	this.divUp3err.lineHeight = 31;
	this.divUp3err.lineWidth = 123;
	this.divUp3err.parent = this;
	this.divUp3err.setTransform(55.05,594.8,0.3719,0.3719);

	this.divUp2err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp2err.name = "divUp2err";
	this.divUp2err.textAlign = "right";
	this.divUp2err.lineHeight = 31;
	this.divUp2err.lineWidth = 123;
	this.divUp2err.parent = this;
	this.divUp2err.setTransform(55.05,628.3,0.3723,0.3723);

	this.divUp1err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp1err.name = "divUp1err";
	this.divUp1err.textAlign = "right";
	this.divUp1err.lineHeight = 31;
	this.divUp1err.lineWidth = 123;
	this.divUp1err.parent = this;
	this.divUp1err.setTransform(55.05,661.85,0.3719,0.3719);

	this.divUp0err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp0err.name = "divUp0err";
	this.divUp0err.textAlign = "right";
	this.divUp0err.lineHeight = 31;
	this.divUp0err.lineWidth = 123;
	this.divUp0err.parent = this;
	this.divUp0err.setTransform(55.05,695.35,0.3715,0.3715);

	this.divDown6err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown6err.name = "divDown6err";
	this.divDown6err.textAlign = "center";
	this.divDown6err.lineHeight = 31;
	this.divDown6err.lineWidth = 123;
	this.divDown6err.parent = this;
	this.divDown6err.setTransform(406.55,702.2,0.3698,0.3698);

	this.divDown5err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown5err.name = "divDown5err";
	this.divDown5err.textAlign = "center";
	this.divDown5err.lineHeight = 31;
	this.divDown5err.lineWidth = 123;
	this.divDown5err.parent = this;
	this.divDown5err.setTransform(349.2,702.2,0.3698,0.3698);

	this.divDown4err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown4err.name = "divDown4err";
	this.divDown4err.textAlign = "center";
	this.divDown4err.lineHeight = 31;
	this.divDown4err.lineWidth = 123;
	this.divDown4err.parent = this;
	this.divDown4err.setTransform(291.85,702.2,0.3701,0.3701);

	this.divDown3err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown3err.name = "divDown3err";
	this.divDown3err.textAlign = "center";
	this.divDown3err.lineHeight = 31;
	this.divDown3err.lineWidth = 123;
	this.divDown3err.parent = this;
	this.divDown3err.setTransform(234.5,702.2,0.3701,0.3701);

	this.divDown2err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown2err.name = "divDown2err";
	this.divDown2err.textAlign = "center";
	this.divDown2err.lineHeight = 31;
	this.divDown2err.lineWidth = 123;
	this.divDown2err.parent = this;
	this.divDown2err.setTransform(177.3,702.2,0.3698,0.3698);

	this.divDown1err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown1err.name = "divDown1err";
	this.divDown1err.textAlign = "center";
	this.divDown1err.lineHeight = 31;
	this.divDown1err.lineWidth = 123;
	this.divDown1err.parent = this;
	this.divDown1err.setTransform(119.95,702.15,0.3706,0.3706);

	this.divDown0err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown0err.name = "divDown0err";
	this.divDown0err.textAlign = "center";
	this.divDown0err.lineHeight = 31;
	this.divDown0err.lineWidth = 123;
	this.divDown0err.parent = this;
	this.divDown0err.setTransform(62.55,702.2,0.3701,0.3701);

	this.instance = new lib.dividions();
	this.instance.setTransform(231.95,585.1,0.6065,0.6065,0,0,0,287.2,194.2);

	this.instance_1 = new lib.graphGrid();
	this.instance_1.setTransform(445,472.9,0.6065,0.6065,0,0,0,9.4,9.3);

	this.axisLeftErr = new lib.axisLeft();
	this.axisLeftErr.name = "axisLeftErr";
	this.axisLeftErr.setTransform(61.9,584.15,0.6065,0.6065,0,0,0,0.1,190.3);

	this.axisDownErr = new lib.axisDown();
	this.axisDownErr.name = "axisDownErr";
	this.axisDownErr.setTransform(256.25,699.7,0.6065,0.6065,0,0,0,320.5,0.1);

	this.instance_2 = new lib.graphBG();
	this.instance_2.setTransform(256.3,582.65,0.6065,0.6065,0,0,0,320.6,190.3);

	this.graphName = new cjs.Text("График ошибки", "bold 25px 'Consolas'");
	this.graphName.name = "graphName";
	this.graphName.textAlign = "center";
	this.graphName.lineHeight = 31;
	this.graphName.lineWidth = 635;
	this.graphName.parent = this;
	this.graphName.setTransform(255.5,446.7797,0.6065,0.6065);

	this.stopBtn = new lib.stopBtn();
	this.stopBtn.name = "stopBtn";
	this.stopBtn.setTransform(803.35,83,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.stopBtn, 0, 1, 2);

	this.SRight3 = new lib.chalNext();
	this.SRight3.name = "SRight3";
	this.SRight3.setTransform(878.65,83,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight3, 0, 1, 2);

	this.SLeft3 = new lib.chalNext();
	this.SLeft3.name = "SLeft3";
	this.SLeft3.setTransform(729.95,83,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft3, 0, 1, 2);

	this.step_text = new cjs.Text("t = 0.111 (шаг 10000)", "bold 6px 'Arial'");
	this.step_text.name = "step_text";
	this.step_text.textAlign = "center";
	this.step_text.lineHeight = 9;
	this.step_text.lineWidth = 77;
	this.step_text.parent = this;
	this.step_text.setTransform(805.05,43.9,2.1481,2.1481);

	this.text_3 = new cjs.Text("Момент времени", "bold 18px 'Consolas'");
	this.text_3.textAlign = "center";
	this.text_3.lineHeight = 23;
	this.text_3.lineWidth = 148;
	this.text_3.parent = this;
	this.text_3.setTransform(802.2,11.5);

	this.divUp7 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp7.name = "divUp7";
	this.divUp7.textAlign = "right";
	this.divUp7.lineHeight = 31;
	this.divUp7.lineWidth = 123;
	this.divUp7.parent = this;
	this.divUp7.setTransform(52.05,28.05,0.4126,0.4126);

	this.divUp6 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp6.name = "divUp6";
	this.divUp6.textAlign = "right";
	this.divUp6.lineHeight = 31;
	this.divUp6.lineWidth = 123;
	this.divUp6.parent = this;
	this.divUp6.setTransform(52.05,83.3,0.4126,0.4126);

	this.divUp5 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp5.name = "divUp5";
	this.divUp5.textAlign = "right";
	this.divUp5.lineHeight = 31;
	this.divUp5.lineWidth = 123;
	this.divUp5.parent = this;
	this.divUp5.setTransform(52.05,138.55,0.4126,0.4126);

	this.divUp4 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp4.name = "divUp4";
	this.divUp4.textAlign = "right";
	this.divUp4.lineHeight = 31;
	this.divUp4.lineWidth = 123;
	this.divUp4.parent = this;
	this.divUp4.setTransform(52.05,193.8,0.4126,0.4126);

	this.divUp3 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp3.name = "divUp3";
	this.divUp3.textAlign = "right";
	this.divUp3.lineHeight = 31;
	this.divUp3.lineWidth = 123;
	this.divUp3.parent = this;
	this.divUp3.setTransform(52.05,249.05,0.4126,0.4126);

	this.divUp2 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp2.name = "divUp2";
	this.divUp2.textAlign = "right";
	this.divUp2.lineHeight = 31;
	this.divUp2.lineWidth = 123;
	this.divUp2.parent = this;
	this.divUp2.setTransform(52.05,304.3,0.4126,0.4126);

	this.divUp1 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp1.name = "divUp1";
	this.divUp1.textAlign = "right";
	this.divUp1.lineHeight = 31;
	this.divUp1.lineWidth = 123;
	this.divUp1.parent = this;
	this.divUp1.setTransform(52.05,359.55,0.4126,0.4126);

	this.divUp0 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp0.name = "divUp0";
	this.divUp0.textAlign = "right";
	this.divUp0.lineHeight = 31;
	this.divUp0.lineWidth = 123;
	this.divUp0.parent = this;
	this.divUp0.setTransform(52.05,414.8,0.4126,0.4126);

	this.divDown6 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown6.name = "divDown6";
	this.divDown6.textAlign = "center";
	this.divDown6.lineHeight = 31;
	this.divDown6.lineWidth = 123;
	this.divDown6.parent = this;
	this.divDown6.setTransform(630.8,426,0.4126,0.4126);

	this.divDown5 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown5.name = "divDown5";
	this.divDown5.textAlign = "center";
	this.divDown5.lineHeight = 31;
	this.divDown5.lineWidth = 123;
	this.divDown5.parent = this;
	this.divDown5.setTransform(536.3,426,0.4126,0.4126);

	this.divDown4 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown4.name = "divDown4";
	this.divDown4.textAlign = "center";
	this.divDown4.lineHeight = 31;
	this.divDown4.lineWidth = 123;
	this.divDown4.parent = this;
	this.divDown4.setTransform(441.8,426,0.4126,0.4126);

	this.divDown3 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown3.name = "divDown3";
	this.divDown3.textAlign = "center";
	this.divDown3.lineHeight = 31;
	this.divDown3.lineWidth = 123;
	this.divDown3.parent = this;
	this.divDown3.setTransform(347.3,426,0.4126,0.4126);

	this.divDown2 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown2.name = "divDown2";
	this.divDown2.textAlign = "center";
	this.divDown2.lineHeight = 31;
	this.divDown2.lineWidth = 123;
	this.divDown2.parent = this;
	this.divDown2.setTransform(252.8,426,0.4126,0.4126);

	this.divDown1 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown1.name = "divDown1";
	this.divDown1.textAlign = "center";
	this.divDown1.lineHeight = 31;
	this.divDown1.lineWidth = 123;
	this.divDown1.parent = this;
	this.divDown1.setTransform(158.3,426,0.4126,0.4126);

	this.divDown0 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown0.name = "divDown0";
	this.divDown0.textAlign = "center";
	this.divDown0.lineHeight = 31;
	this.divDown0.lineWidth = 123;
	this.divDown0.parent = this;
	this.divDown0.setTransform(63.8,426,0.4126,0.4126);

	this.instance_3 = new lib.dividions();
	this.instance_3.setTransform(342.95,229.9,1,1,0,0,0,287.2,194.1);

	this.instance_4 = new lib.graphGrid();
	this.instance_4.setTransform(694.15,44.85,1,1,0,0,0,9.3,9.1);

	this.axisLeft = new lib.axisLeft();
	this.axisLeft.name = "axisLeft";
	this.axisLeft.setTransform(62.55,228.45,1,1,0,0,0,0,190.2);

	this.instance_5 = new lib.graphBG();
	this.instance_5.setTransform(383.05,225.95,1,1,0,0,0,320.5,190.2);

	this.graphName_1 = new cjs.Text("График функции", "bold 25px 'Consolas'");
	this.graphName_1.name = "graphName_1";
	this.graphName_1.textAlign = "center";
	this.graphName_1.lineHeight = 31;
	this.graphName_1.lineWidth = 635;
	this.graphName_1.parent = this;
	this.graphName_1.setTransform(381.85,2);

	this.beginBtn = new lib.begin_button();
	this.beginBtn.name = "beginBtn";
	this.beginBtn.setTransform(1098.25,595.9,1,1,0,0,0,90.8,19.6);
	new cjs.ButtonHelper(this.beginBtn, 0, 1, 2);

	this.SRight2 = new lib.chalNext();
	this.SRight2.name = "SRight2";
	this.SRight2.setTransform(1265.5,531.2,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight2, 0, 1, 2);

	this.SLeft2 = new lib.chalNext();
	this.SLeft2.name = "SLeft2";
	this.SLeft2.setTransform(1239.3,531.2,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft2, 0, 1, 2);

	this.text_4 = new cjs.Text("Метод аппроксимации", "bold 8px 'Arial'");
	this.text_4.textAlign = "center";
	this.text_4.lineHeight = 11;
	this.text_4.lineWidth = 170;
	this.text_4.parent = this;
	this.text_4.setTransform(1092.804,486.15,1.4997,1.4997);

	this.meth_text = new cjs.Text("Двухточечная аппроксимация с первым порядком", "bold 7px 'Arial'");
	this.meth_text.name = "meth_text";
	this.meth_text.textAlign = "center";
	this.meth_text.lineHeight = 10;
	this.meth_text.lineWidth = 116;
	this.meth_text.parent = this;
	this.meth_text.setTransform(1093.4827,511.9,2.1481,2.1481);

	this.SRight1 = new lib.chalNext();
	this.SRight1.name = "SRight1";
	this.SRight1.setTransform(1265.5,463.3,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight1, 0, 1, 2);

	this.SLeft1 = new lib.chalNext();
	this.SLeft1.name = "SLeft1";
	this.SLeft1.setTransform(1239.3,463.3,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft1, 0, 1, 2);

	this.text_5 = new cjs.Text("Схема", "bold 8px 'Arial'");
	this.text_5.textAlign = "center";
	this.text_5.lineHeight = 11;
	this.text_5.lineWidth = 25;
	this.text_5.parent = this;
	this.text_5.setTransform(1091.931,431.75,1.4997,1.4997);

	this.scheme_text = new cjs.Text("Явная конечно-разностная", "bold 7px 'Arial'");
	this.scheme_text.name = "scheme_text";
	this.scheme_text.textAlign = "center";
	this.scheme_text.lineHeight = 10;
	this.scheme_text.lineWidth = 116;
	this.scheme_text.parent = this;
	this.scheme_text.setTransform(1093.4827,454.8,2.1481,2.1481);

	this.setPurp1 = new lib.setPurp();
	this.setPurp1.name = "setPurp1";
	this.setPurp1.setTransform(1094.8,421.25,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setPurp1, 0, 1, 2);

	this.text_6 = new cjs.Text("Длительность \"тика\" (в сек.)", "bold 8px 'Arial'");
	this.text_6.textAlign = "center";
	this.text_6.lineHeight = 11;
	this.text_6.parent = this;
	this.text_6.setTransform(1090.2701,364.1,1.4997,1.4997);

	this.dt_text = new cjs.Text("dt = 25", "bold 8px 'Arial'", "#660066");
	this.dt_text.name = "dt_text";
	this.dt_text.textAlign = "center";
	this.dt_text.lineHeight = 11;
	this.dt_text.lineWidth = 77;
	this.dt_text.parent = this;
	this.dt_text.setTransform(1091.55,385.2,2.1481,2.1481);

	this.setBlue2 = new lib.setBlue();
	this.setBlue2.name = "setBlue2";
	this.setBlue2.setTransform(1187.8,355.45,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue2, 0, 1, 2);

	this.setBlue1 = new lib.setBlue();
	this.setBlue1.name = "setBlue1";
	this.setBlue1.setTransform(997.4,355.6,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue1, 0, 1, 2);

	this.text_7 = new cjs.Text("Количество \"тиков\"", "bold 8px 'Arial'");
	this.text_7.textAlign = "center";
	this.text_7.lineHeight = 11;
	this.text_7.parent = this;
	this.text_7.setTransform(1183.2896,298.3,1.4997,1.4997);

	this.text_8 = new cjs.Text("Количество шагов", "bold 8px 'Arial'");
	this.text_8.textAlign = "center";
	this.text_8.lineHeight = 11;
	this.text_8.parent = this;
	this.text_8.setTransform(995.3387,298.25,1.4997,1.4997);

	this.K_text = new cjs.Text("K = 25", "bold 8px 'Arial'", "#002266");
	this.K_text.name = "K_text";
	this.K_text.textAlign = "center";
	this.K_text.lineHeight = 11;
	this.K_text.lineWidth = 77;
	this.K_text.parent = this;
	this.K_text.setTransform(1184.55,319.4,2.1481,2.1481);

	this.N_text = new cjs.Text("N = 15", "bold 8px 'Arial'", "#002266");
	this.N_text.name = "N_text";
	this.N_text.textAlign = "center";
	this.N_text.lineHeight = 11;
	this.N_text.lineWidth = 77;
	this.N_text.parent = this;
	this.N_text.setTransform(994.15,319.4,2.1481,2.1481);

	this.setGreen2 = new lib.setGreen();
	this.setGreen2.name = "setGreen2";
	this.setGreen2.setTransform(1187.85,290.25,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen2, 0, 1, 2);

	this.setGreen1 = new lib.setGreen();
	this.setGreen1.name = "setGreen1";
	this.setGreen1.setTransform(997.45,290.4,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen1, 0, 1, 2);

	this.text_9 = new cjs.Text("Макс. время", "bold 8px 'Arial'");
	this.text_9.textAlign = "center";
	this.text_9.lineHeight = 11;
	this.text_9.parent = this;
	this.text_9.setTransform(1183.3098,232.05,1.4997,1.4997);

	this.text_10 = new cjs.Text("Длина", "bold 8px 'Arial'");
	this.text_10.textAlign = "center";
	this.text_10.lineHeight = 11;
	this.text_10.parent = this;
	this.text_10.setTransform(995.381,232,1.4997,1.4997);

	this.T_text = new cjs.Text("T = 10", "bold 8px 'Arial'", "#226600");
	this.T_text.name = "T_text";
	this.T_text.textAlign = "center";
	this.T_text.lineHeight = 11;
	this.T_text.lineWidth = 77;
	this.T_text.parent = this;
	this.T_text.setTransform(1184.6,254.2,2.1481,2.1481);

	this.l_text = new cjs.Text("l = 12.05", "bold 8px 'Arial'", "#226600");
	this.l_text.name = "l_text";
	this.l_text.textAlign = "center";
	this.l_text.lineHeight = 11;
	this.l_text.lineWidth = 77;
	this.l_text.parent = this;
	this.l_text.setTransform(994.2,254.2,2.1481,2.1481);

	this.text_11 = new cjs.Text("Шаг по времени", "bold 8px 'Arial'");
	this.text_11.textAlign = "center";
	this.text_11.lineHeight = 11;
	this.text_11.parent = this;
	this.text_11.setTransform(1183.2623,181.95,1.4997,1.4997);

	this.text_12 = new cjs.Text("Шаг по пространству", "bold 8px 'Arial'");
	this.text_12.textAlign = "center";
	this.text_12.lineHeight = 11;
	this.text_12.parent = this;
	this.text_12.setTransform(995.3155,181.9,1.4997,1.4997);

	this.tau_text = new cjs.Text("τ = 0.01", "bold 8px 'Arial'", "#660000");
	this.tau_text.name = "tau_text";
	this.tau_text.textAlign = "center";
	this.tau_text.lineHeight = 11;
	this.tau_text.lineWidth = 77;
	this.tau_text.parent = this;
	this.tau_text.setTransform(1184.55,203.05,2.1481,2.1481);

	this.h_text = new cjs.Text("h = 0.01", "bold 8px 'Arial'", "#660000");
	this.h_text.name = "h_text";
	this.h_text.textAlign = "center";
	this.h_text.lineHeight = 11;
	this.h_text.lineWidth = 77;
	this.h_text.parent = this;
	this.h_text.setTransform(994.15,203.05,2.1481,2.1481);

	this.instance_6 = new lib.CachedBmp_48();
	this.instance_6.setTransform(1045.25,622.7,0.5,0.5);

	this.task1 = new lib.task1();
	this.task1.name = "task1";
	this.task1.setTransform(1275.6,5.05,0.7799,0.7799,0,0,0,476.7,0);

	this.instance_7 = new lib.CachedBmp_47();
	this.instance_7.setTransform(60.4,33.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_7},{t:this.task1},{t:this.instance_6},{t:this.h_text},{t:this.tau_text},{t:this.text_12},{t:this.text_11},{t:this.l_text},{t:this.T_text},{t:this.text_10},{t:this.text_9},{t:this.setGreen1},{t:this.setGreen2},{t:this.N_text},{t:this.K_text},{t:this.text_8},{t:this.text_7},{t:this.setBlue1},{t:this.setBlue2},{t:this.dt_text},{t:this.text_6},{t:this.setPurp1},{t:this.scheme_text},{t:this.text_5},{t:this.SLeft1},{t:this.SRight1},{t:this.meth_text},{t:this.text_4},{t:this.SLeft2},{t:this.SRight2},{t:this.beginBtn},{t:this.graphName_1},{t:this.instance_5},{t:this.axisLeft},{t:this.instance_4},{t:this.instance_3},{t:this.divDown0},{t:this.divDown1},{t:this.divDown2},{t:this.divDown3},{t:this.divDown4},{t:this.divDown5},{t:this.divDown6},{t:this.divUp0},{t:this.divUp1},{t:this.divUp2},{t:this.divUp3},{t:this.divUp4},{t:this.divUp5},{t:this.divUp6},{t:this.divUp7},{t:this.text_3},{t:this.step_text},{t:this.SLeft3},{t:this.SRight3},{t:this.stopBtn},{t:this.graphName},{t:this.instance_2},{t:this.axisDownErr},{t:this.axisLeftErr},{t:this.instance_1},{t:this.instance},{t:this.divDown0err},{t:this.divDown1err},{t:this.divDown2err},{t:this.divDown3err},{t:this.divDown4err},{t:this.divDown5err},{t:this.divDown6err},{t:this.divUp0err},{t:this.divUp1err},{t:this.divUp2err},{t:this.divUp3err},{t:this.divUp4err},{t:this.divUp5err},{t:this.divUp6err},{t:this.divUp7err},{t:this.line},{t:this.pogr_text},{t:this.text_2},{t:this.SLeft4},{t:this.SRight4},{t:this.scale_text},{t:this.text_1},{t:this.SLeft5},{t:this.SRight5},{t:this.axisDown},{t:this.sig_text},{t:this.text}]}).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(640.5,360,638.8,445.70000000000005);
// library properties:
lib.properties = {
	id: 'CE111B888947574DA9C363ECE12B7BC4',
	width: 1280,
	height: 720,
	fps: 60,
	color: "#FFFFFF",
	opacity: 1.00,
	manifest: [
		{src:"images/CachedBmp_47.png?1611290529498", id:"CachedBmp_47"},
		{src:"images/index_atlas_.png?1611290529446", id:"index_atlas_"},
		{src:"images/index_atlas_2.png?1611290529447", id:"index_atlas_2"}
	],
	preloads: []
};



// bootstrap callback support:

(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.StageGL();

p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }

p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }

an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}

an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};

an.compositions = an.compositions || {};
an.compositions['CE111B888947574DA9C363ECE12B7BC4'] = {
	getStage: function() { return exportRoot.stage; },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};

an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}

an.getComposition = function(id) {
	return an.compositions[id];
}


an.makeResponsive = function(isResp, respDim, isScale, scaleType, domContainers) {		
	var lastW, lastH, lastS=1;		
	window.addEventListener('resize', resizeCanvas);		
	resizeCanvas();		
	function resizeCanvas() {			
		var w = lib.properties.width, h = lib.properties.height;			
		var iw = window.innerWidth, ih=window.innerHeight;			
		var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
		if(isResp) {                
			if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
				sRatio = lastS;                
			}				
			else if(!isScale) {					
				if(iw<w || ih<h)						
					sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==1) {					
				sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==2) {					
				sRatio = Math.max(xRatio, yRatio);				
			}			
		}			
		domContainers[0].width = w * pRatio * sRatio;			
		domContainers[0].height = h * pRatio * sRatio;			
		domContainers.forEach(function(container) {				
			container.style.width = w * sRatio + 'px';				
			container.style.height = h * sRatio + 'px';			
		});			
		stage.scaleX = pRatio*sRatio;			
		stage.scaleY = pRatio*sRatio;			
		lastW = iw; lastH = ih; lastS = sRatio;            
		stage.tickOnUpdate = false;            
		stage.update();            
		stage.tickOnUpdate = true;		
	}
}


})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;