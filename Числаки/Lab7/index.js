(function (cjs, an) {

var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"index_atlas_", frames: [[0,0,1289,771],[0,773,1282,761]]},
		{name:"index_atlas_2", frames: [[1155,0,749,340],[1906,0,96,93],[1906,95,96,93],[1906,190,96,93],[1886,820,156,34],[1773,680,161,33],[1886,856,156,34],[1773,715,161,33],[742,906,156,34],[1773,750,161,33],[1754,462,178,39],[1754,342,183,38],[1754,503,178,39],[1754,382,183,38],[1754,544,178,39],[1754,422,183,38],[900,906,156,34],[1773,785,161,33],[1058,906,156,34],[1723,820,161,33],[1216,906,156,34],[1723,855,161,33],[1374,906,156,34],[742,859,161,33],[1532,906,156,34],[905,859,161,33],[1690,906,156,34],[1068,859,161,33],[2016,207,32,64],[2016,113,32,92],[2016,0,32,111],[2016,273,32,64],[0,0,1153,780],[1773,585,74,93],[1849,585,74,93],[1925,585,74,93],[1352,815,369,77],[0,859,369,77],[371,859,369,77],[2004,0,10,771],[0,815,1350,42],[742,894,1292,10],[1155,623,616,190],[1155,342,597,279]]}
];


// symbols:



(lib.CachedBmp_46 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_45 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_44 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_43 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_42 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_41 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_40 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_39 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_38 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_37 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_36 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_35 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_34 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_33 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_32 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_31 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_30 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_29 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_28 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_27 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_26 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_25 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_24 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_23 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_22 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_21 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_20 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(26);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_19 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(27);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_18 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(28);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_17 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(29);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_16 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(30);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_15 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(31);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_14 = function() {
	this.initialize(ss["index_atlas_"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_13 = function() {
	this.initialize(ss["index_atlas_"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_12 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(32);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_11 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(33);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_10 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(34);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_9 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(35);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_8 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(36);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_7 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(37);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_6 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(38);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_5 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(39);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_4 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(40);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_3 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(41);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_2 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(42);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_1 = function() {
	this.initialize(img.CachedBmp_1);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,2425,1332);


(lib.Растровоеизображение3 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(43);
}).prototype = p = new cjs.Sprite();
// helper functions:

function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}

function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}


(lib.task2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.Растровоеизображение3();
	this.instance.setTransform(10,3,0.5851,0.5717);

	this.instance_1 = new lib.CachedBmp_46();
	this.instance_1.setTransform(-2,-2,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.task2, new cjs.Rectangle(-2,-2,374.5,170), null);


(lib.stopBtn = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_43();
	this.instance.setTransform(-7,-1.5,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_44();
	this.instance_1.setTransform(-6.9,-1.5,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_45();
	this.instance_2.setTransform(-7,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-7,-1.5,48.1,46.5);


(lib.setPurp = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_38();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_37();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_40();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_39();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_42();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_41();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.setMag1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_32();
	this.instance.setTransform(0,0,0.3927,0.3927);

	this.instance_1 = new lib.CachedBmp_31();
	this.instance_1.setTransform(-0.95,0.6,0.3927,0.3927);

	this.instance_2 = new lib.CachedBmp_34();
	this.instance_2.setTransform(0,0,0.3927,0.3927);

	this.instance_3 = new lib.CachedBmp_33();
	this.instance_3.setTransform(-0.95,0.6,0.3927,0.3927);

	this.instance_4 = new lib.CachedBmp_36();
	this.instance_4.setTransform(0,0,0.3927,0.3927);

	this.instance_5 = new lib.CachedBmp_35();
	this.instance_5.setTransform(-0.95,0.6,0.3927,0.3927);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,0,71.80000000000001,15.5);


(lib.setGreen = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_26();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_25();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_28();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_27();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_30();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_29();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.setBlue = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_20();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_19();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_22();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_21();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_24();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_23();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.line = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_15();
	this.instance.setTransform(0,-0.95,0.0315,0.0315);

	this.instance_1 = new lib.CachedBmp_16();
	this.instance_1.setTransform(0,-1.7,0.0315,0.0315);

	this.instance_2 = new lib.CachedBmp_17();
	this.instance_2.setTransform(0,-1.4,0.0315,0.0315);

	this.instance_3 = new lib.CachedBmp_18();
	this.instance_3.setTransform(0,-0.95,0.0315,0.0315);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,-1.7,1,3.5);


(lib.graphGrid = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_14();
	this.instance.setTransform(-623.35,-0.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.graphGrid, new cjs.Rectangle(-623.3,-0.5,644.5,385.5), null);


(lib.graphBG = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_13();
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.graphBG, new cjs.Rectangle(0,0,641,380.5), null);


(lib.dividions = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_12();
	this.instance.setTransform(-1,-1,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.dividions, new cjs.Rectangle(-1,-1,576.5,390), null);


(lib.chalNext = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_9();
	this.instance.setTransform(-1.5,-1.5,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_10();
	this.instance_1.setTransform(-1.5,-1.5,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_11();
	this.instance_2.setTransform(-1.5,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1.5,-1.5,37,46.5);


(lib.begin_button = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.text = new cjs.Text("Погнали?", "bold 15px 'Consolas'");
	this.text.textAlign = "center";
	this.text.lineHeight = 20;
	this.text.lineWidth = 101;
	this.text.parent = this;
	this.text.setTransform(90.3077,3.4,1.7167,1.7028);

	this.instance = new lib.CachedBmp_6();
	this.instance.setTransform(-1.5,0.55,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_7();
	this.instance_1.setTransform(-1.5,0.55,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_8();
	this.instance_2.setTransform(-1.5,0.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.text}]}).to({state:[{t:this.instance_1},{t:this.text}]},1).to({state:[{t:this.instance_2},{t:this.text}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1.5,0,184.5,39.1);


(lib.axisLeft = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_5();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisLeft, new cjs.Rectangle(-2.5,-2.5,5,385.5), null);


(lib.axisDownTT = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.axisTp = new cjs.Text("X", "bold 13px 'Arial'");
	this.axisTp.name = "axisTp";
	this.axisTp.textAlign = "center";
	this.axisTp.lineHeight = 17;
	this.axisTp.lineWidth = 29;
	this.axisTp.parent = this;
	this.axisTp.setTransform(688.2,-15.85,2.2169,2.2169);

	this.instance = new lib.CachedBmp_4();
	this.instance.setTransform(-2.5,-10.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.axisTp}]}).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisDownTT, new cjs.Rectangle(-2.5,-20.3,727.5,41.1), null);


(lib.axisDown = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_3();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisDown, new cjs.Rectangle(-2.5,-2.5,646,5), null);


// stage content:
(lib.index = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	this.isSingleFrame = false;
	// timeline functions:
	this.frame_0 = function() {
		if(this.isSingleFrame) {
			return;
		}
		if(this.totalFrames == 1) {
			this.isSingleFrame = true;
		}
		this.gotoAndStop(2);
		
		var alpha = 0; //α
		var beta = 1; //β
		var gamma = 0; //γ
		var delta = 1; //δ
		
		//Обозначим все как граничные условия 3 рода
		
		function phi_x0(y) {
			return Math.cos(y);
		}
		
		function phi_xl(y) {
			return 0;
		}
		
		function phi_y0(x) {
			return Math.cos(x);
		}
		
		function phi_yl(x) {
			return 0;
		}
		
		
		
		function U(x, y) {
			return Math.cos(x) * Math.cos(y);
		} //Аналитическое решение
		
		
		//Параметры сетки
		var lx = 3.1415926535/2; //интервал x
		var Nx = 20; //количество шагов x
		var Ny = 20; //количество шагов y
		var ly = 3.1415926535/2; //интервал y
		
		var hx = 0; var hy = 0;
		
		var a = 1; var b = 2; var c = -3;
		
		var s1_cur = 0; //по y
		var s2_cur = 0; //по x
		
		var dt = 0.02; //длительность тика
		var cur_tick = 0;
		
		
		var generation = 0; //номер генерации
		var go = false; //увеличивать счетчик тиков?
		
		
		var setupType = 1;
		//1 срез по y
		//2 срез по x
		
		var eps = 0.01;
		//Количество итераций
		
		
		this.addEventListener("tick", det_ht.bind(this));
		function det_ht() {
			hx = lx / Nx;
			hy = ly / Ny;
			
			//определяем шаги по времени и пространству
			
			this.h_text.text = "hx = " + Math.round(hx * 100000)/100000;
			this.tau_text.text = "hy = " + Math.round(hy * 100000)/100000;
			
			this.l_text.text = "lx = " + Math.round(lx * 100000)/100000;
			this.T_text.text = "ly = " + Math.round(ly * 100000)/100000;
			
			this.N_text.text = "Nx = " + Math.round(Nx);
			this.K_text.text = "Ny = " + Math.round(Ny);
			
			this.dt_text.text = "dt = " + Math.round(dt*1000)/1000;
			
			this.om_text.text = "ω = " + Math.round(relax*1000)/1000;
			this.it_text.text = "ξ = " + Math.round(eps*1000000)/1000000;
			
			if (setupType == 1) {
				if (go) {
					cur_tick += 1/60;
					if (cur_tick >= dt && s1_cur < Ny) {
						var tGot = Math.floor(cur_tick / dt);
						cur_tick %= dt;
						s1_cur += Math.min(Ny - s1_cur, tGot);
					}
					else if (s1_cur == Ny) {
						go = false;
					}
				}
			}
			else if (setupType == 2) {
				if (go) {
					cur_tick += 1/60;
					if (cur_tick >= dt && s2_cur < Nx) {
						var tGot = Math.floor(cur_tick / dt);
						cur_tick %= dt;
						s2_cur += Math.min(Nx - s2_cur, tGot);
					}
					else if (s2_cur == Nx) {
						go = false;
					}
				}
			}
			
		}
		
		
		
		
		this.setGreen1.addEventListener("click", set_l_prompt.bind(this));
		function set_l_prompt() {
			generation += 1;
			var temp = prompt("Введите lx:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = lx;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			lx = temp;
		}
		
		
		
		this.setGreen2.addEventListener("click", set_T_prompt.bind(this));
		function set_T_prompt() {
			generation += 1;
			var temp = prompt("Введите ly:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = ly;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			ly = temp;
		}
		
		
		this.setBlue1.addEventListener("click", set_N_prompt.bind(this));
		function set_N_prompt() {
			generation += 1;
			var temp = prompt("Введите Nx:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = Nx;
			}
			else if (temp > 200) {
				//ограничение на величину
				temp = 200;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			Nx = temp;
		}
		
		
		this.setBlue2.addEventListener("click", set_K_prompt.bind(this));
		function set_K_prompt() {
			generation += 1;
			var temp = prompt("Введите Ny:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = Ny;
			}
			else if (temp > 200) {
				//ограничение на величину
				temp = 200;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			Ny = temp;
		}
		
		
		this.setPurp1.addEventListener("click", set_dt_prompt.bind(this));
		function set_dt_prompt() {
			cur_tick = 0;
			var temp = prompt("Введите dt (для ручного переключения можно ввести очень большим):", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = dt;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp < 0.02) {
				//всегда положительно и больше 0.2 (почти плавная смена графика)
				temp = 0.02;
			}
			dt = temp;
		}
		
		
		this.setMag1.addEventListener("click", set_omega_prompt.bind(this));
		function set_omega_prompt() {
			generation += 1;
			var temp = prompt("Введите ω:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = relax;
			}
			else if (temp > 1.99) {
				//ограничение на величину
				temp = 1.99;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			relax = temp;
		}
		
		
		this.setMag2.addEventListener("click", set_i_prompt.bind(this));
		function set_i_prompt() {
			generation += 1;
			var temp = prompt("Введите ξ:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = eps;
			}
			else if (temp > 10) {
				//ограничение на величину
				temp = 10;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.00000001;
			}
			eps = temp;
		}
		
		//Тип схемы - центрально-разностная
		//1,2 - Явная/Неявная схема
		
		var relax = 1; //параметр релаксации
		
		
		var meth_type = 1;
		//Метод решения
		//1 - метод Либмана
		//2 - метод Зейделя
		//3 - метод Либмана с верхней релаксации
		
		var approx_type = 1;
		//Метод аппроксимации 2 н.у
		//1 - Первый порядок
		//2 - Второй порядок
		
		
		
		var pogr_type = 1;
		//Тип погрешности
		//1 - Абсолютная
		//2 - Относительная
		//3 - От времени
		
		var scale_type = 1;
		//Масштаб графика
		//1 - Фиксированный
		//2 - Динамический
		
		this.SLeft1.addEventListener("click", scheme_left.bind(this));
		function scheme_left() {
			if (setupType == 1) {
				setupType = 2;
			}
			else {
				setupType -= 1;
			}
		}
		
		this.SRight1.addEventListener("click", scheme_right.bind(this));
		function scheme_right() {
			if (setupType == 2) {
				setupType = 1;
			}
			else {
				setupType += 1;
			}
		}
		
		
		this.SLeft2.addEventListener("click", meth_left.bind(this));
		function meth_left() {
			if (meth_type == 1) {
				meth_type = 3;
			}
			else {
				meth_type -= 1;
			}
		}
		
		this.SRight2.addEventListener("click", meth_right.bind(this));
		function meth_right() {
			if (meth_type == 3) {
				meth_type = 1;
			}
			else {
				meth_type += 1;
			}
		}
		
		
		
		this.SLeft3.addEventListener("click", curStep_left.bind(this));
		function curStep_left() {
			if (setupType == 1) {
				if (s1_cur > 0) {
					s1_cur -= 1;
				}
			}
			else {
				if (s2_cur > 0) {
					s2_cur -= 1;
				}
			}
		}
		
		this.SRight3.addEventListener("click", curStep_right.bind(this));
		function curStep_right() {
			if (setupType == 1) {
				if (s1_cur < Ny) {
					s1_cur += 1;
				}
			}
			else {
				if (s2_cur < Nx) {
					s2_cur += 1;
				}
			}
		}
		
		
		this.stopBtn.addEventListener("click", curStep_stop.bind(this));
		function curStep_stop() {
			dt = 1000000;
		}
		
		this.SLeft4.addEventListener("click", pogr_left.bind(this));
		function pogr_left() {
			if (pogr_type == 1) {
				pogr_type = 3;
			}
			else {
				pogr_type -= 1;
			}
		}
		
		this.SRight4.addEventListener("click", pogr_right.bind(this));
		function pogr_right() {
			if (pogr_type == 3) {
				pogr_type = 1;
			}
			else {
				pogr_type += 1;
			}
		}
		
		this.SLeft5.addEventListener("click", scale_left.bind(this));
		function scale_left() {
			if (scale_type == 1) {
				scale_type = 2;
			}
			else {
				scale_type -= 1;
			}
		}
		
		this.SRight5.addEventListener("click", scale_right.bind(this));
		function scale_right() {
			if (scale_type == 2) {
				scale_type = 1;
			}
			else {
				scale_type += 1;
			}
		}
		
		this.addEventListener("tick", setTexts2.bind(this));
		function setTexts2() {
			if (setupType == 1) {
				this.scheme_text.text = "Срез по y";
				theta = 1;
			}
			else if (setupType == 2) {
				this.scheme_text.text = "Срез по x";
				theta = 0;
			}
			
			if (meth_type == 1) {
				this.meth_text.text = "Метод Либмана";
			}
			else if (meth_type == 2) {
				this.meth_text.text = "Метод Зейделя";
			}
			else if (meth_type == 3) {
				this.meth_text.text = "Метод простых итераций с верхней релаксацией";
			}
			
			
			if (pogr_type == 1) {
				this.pogr_text.text = "Абсолютная погрешность";
			}
			else if (pogr_type == 2) {
				this.pogr_text.text = "Относительная погрешность";
			}
			else if (pogr_type == 3) {
				this.pogr_text.text = "Макс. Погрешность от времени";
			}
			
			
			if (scale_type == 1) {
				this.scale_text.text = "Макс. Фиксированный";
			}
			else if (scale_type == 2) {
				this.scale_text.text = "Динамический";
			}
			
			
			if (setupType == 1) {
				this.divDown0.text = "" + 0;
				this.divDown1.text = "" + Math.round(lx*1/6*1000)/1000;
				this.divDown2.text = "" + Math.round(lx*2/6*1000)/1000;
				this.divDown3.text = "" + Math.round(lx*3/6*1000)/1000;
				this.divDown4.text = "" + Math.round(lx*4/6*1000)/1000;
				this.divDown5.text = "" + Math.round(lx*5/6*1000)/1000;
				this.divDown6.text = "" + Math.round(lx*1000)/1000;
			}
			else {
				this.divDown0.text = "" + 0;
				this.divDown1.text = "" + Math.round(ly*1/6*1000)/1000;
				this.divDown2.text = "" + Math.round(ly*2/6*1000)/1000;
				this.divDown3.text = "" + Math.round(ly*3/6*1000)/1000;
				this.divDown4.text = "" + Math.round(ly*4/6*1000)/1000;
				this.divDown5.text = "" + Math.round(ly*5/6*1000)/1000;
				this.divDown6.text = "" + Math.round(ly*1000)/1000;
			}
			
			if (setupType == 1) {
				if (pogr_type <= 2) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(lx*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(lx*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(lx*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(lx*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(lx*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(lx*1000)/1000;
				}
				else {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(Nx*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(Nx*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(Nx*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(Nx*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(Nx*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(Nx*1000)/1000;
				}
			}
			else {
				if (pogr_type <= 2) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(ly*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(ly*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(ly*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(ly*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(ly*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(ly*1000)/1000;
				}
				else {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(Ny*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(Ny*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(Ny*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(Ny*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(Ny*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(Ny*1000)/1000;
				}
			}
			
			if (setupType == 1) {
				if (maxValsx.length > 0 && scale_type == 2) {
					this.divUp0.text = "" + Math.round(minValsx[s1_cur]*1000)/1000;
					this.divUp1.text = "" + Math.round((minValsx[s1_cur] + (maxValsx[s1_cur] - minValsx[s1_cur])*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minValsx[s1_cur] + (maxValsx[s1_cur] - minValsx[s1_cur])*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minValsx[s1_cur] + (maxValsx[s1_cur] - minValsx[s1_cur])*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minValsx[s1_cur] + (maxValsx[s1_cur] - minValsx[s1_cur])*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minValsx[s1_cur] + (maxValsx[s1_cur] - minValsx[s1_cur])*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minValsx[s1_cur] + (maxValsx[s1_cur] - minValsx[s1_cur])*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxValsx[s1_cur]*1000)/1000;
				}
				else {
					this.divUp0.text = "" + Math.round(minMinValx*1000)/1000;
					this.divUp1.text = "" + Math.round((minMinValx + (maxMaxValx - minMinValx)*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minMinValx + (maxMaxValx - minMinValx)*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minMinValx + (maxMaxValx - minMinValx)*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minMinValx + (maxMaxValx - minMinValx)*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minMinValx + (maxMaxValx - minMinValx)*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minMinValx + (maxMaxValx - minMinValx)*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxMaxValx*1000)/1000;
				}
			}
			else {
				if (maxValsy.length > 0 && scale_type == 2) {
					this.divUp0.text = "" + Math.round(minValsy[s2_cur]*1000)/1000;
					this.divUp1.text = "" + Math.round((minValsy[s2_cur] + (maxValsy[s2_cur] - minValsy[s2_cur])*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minValsy[s2_cur] + (maxValsy[s2_cur] - minValsy[s2_cur])*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minValsy[s2_cur] + (maxValsy[s2_cur] - minValsy[s2_cur])*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minValsy[s2_cur] + (maxValsy[s2_cur] - minValsy[s2_cur])*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minValsy[s2_cur] + (maxValsy[s2_cur] - minValsy[s2_cur])*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minValsy[s2_cur] + (maxValsy[s2_cur] - minValsy[s2_cur])*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxValsy[s2_cur]*1000)/1000;
				}
				else {
					this.divUp0.text = "" + Math.round(minMinValy*1000)/1000;
					this.divUp1.text = "" + Math.round((minMinValy + (maxMaxValy - minMinValy)*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minMinValy + (maxMaxValy - minMinValy)*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minMinValy + (maxMaxValy - minMinValy)*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minMinValy + (maxMaxValy - minMinValy)*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minMinValy + (maxMaxValy - minMinValy)*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minMinValy + (maxMaxValy - minMinValy)*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxMaxValy*1000)/1000;
				}
			}
			
			if (setupType == 1) {
				if (maxValsE.length > 0 && scale_type == 2 && pogr_type <= 2) {
					this.divUp0err.text = "" + Math.round(minValsE[s1_cur]*1000)/1000;
					this.divUp1err.text = "" + Math.round((minValsE[s1_cur] + (maxValsE[s1_cur] - minValsE[s1_cur])*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minValsE[s1_cur] + (maxValsE[s1_cur] - minValsE[s1_cur])*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minValsE[s1_cur] + (maxValsE[s1_cur] - minValsE[s1_cur])*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minValsE[s1_cur] + (maxValsE[s1_cur] - minValsE[s1_cur])*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minValsE[s1_cur] + (maxValsE[s1_cur] - minValsE[s1_cur])*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minValsE[s1_cur] + (maxValsE[s1_cur] - minValsE[s1_cur])*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxValsE[s1_cur]*1000)/1000;
				}
				else if (pogr_type <= 2) {
					this.divUp0err.text = "" + Math.round(minMinValE*1000)/1000;
					this.divUp1err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxMaxValE*1000)/1000;
				}
				else {
					this.divUp0err.text = "" + Math.round(minEotTx*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTx*10000)/10000;
				}
			}
			else {
				if (maxValsE.length > 0 && scale_type == 2 && pogr_type <= 2) {
					this.divUp0err.text = "" + Math.round(minValsE[s2_cur]*1000)/1000;
					this.divUp1err.text = "" + Math.round((minValsE[s2_cur] + (maxValsE[s2_cur] - minValsE[s2_cur])*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minValsE[s2_cur] + (maxValsE[s2_cur] - minValsE[s2_cur])*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minValsE[s2_cur] + (maxValsE[s2_cur] - minValsE[s2_cur])*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minValsE[s2_cur] + (maxValsE[s2_cur] - minValsE[s2_cur])*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minValsE[s2_cur] + (maxValsE[s2_cur] - minValsE[s2_cur])*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minValsE[s2_cur] + (maxValsE[s2_cur] - minValsE[s2_cur])*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxValsE[s2_cur]*1000)/1000;
				}
				else if (pogr_type <= 2) {
					this.divUp0err.text = "" + Math.round(minMinValE*1000)/1000;
					this.divUp1err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxMaxValE*1000)/1000;
				}
				else {
					this.divUp0err.text = "" + Math.round(minEotTy*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTy*10000)/10000;
				}
			}
			
			
			if (setupType == 1) {
				s1_cur2 = s1_cur*hy;
				this.step_text.text = "y = " + Math.round(s1_cur2*10000)/10000 + " (шаг " + Math.round(s1_cur) + ")";
				this.axisDown.axisTp.text = "X";
			}
			else {
				s2_cur2 = s2_cur*hx;
				this.step_text.text = "x = " + Math.round(s2_cur2*10000)/10000 + " (шаг " + Math.round(s2_cur) + ")";
				this.axisDown.axisTp.text = "Y";
			}
			this.axisDown.y = Math.min(Math.max(transfY(0), 26.4), 418.6);
			
			
			this.axisDownErr.y = Math.min(Math.max(transfEY(0), 468), 700);
		}
		
		
		//baseGraph
		//x = 0 : posX = 60
		//y = 0 : posY = 418.6
		
		//x = max : posX = 627
		//y = max : posY = 26.4
		
		//errGraph
		//x = 0 : posX = 53.6
		//y = 0 : posY = 700
		
		//x = max : posX = 397.8
		//y = max : posY = 468.4
		
		
		
		
		
		var s1_cur = 0;
		//текущий шаг по y
		
		var s2_cur = 0;
		//текущий шаг по x
		
		
		var etalon = [];
		var xVector = [];
		var yVector = [];
		
		var maxMaxValx = 1;
		var minMinValx = 0;
		
		var maxMaxValy = 1;
		var minMinValy = 0;
		
		var maxMaxValE = 1; //link
		var minMinValE = 0; //link
		
		var maxMaxValE1x = 1;
		var minMinValE1x = 0;
		var maxMaxValE2x = 1;
		var minMinValE2x = 0;
		
		var maxMaxValE1y = 1;
		var minMinValE1y = 0;
		var maxMaxValE2y = 1;
		var minMinValE2y = 0;
		
		var maxValsx = [];
		var minValsx = [];
		
		var maxValsy = [];
		var minValsy = [];
		
		var maxValsE = []; //link
		var minValsE = []; //link
		
		var maxValsE1x = [];
		var minValsE1x = [];
		var maxValsE2x = [];
		var minValsE2x = [];
		
		var maxValsE1y = [];
		var minValsE1y = [];
		var maxValsE2y = [];
		var minValsE2y = [];
		
		
		
		var EotT = [];
		
		this.addEventListener("tick", setError.bind(this));
		function setError() {
			if (setupType == 1) {
				if (pogr_type == 1) {
					maxMaxValE = maxMaxValE1x;
					minMinValE = minMinValE1x;
					maxValsE = maxValsE1x;
					minValsE = minValsE1x;
					errorGraphX = absolute_errorX;
					errorGraphY = absolute_errorY;
				}
				else {
					maxMaxValE = maxMaxValE2x;
					minMinValE = minMinValE2x;
					maxValsE = maxValsE2x;
					minValsE = minValsE2x;
					errorGraphX = relative_errorX;
					errorGraphY = relative_errorY;
				}
			}
			else {
				if (pogr_type == 1) {
					maxMaxValE = maxMaxValE1y;
					minMinValE = minMinValE1y;
					maxValsE = maxValsE1y;
					minValsE = minValsE1y;
					errorGraphX = absolute_errorX;
					errorGraphY = absolute_errorY;
				}
				else {
					maxMaxValE = maxMaxValE2y;
					minMinValE = minMinValE2y;
					maxValsE = maxValsE2y;
					minValsE = minValsE2y;
					errorGraphX = relative_errorX;
					errorGraphY = relative_errorY;
				}
			}
		}
		
		var solve = [];
		var solve2 = [];
		
		
		function copyV(vector) {
			var newV = [];
			for (var i = 0 ; i < vector.length ; ++i) {
				newV.push(vector[i]);
			}
			return newV;
		}
		
		function copyM(matrix) {
			var newM = [];
			for (var i = 0 ; i < matrix.length ; ++i) {
				newM.push(copyV(matrix[i]));
			}
			return newM;
		}
		
		var absolute_errorX = [];
		var relative_errorX = [];
		
		var absolute_errorY = [];
		var relative_errorY = [];
		var errorGraphX = [];
		var errorGraphY = [];
		
		var minEotTx = 0;
		var maxEotTx = 1;
		
		var minEotTy = 0;
		var maxEotTy = 1;
		
		
		
		
		
		this.beginBtn.addEventListener("click", beginSimulation.bind(this));
		function beginSimulation() {
			generation += 1;
			s1_cur = 0;
			s2_cur = 0;
			etalon = [];
			solve = [];
			solve2 = [];
			maxMaxValx = 1;
			minMinValx = 0;
			
			maxMaxValy = 1;
			minMinValy = 0;
		
			maxValsx = [];
			minValsx = [];
			
			maxValsy = [];
			minValsy = [];
			
			xVector = [];
			yVector = [];
			
			for (var j = 0 ; j <= Nx ; ++j) {
				xVector.push(hx * j);
			}
			for (var j = 0 ; j <= Ny ; ++j) {
				yVector.push(hy * j);
			}
			for (var i = 0 ; i <= Ny ; ++i) {
				var timeVector = [];
				var this_y = yVector[i];
				yVector.push(this_y);
				var this_maxX = 0;
				var this_minX = 0;
				for (var j = 0 ; j <= Nx ; ++j) {
					var this_x = xVector[j];
					var func_res = U(this_x, this_y);
					if (j == 0) {
						this_maxX = func_res;
						this_minX = func_res;
					}
					else {
						this_maxX = (func_res > this_maxX ? func_res : this_maxX);
						this_minX = (func_res < this_minX ? func_res : this_minX);
					}
					if (i == 0) {
						maxValsy.push(func_res);
						minValsy.push(func_res);
					}
					else {
						maxValsy[j] = (func_res > maxValsy[j] ? func_res : maxValsy[j]);
						minValsy[j] = (func_res < minValsy[j] ? func_res : minValsy[j]);
					}
					
					
					timeVector.push(func_res);
				}
				etalon.push(timeVector);
				maxValsx.push(this_maxX);
				minValsx.push(this_minX);
				if (i == 0) {
					maxMaxValx = this_maxX;
					minMinValx = this_minX;
				}
				else {
					maxMaxValx = (this_maxX > maxMaxValx ? this_maxX : maxMaxValx);
					minMinValx = (this_minX < minMinValx ? this_minX : minMinValx);
				}
			}
			
			for (var i = 0 ; i < maxValsy.length ; ++i) {
				if (i == 0) {
					maxMaxValy = maxValsy[i];
					minMinValy = minValsy[i];
				}
				else {
					maxMaxValy = (maxValsy[i] > maxMaxValy ? maxValsy[i] : maxMaxValy);
					minMinValy = (minValsy[i] < minMinValy ? minValsy[i] : minMinValy);
				}
			}
			
			for (var p = 0 ; p <= Ny ; ++p) {
				var solvation = [];
				var curY = p*hy;
				for (var q = 0 ; q <= Nx ; ++q) {
					var curX = q*hx;
					if (p == 0) {
						solvation.push(phi_y0(curX));
					}
					else if (p == Ny) {
						solvation.push(phi_yl(curX));
					}
					else {
						if (q == 0) {
							solvation.push(phi_x0(curY));
						}
						else if (q == Nx) {
							solvation.push(phi_xl(curY));
						}
						else {
							solvation.push(0);
						}
					}
				}
				solve.push(copyV(solvation));
				solve2.push(copyV(solvation));
			}
		
			
			
			if (meth_type == 1) {
				var maxEps = 100;
				var iters = 0;
				while (maxEps > eps && iters < 10000) {
					var mEps = 0;
					for (var i = 1 ; i < Ny ; ++i) {
						for (var j = 1 ; j < Nx ; ++j) {
							solve2[i][j] = ((solve[i+1][j] + solve[i-1][j])*hy*hy
							+ (solve[i][j+1] + solve[i][j-1])*hx*hx) / (2*hx*hx + 2*hy*hy - 2*hx*hx*hy*hy);
							
							mEps = Math.max(mEps, Math.abs(solve2[i][j] - etalon[i][j]));
							
						}
					}
					solve = copyM(solve2);
					iters += 1;
					maxEps = Math.min(mEps, maxEps);
				}
			}
			
			
			if (meth_type == 2) {
				var maxEps = 100;
				var iters = 0;
				while (maxEps > eps && iters < 10000) {
					var mEps = 0;
					for (var i = 1 ; i < Ny ; ++i) {
						for (var j = 1 ; j < Nx ; ++j) {
							solve[i][j] = ((solve[i+1][j] + solve[i-1][j])*hy*hy
							+ (solve[i][j+1] + solve[i][j-1])*hx*hx) / (2*hx*hx + 2*hy*hy - 2*hx*hx*hy*hy);
							mEps = Math.max(mEps, Math.abs(solve[i][j] - etalon[i][j]));
						}
					}
					iters += 1;
					maxEps = Math.min(mEps, maxEps);
				}
			}
			
			if (meth_type == 3) {
				var maxEps = 100;
				var iters = 0;
				while (maxEps > eps && iters < 10000) {
					var mEps = 0;
					for (var i = 1 ; i < Ny ; ++i) {
						for (var j = 1 ; j < Nx ; ++j) {
							solve2[i][j] = ((solve[i+1][j] + solve[i-1][j])*hy*hy
							+ (solve[i][j+1] + solve[i][j-1])*hx*hx) / (2*hx*hx + 2*hy*hy - 2*hx*hx*hy*hy);
							
							solve[i][j] = relax*solve2[i][j] + (1-relax)*solve[i][j];
							mEps = Math.max(mEps, Math.abs(solve[i][j] - etalon[i][j]));
						}
					}
					iters += 1;
					maxEps = Math.min(mEps, maxEps);
				}
			}
			
			for (var i = 0 ; i < maxValsx.length ; ++i) {
				for (var j = 0 ; j < maxValsy.length ; ++j) {
					maxValsx[i] = (solve[i][j] > maxValsx[i] ? solve[i][j] : maxValsx[i]);
					minValsx[i] = (solve[i][j] < minValsx[i] ? solve[i][j] : minValsx[i]);
				}
				maxMaxValx = (maxValsx[i] > maxMaxValx ? maxValsx[i] : maxMaxValx);
				minMinValx = (minValsx[i] < minMinValx ? minValsx[i] : minMinValx);
			}
			
			for (var i = 0 ; i < maxValsy.length ; ++i) {
				for (var j = 0 ; j < maxValsx.length ; ++j) {
					maxValsy[i] = (solve[j][i] > maxValsy[i] ? solve[j][i] : maxValsy[i]);
					minValsy[i] = (solve[j][i] < minValsy[i] ? solve[j][i] : minValsy[i]);
				}
				maxMaxValy = (maxValsy[i] > maxMaxValy ? maxValsy[i] : maxMaxValx);
				minMinValy = (minValsy[i] < minMinValy ? minValsy[i] : minMinValx);
			}
			
			
			
			// error
			
			
			absolute_errorX = [];
			relative_errorX = [];
			
			absolute_errorY = [];
			relative_errorY = [];
			
			maxMaxValE1x = 1;
			minMinValE1x = 0;
			maxMaxValE2x = 1;
			minMinValE2x = 0;
			
			maxMaxValE1y = 1;
			minMinValE1y = 0;
			maxMaxValE2y = 1;
			minMinValE2y = 0;
		
			maxValsE1x = [];
			minValsE1x = [];
			maxValsE2x = [];
			minValsE2x = [];
		
			maxValsE1y = [];
			minValsE1y = [];
			maxValsE2y = [];
			minValsE2y = [];
			
			EotTx = [];
			EotTy = [];
			
			
			//error when y slice
			for (var i = 0 ; i <= Ny ; ++i) {
				var timeVector1 = [];
				var timeVector2 = [];
				var this_y = yVector[i]
				var this_max1 = 0;
				var this_min1 = 0;
				
				var this_max2 = 0;
				var this_min2 = 0;
				
				for (var j = 0 ; j <= Nx ; ++j) {
					var this_x = xVector[j];
					
					var err1 = solve[i][j] - etalon[i][j];
					var err2 = 0;
					if (Math.abs(etalon[i][j]) > 0.1) {
						err2 = Math.abs(1 - solve[i][j]/etalon[i][j]);
					}
					else {
						err2 = Math.abs(1 - (solve[i][j]+0.2)/(etalon[i][j] + 0.2));
					}
					
					if (j == 0) {
						this_max1 = err1;
						this_min1 = err1;
						
						this_max2 = err2;
						this_min2 = err2;
					}
					else {
						this_max1 = (err1 > this_max1 ? err1 : this_max1);
						this_min1 = (err1 < this_min1 ? err1 : this_min1);
						
						this_max2 = (err2 > this_max2 ? err2 : this_max2);
						this_min2 = (err2 < this_min2 ? err2 : this_min2);
					}
					timeVector1.push(err1);
					timeVector2.push(err2);
				}
				
				absolute_errorX.push(timeVector1);
				relative_errorX.push(timeVector2);
				
				maxValsE1x.push(this_max1);
				minValsE1x.push(this_min1);
				
				maxValsE2x.push(this_max2);
				minValsE2x.push(this_min2);
				
				
				if (i == 0) {
					maxMaxValE1x = this_max1;
					minMinValE1x = this_min1;
					
					maxMaxValE2x = this_max2;
					minMinValE2x = this_min2;
					
					var stepEotX = Math.max(maxMaxValE1x, Math.abs(minMinValE1x));
					
					EotTx.push(stepEotX);
					
					minEotTx = stepEotX;
					maxEotTx = stepEotX;
				}
				else {
					maxMaxValE1x = (this_max1 > maxMaxValE1x ? this_max1 : maxMaxValE1x);
					minMinValE1x = (this_min1 < minMinValE1x ? this_min1 : minMinValE1x);
					
					var stepEotX = Math.max(this_max1, Math.abs(this_min1));
		
					minEotTx = (stepEotX < minEotTx ? stepEotX : minEotTx);
					maxEotTx = (stepEotX > maxEotTx ? stepEotX : maxEotTx);
					
					EotTx.push(stepEotX);
					
					maxMaxValE2x = (this_max2 > maxMaxValE2x ? this_max2 : maxMaxValE2x);
					minMinValE2x = (this_min2 < minMinValE2x ? this_min2 : minMinValE2x);
				}
			}
			
			//error when x slice
			for (var i = 0 ; i <= Nx ; ++i) {
				var timeVector1 = [];
				var timeVector2 = [];
				var this_x = xVector[i]
				var this_max1 = 0;
				var this_min1 = 0;
				
				var this_max2 = 0;
				var this_min2 = 0;
				
				for (var j = 0 ; j <= Ny ; ++j) {
					var this_y = yVector[j];
					
					var err1 = solve[j][i] - etalon[j][i];
					var err2 = 0;
					if (Math.abs(etalon[j][i]) > 0.1) {
						err2 = Math.abs(1 - solve[j][i]/etalon[j][i]);
					}
					else {
						err2 = Math.abs(1 - (solve[j][i]+0.2)/(etalon[j][i] + 0.2));
					}
					
					if (j == 0) {
						this_max1 = err1;
						this_min1 = err1;
						
						this_max2 = err2;
						this_min2 = err2;
					}
					else {
						this_max1 = (err1 > this_max1 ? err1 : this_max1);
						this_min1 = (err1 < this_min1 ? err1 : this_min1);
						
						this_max2 = (err2 > this_max2 ? err2 : this_max2);
						this_min2 = (err2 < this_min2 ? err2 : this_min2);
					}
					timeVector1.push(err1);
					timeVector2.push(err2);
				}
				
				absolute_errorY.push(timeVector1);
				relative_errorY.push(timeVector2);
				
				maxValsE1y.push(this_max1);
				minValsE1y.push(this_min1);
				
				maxValsE2y.push(this_max2);
				minValsE2y.push(this_min2);
				
				
				if (i == 0) {
					maxMaxValE1y = this_max1;
					minMinValE1y = this_min1;
					
					maxMaxValE2y = this_max2;
					minMinValE2y = this_min2;
					
					var stepEotY = Math.max(maxMaxValE1y, Math.abs(minMinValE1y));
					
					EotTy.push(stepEotY);
					
					minEotTy = stepEotY;
					maxEotTy = stepEotY;
				}
				else {
					maxMaxValE1y = (this_max1 > maxMaxValE1y ? this_max1 : maxMaxValE1y);
					minMinValE1y = (this_min1 < minMinValE1y ? this_min1 : minMinValE1y);
					
					var stepEotY = Math.max(this_max1, Math.abs(this_min1));
		
					minEotTy = (stepEotY < minEotTy ? stepEotY : minEotTy);
					maxEotTy = (stepEotY > maxEotTy ? stepEotY : maxEotTy);
					
					EotTy.push(stepEotY);
					
					maxMaxValE2y = (this_max2 > maxMaxValE2y ? this_max2 : maxMaxValE2y);
					minMinValE2y = (this_min2 < minMinValE2y ? this_min2 : minMinValE2y);
				}
			}
			
			makeEtalonGraph();
			makeSolveGraph();
			makeErrorGraph();
			makeErrorTGraph();
			
			go = true;
		}
		
		function transfX(x) {
			var newX;
			if (setupType == 1) {
				newX = 60 + (567 * (x / lx));
			}
			else {
				newX = 60 + (567 * (x / ly));
			}
			return newX;
		}
		
		function transfY(y) {
			var newY = 0;
			if (setupType == 1) {
				if (maxValsx.length > 0 && scale_type == 2) {
					newY = 418.6 - (382.6 * (y - minValsx[s1_cur])/(maxValsx[s1_cur] - minValsx[s1_cur]));
				}
				else {
					newY = 418.6 - (382.6 * (y - minMinValx)/(maxMaxValx - minMinValx));
				}
			}
			else {
				if (maxValsy.length > 0 && scale_type == 2) {
					newY = 418.6 - (382.6 * (y - minValsy[s2_cur])/(maxValsy[s2_cur] - minValsy[s2_cur]));
				}
				else {
					newY = 418.6 - (382.6 * (y - minMinValy)/(maxMaxValy - minMinValy));
				}
			}
			return newY;
		}
		
		
		function transfEX(x) {
			var newX;
			if (setupType == 1) {
				newX = 60.6 + (344.2 * (x / lx));
			}
			else {
				newX = 60.6 + (344.2 * (x / ly));
			}
			return newX;
		}
		
		
		function transfE2X(x) {
			var newX;
			if (setupType == 1) {
				newX = 60.6 + (344.2 * (x / ly));
			}
			else {
				newX = 60.6 + (344.2 * (x / lx));
			}
			return newX;
		}
		
		function transfEY(y) {
			var newY = 0;
			if (setupType == 1) {
				if (maxValsE.length > 0 && scale_type == 2) {
					newY = 700 - (231 * (y - minValsE[s1_cur])/(maxValsE[s1_cur] - minValsE[s1_cur]));
				}
				else {
					newY = 700 - (231 * (y - minMinValE)/(maxMaxValE - minMinValE));
				}
			}
			else {
				if (maxValsE.length > 0 && scale_type == 2) {
					newY = 700 - (231 * (y - minValsE[s2_cur])/(maxValsE[s2_cur] - minValsE[s2_cur]));
				}
				else {
					newY = 700 - (231 * (y - minMinValE)/(maxMaxValE - minMinValE));
				}
			}
			return newY;
		}
		
		function transfE2Y(y) {
			var newY = 0;
			if (setupType == 1) {
				newY = 700 - (231 * (y - minEotTx)/(maxEotTx - minEotTx));
			}
			else {
				newY = 700 - (231 * (y - minEotTy)/(maxEotTy - minEotTy));
			}
			
			return newY;
		}
		
		
		function makeEtalonGraph() {
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(xVector[i]);
				join.y = transfY(etalon[0][i]);
				join.endX = transfX(xVector[i+1]);
				join.endY = transfY(etalon[0][i+1]);
				
				join.gotoAndStop(0);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses11);
			}
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(yVector[i]);
				join.y = transfY(etalon[i][0]);
				join.endX = transfX(yVector[i+1]);
				join.endY = transfY(etalon[i+1][0]);
				
				join.gotoAndStop(0);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses12);
			}
			
		}
		
		function makeSolveGraph() {
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(xVector[i]);
				join.y = transfY(solve[0][i]);
				join.endX = transfX(xVector[i+1]);
				join.endY = transfY(solve[0][i+1]);
				
				join.gotoAndStop(1);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses21);
			}
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(yVector[i]);
				join.y = transfY(solve[i][0]);
				join.endX = transfX(yVector[i+1]);
				join.endY = transfY(solve[i+1][0]);
				
				join.gotoAndStop(1);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses22);
			}
		}
		
		function makeErrorGraph() {
			setError();
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfEX(xVector[i]);
				join.y = transfEY(errorGraphX[0][i]);
				join.endX = transfEX(xVector[i+1]);
				join.endY = transfEY(errorGraphX[0][i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses31);
			}
			
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfEX(yVector[i]);
				join.y = transfEY(errorGraphY[0][i]);
				join.endX = transfEX(yVector[i+1]);
				join.endY = transfEY(errorGraphY[0][i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses32);
			}
		
			
		}
		
		
		function makeErrorTGraph() {
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfE2X(yVector[i]);
				join.y = transfE2Y(EotTx[i]);
				join.endX = transfE2X(yVector[i+1]);
				join.endY = transfE2Y(EotTx[i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses41);
			}
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfE2X(xVector[i]);
				join.y = transfE2Y(EotTy[i]);
				join.endX = transfE2X(xVector[i+1]);
				join.endY = transfE2Y(EotTy[i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses42);
			}
		}
		
		
		
		function setPoses11(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(xVector[object.num]);
				object.y = transfY(etalon[s1_cur][object.num]);
				object.endX = transfX(xVector[object.num+1]);
				object.endY = transfY(etalon[s1_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses11);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses12(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(yVector[object.num]);
				object.y = transfY(etalon[object.num][s2_cur]);
				object.endX = transfX(yVector[object.num+1]);
				object.endY = transfY(etalon[object.num+1][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 2) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses12);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses21(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(xVector[object.num]);
				object.y = transfY(solve[s1_cur][object.num]);
				object.endX = transfX(xVector[object.num+1]);
				object.endY = transfY(solve[s1_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
				
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses21);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses22(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(yVector[object.num]);
				object.y = transfY(solve[object.num][s2_cur]);
				object.endX = transfX(yVector[object.num+1]);
				object.endY = transfY(solve[object.num+1][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 2) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses22);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses31(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfEX(xVector[object.num]);
				object.y = transfEY(errorGraphX[s1_cur][object.num]);
				object.endX = transfEX(xVector[object.num+1]);
				object.endY = transfEY(errorGraphX[s1_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (pogr_type <= 2) {
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
			}
			else {
				object.visible = false;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses31);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses32(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfEX(yVector[object.num]);
				object.y = transfEY(errorGraphY[s2_cur][object.num]);
				//object.y = transfEY(errorGraph[object.num][s2_cur]);
				object.endX = transfEX(yVector[object.num+1]);
				object.endY = transfEY(errorGraphY[s2_cur][object.num+1]);
				//object.endY = transfEY(errorGraph[object.num+1][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
					
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (pogr_type <= 2) {
				if (setupType == 2) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
			}
			else {
				object.visible = false;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses32);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses41(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfE2X(yVector[object.num]);
				object.y = transfE2Y(EotTx[object.num]);
				object.endX = transfE2X(yVector[object.num+1]);
				object.endY = transfE2Y(EotTx[object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
					
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (pogr_type == 3) {
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
			}
			else {
				object.visible = false;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses41);
				stage.removeChild(object);
			}
			
		}
		
		
		
		function setPoses42(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfE2X(xVector[object.num]);
				object.y = transfE2Y(EotTy[object.num]);
				object.endX = transfE2X(xVector[object.num+1]);
				object.endY = transfE2Y(EotTy[object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
					
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (pogr_type == 3) {
				if (setupType == 2) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
			}
			else {
				object.visible = false;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses42);
				stage.removeChild(object);
			}
			
		}
		
		
		
		
		
		
		
		//метод прогонки
		function progonka(matrix, vectorB) {
			var vectorX = [];
			
			var N = vectorB.length;
			
			var alphas = [];
			var betas = [];
			
			
			for (var i = 0 ; i < vectorB.length ; ++i) {
				alphas.push(0);
				betas.push(0);
			}
		
			//Прямой ход прогонки
		
			for (var i = 0; i < N; ++i) {
				var A0, C0, B0, F0;
		
				if (i - 1 < 0) {
					A0 = 0;
				}
				else {
					A0 = matrix[i][i - 1];
				}
		
				C0 = -1 * matrix[i][i];
		
				if (i + 1 < N) {
					B0 = matrix[i][i + 1];
				}
				else {
					B0 = 0;
				}
		
				F0 = vectorB[i];
		
		
				if (i == 0) {
					alphas[i] = B0 / C0;
					betas[i] = -(F0 / C0);
				}
				else if (i == N - 1) {
					alphas[i] = 0;
					betas[i] = (betas[i - 1] * A0 - F0) / (C0 - alphas[i - 1] * A0);
				}
				else {
					alphas[i] = B0 / (C0 - alphas[i - 1] * A0);
					betas[i] = (betas[i - 1] * A0 - F0) / (C0 - alphas[i - 1] * A0);
				}
		
			}
		
		
			vectorX[N - 1] = betas[N - 1];
		
			for (var i = 2; i <= N; ++i) {
				vectorX[N - i] = alphas[N - i] * vectorX[N - i + 1] + betas[N - i];
			}
			
			return vectorX;
		}
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));

	// Lab6
	this.setMag2 = new lib.setMag1();
	this.setMag2.name = "setMag2";
	this.setMag2.setTransform(1183.15,633.5,1.2733,1.2733,0,0,0,35,7.8);
	new cjs.ButtonHelper(this.setMag2, 0, 1, 2);

	this.text = new cjs.Text("Погрешность", "bold 8px 'Arial'");
	this.text.textAlign = "center";
	this.text.lineHeight = 11;
	this.text.lineWidth = 53;
	this.text.parent = this;
	this.text.setTransform(1183.0104,574.25,1.4997,1.4997);

	this.it_text = new cjs.Text("ξ = 10", "bold 8px 'Arial'", "#006666");
	this.it_text.name = "it_text";
	this.it_text.textAlign = "center";
	this.it_text.lineHeight = 11;
	this.it_text.lineWidth = 77;
	this.it_text.parent = this;
	this.it_text.setTransform(1181.85,595.4,2.1481,2.1481);

	this.setMag1 = new lib.setMag1();
	this.setMag1.name = "setMag1";
	this.setMag1.setTransform(983.15,633.5,1.2733,1.2733,0,0,0,35,7.8);
	new cjs.ButtonHelper(this.setMag1, 0, 1, 2);

	this.text_1 = new cjs.Text("Параметр релаксации", "bold 8px 'Arial'");
	this.text_1.textAlign = "center";
	this.text_1.lineHeight = 11;
	this.text_1.parent = this;
	this.text_1.setTransform(983.0159,574.25,1.4997,1.4997);

	this.om_text = new cjs.Text("ω = 1.00", "bold 8px 'Arial'", "#006666");
	this.om_text.name = "om_text";
	this.om_text.textAlign = "center";
	this.om_text.lineHeight = 11;
	this.om_text.lineWidth = 77;
	this.om_text.parent = this;
	this.om_text.setTransform(981.85,595.4,2.1481,2.1481);

	this.instance = new lib.task2();
	this.instance.setTransform(1090.1,88.1,1,1,0,0,0,185.1,83.1);

	this.axisDown = new lib.axisDownTT();
	this.axisDown.name = "axisDown";
	this.axisDown.setTransform(383.15,418.6,1,1,0,0,0,320.5,0);

	this.SRight5 = new lib.chalNext();
	this.SRight5.name = "SRight5";
	this.SRight5.setTransform(773.75,575.5,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight5, 0, 1, 2);

	this.SLeft5 = new lib.chalNext();
	this.SLeft5.name = "SLeft5";
	this.SLeft5.setTransform(747.55,575.5,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft5, 0, 1, 2);

	this.text_2 = new cjs.Text("Масштаб графика", "bold 8px 'Arial'");
	this.text_2.textAlign = "center";
	this.text_2.lineHeight = 11;
	this.text_2.lineWidth = 167;
	this.text_2.parent = this;
	this.text_2.setTransform(602.1283,543.95,1.4997,1.4997);

	this.scale_text = new cjs.Text("Макс. Фиксированный", "bold 7px 'Arial'");
	this.scale_text.name = "scale_text";
	this.scale_text.textAlign = "center";
	this.scale_text.lineHeight = 10;
	this.scale_text.lineWidth = 116;
	this.scale_text.parent = this;
	this.scale_text.setTransform(601.7327,567,2.1481,2.1481);

	this.SRight4 = new lib.chalNext();
	this.SRight4.name = "SRight4";
	this.SRight4.setTransform(773.75,521.4,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight4, 0, 1, 2);

	this.SLeft4 = new lib.chalNext();
	this.SLeft4.name = "SLeft4";
	this.SLeft4.setTransform(747.55,521.4,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft4, 0, 1, 2);

	this.text_3 = new cjs.Text("График погрешности", "bold 8px 'Arial'");
	this.text_3.textAlign = "center";
	this.text_3.lineHeight = 11;
	this.text_3.lineWidth = 167;
	this.text_3.parent = this;
	this.text_3.setTransform(602.1283,489.85,1.4997,1.4997);

	this.pogr_text = new cjs.Text("Относительная погрешность", "bold 7px 'Arial'");
	this.pogr_text.name = "pogr_text";
	this.pogr_text.textAlign = "center";
	this.pogr_text.lineHeight = 10;
	this.pogr_text.lineWidth = 116;
	this.pogr_text.parent = this;
	this.pogr_text.setTransform(601.7327,512.9,2.1481,2.1481);

	this.line = new lib.line();
	this.line.name = "line";
	this.line.setTransform(232.9,805,15.8702,0.6);

	this.divUp7err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp7err.name = "divUp7err";
	this.divUp7err.textAlign = "right";
	this.divUp7err.lineHeight = 31;
	this.divUp7err.lineWidth = 123;
	this.divUp7err.parent = this;
	this.divUp7err.setTransform(55.05,460.8,0.3719,0.3719);

	this.divUp6err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp6err.name = "divUp6err";
	this.divUp6err.textAlign = "right";
	this.divUp6err.lineHeight = 31;
	this.divUp6err.lineWidth = 123;
	this.divUp6err.parent = this;
	this.divUp6err.setTransform(55.05,494.3,0.3719,0.3719);

	this.divUp5err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp5err.name = "divUp5err";
	this.divUp5err.textAlign = "right";
	this.divUp5err.lineHeight = 31;
	this.divUp5err.lineWidth = 123;
	this.divUp5err.parent = this;
	this.divUp5err.setTransform(55.05,527.8,0.3719,0.3719);

	this.divUp4err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp4err.name = "divUp4err";
	this.divUp4err.textAlign = "right";
	this.divUp4err.lineHeight = 31;
	this.divUp4err.lineWidth = 123;
	this.divUp4err.parent = this;
	this.divUp4err.setTransform(55.05,561.35,0.3719,0.3719);

	this.divUp3err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp3err.name = "divUp3err";
	this.divUp3err.textAlign = "right";
	this.divUp3err.lineHeight = 31;
	this.divUp3err.lineWidth = 123;
	this.divUp3err.parent = this;
	this.divUp3err.setTransform(55.05,594.8,0.3719,0.3719);

	this.divUp2err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp2err.name = "divUp2err";
	this.divUp2err.textAlign = "right";
	this.divUp2err.lineHeight = 31;
	this.divUp2err.lineWidth = 123;
	this.divUp2err.parent = this;
	this.divUp2err.setTransform(55.05,628.3,0.3723,0.3723);

	this.divUp1err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp1err.name = "divUp1err";
	this.divUp1err.textAlign = "right";
	this.divUp1err.lineHeight = 31;
	this.divUp1err.lineWidth = 123;
	this.divUp1err.parent = this;
	this.divUp1err.setTransform(55.05,661.85,0.3719,0.3719);

	this.divUp0err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp0err.name = "divUp0err";
	this.divUp0err.textAlign = "right";
	this.divUp0err.lineHeight = 31;
	this.divUp0err.lineWidth = 123;
	this.divUp0err.parent = this;
	this.divUp0err.setTransform(55.05,695.35,0.3715,0.3715);

	this.divDown6err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown6err.name = "divDown6err";
	this.divDown6err.textAlign = "center";
	this.divDown6err.lineHeight = 31;
	this.divDown6err.lineWidth = 123;
	this.divDown6err.parent = this;
	this.divDown6err.setTransform(406.55,702.2,0.3698,0.3698);

	this.divDown5err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown5err.name = "divDown5err";
	this.divDown5err.textAlign = "center";
	this.divDown5err.lineHeight = 31;
	this.divDown5err.lineWidth = 123;
	this.divDown5err.parent = this;
	this.divDown5err.setTransform(349.2,702.2,0.3698,0.3698);

	this.divDown4err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown4err.name = "divDown4err";
	this.divDown4err.textAlign = "center";
	this.divDown4err.lineHeight = 31;
	this.divDown4err.lineWidth = 123;
	this.divDown4err.parent = this;
	this.divDown4err.setTransform(291.85,702.2,0.3701,0.3701);

	this.divDown3err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown3err.name = "divDown3err";
	this.divDown3err.textAlign = "center";
	this.divDown3err.lineHeight = 31;
	this.divDown3err.lineWidth = 123;
	this.divDown3err.parent = this;
	this.divDown3err.setTransform(234.5,702.2,0.3701,0.3701);

	this.divDown2err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown2err.name = "divDown2err";
	this.divDown2err.textAlign = "center";
	this.divDown2err.lineHeight = 31;
	this.divDown2err.lineWidth = 123;
	this.divDown2err.parent = this;
	this.divDown2err.setTransform(177.3,702.2,0.3698,0.3698);

	this.divDown1err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown1err.name = "divDown1err";
	this.divDown1err.textAlign = "center";
	this.divDown1err.lineHeight = 31;
	this.divDown1err.lineWidth = 123;
	this.divDown1err.parent = this;
	this.divDown1err.setTransform(119.95,702.15,0.3706,0.3706);

	this.divDown0err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown0err.name = "divDown0err";
	this.divDown0err.textAlign = "center";
	this.divDown0err.lineHeight = 31;
	this.divDown0err.lineWidth = 123;
	this.divDown0err.parent = this;
	this.divDown0err.setTransform(62.55,702.2,0.3701,0.3701);

	this.instance_1 = new lib.dividions();
	this.instance_1.setTransform(231.95,585.1,0.6065,0.6065,0,0,0,287.2,194.2);

	this.instance_2 = new lib.graphGrid();
	this.instance_2.setTransform(445,472.9,0.6065,0.6065,0,0,0,9.4,9.3);

	this.axisLeftErr = new lib.axisLeft();
	this.axisLeftErr.name = "axisLeftErr";
	this.axisLeftErr.setTransform(61.9,584.15,0.6065,0.6065,0,0,0,0.1,190.3);

	this.axisDownErr = new lib.axisDown();
	this.axisDownErr.name = "axisDownErr";
	this.axisDownErr.setTransform(256.25,699.7,0.6065,0.6065,0,0,0,320.5,0.1);

	this.instance_3 = new lib.graphBG();
	this.instance_3.setTransform(256.3,582.65,0.6065,0.6065,0,0,0,320.6,190.3);

	this.graphName = new cjs.Text("График ошибки", "bold 25px 'Consolas'");
	this.graphName.name = "graphName";
	this.graphName.textAlign = "center";
	this.graphName.lineHeight = 31;
	this.graphName.lineWidth = 635;
	this.graphName.parent = this;
	this.graphName.setTransform(255.5,446.7797,0.6065,0.6065);

	this.stopBtn = new lib.stopBtn();
	this.stopBtn.name = "stopBtn";
	this.stopBtn.setTransform(803.35,83,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.stopBtn, 0, 1, 2);

	this.SRight3 = new lib.chalNext();
	this.SRight3.name = "SRight3";
	this.SRight3.setTransform(878.65,83,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight3, 0, 1, 2);

	this.SLeft3 = new lib.chalNext();
	this.SLeft3.name = "SLeft3";
	this.SLeft3.setTransform(729.95,83,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft3, 0, 1, 2);

	this.step_text = new cjs.Text("y = 0.111 (шаг 10000)", "bold 6px 'Arial'");
	this.step_text.name = "step_text";
	this.step_text.textAlign = "center";
	this.step_text.lineHeight = 9;
	this.step_text.lineWidth = 77;
	this.step_text.parent = this;
	this.step_text.setTransform(805.05,43.9,2.1481,2.1481);

	this.text_4 = new cjs.Text("Момент времени", "bold 18px 'Consolas'");
	this.text_4.textAlign = "center";
	this.text_4.lineHeight = 23;
	this.text_4.lineWidth = 148;
	this.text_4.parent = this;
	this.text_4.setTransform(802.2,11.5);

	this.divUp7 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp7.name = "divUp7";
	this.divUp7.textAlign = "right";
	this.divUp7.lineHeight = 31;
	this.divUp7.lineWidth = 123;
	this.divUp7.parent = this;
	this.divUp7.setTransform(52.05,28.05,0.4126,0.4126);

	this.divUp6 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp6.name = "divUp6";
	this.divUp6.textAlign = "right";
	this.divUp6.lineHeight = 31;
	this.divUp6.lineWidth = 123;
	this.divUp6.parent = this;
	this.divUp6.setTransform(52.05,83.3,0.4126,0.4126);

	this.divUp5 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp5.name = "divUp5";
	this.divUp5.textAlign = "right";
	this.divUp5.lineHeight = 31;
	this.divUp5.lineWidth = 123;
	this.divUp5.parent = this;
	this.divUp5.setTransform(52.05,138.55,0.4126,0.4126);

	this.divUp4 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp4.name = "divUp4";
	this.divUp4.textAlign = "right";
	this.divUp4.lineHeight = 31;
	this.divUp4.lineWidth = 123;
	this.divUp4.parent = this;
	this.divUp4.setTransform(52.05,193.8,0.4126,0.4126);

	this.divUp3 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp3.name = "divUp3";
	this.divUp3.textAlign = "right";
	this.divUp3.lineHeight = 31;
	this.divUp3.lineWidth = 123;
	this.divUp3.parent = this;
	this.divUp3.setTransform(52.05,249.05,0.4126,0.4126);

	this.divUp2 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp2.name = "divUp2";
	this.divUp2.textAlign = "right";
	this.divUp2.lineHeight = 31;
	this.divUp2.lineWidth = 123;
	this.divUp2.parent = this;
	this.divUp2.setTransform(52.05,304.3,0.4126,0.4126);

	this.divUp1 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp1.name = "divUp1";
	this.divUp1.textAlign = "right";
	this.divUp1.lineHeight = 31;
	this.divUp1.lineWidth = 123;
	this.divUp1.parent = this;
	this.divUp1.setTransform(52.05,359.55,0.4126,0.4126);

	this.divUp0 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp0.name = "divUp0";
	this.divUp0.textAlign = "right";
	this.divUp0.lineHeight = 31;
	this.divUp0.lineWidth = 123;
	this.divUp0.parent = this;
	this.divUp0.setTransform(52.05,414.8,0.4126,0.4126);

	this.divDown6 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown6.name = "divDown6";
	this.divDown6.textAlign = "center";
	this.divDown6.lineHeight = 31;
	this.divDown6.lineWidth = 123;
	this.divDown6.parent = this;
	this.divDown6.setTransform(630.8,426,0.4126,0.4126);

	this.divDown5 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown5.name = "divDown5";
	this.divDown5.textAlign = "center";
	this.divDown5.lineHeight = 31;
	this.divDown5.lineWidth = 123;
	this.divDown5.parent = this;
	this.divDown5.setTransform(536.3,426,0.4126,0.4126);

	this.divDown4 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown4.name = "divDown4";
	this.divDown4.textAlign = "center";
	this.divDown4.lineHeight = 31;
	this.divDown4.lineWidth = 123;
	this.divDown4.parent = this;
	this.divDown4.setTransform(441.8,426,0.4126,0.4126);

	this.divDown3 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown3.name = "divDown3";
	this.divDown3.textAlign = "center";
	this.divDown3.lineHeight = 31;
	this.divDown3.lineWidth = 123;
	this.divDown3.parent = this;
	this.divDown3.setTransform(347.3,426,0.4126,0.4126);

	this.divDown2 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown2.name = "divDown2";
	this.divDown2.textAlign = "center";
	this.divDown2.lineHeight = 31;
	this.divDown2.lineWidth = 123;
	this.divDown2.parent = this;
	this.divDown2.setTransform(252.8,426,0.4126,0.4126);

	this.divDown1 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown1.name = "divDown1";
	this.divDown1.textAlign = "center";
	this.divDown1.lineHeight = 31;
	this.divDown1.lineWidth = 123;
	this.divDown1.parent = this;
	this.divDown1.setTransform(158.3,426,0.4126,0.4126);

	this.divDown0 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown0.name = "divDown0";
	this.divDown0.textAlign = "center";
	this.divDown0.lineHeight = 31;
	this.divDown0.lineWidth = 123;
	this.divDown0.parent = this;
	this.divDown0.setTransform(63.8,426,0.4126,0.4126);

	this.instance_4 = new lib.dividions();
	this.instance_4.setTransform(342.95,229.9,1,1,0,0,0,287.2,194.1);

	this.instance_5 = new lib.graphGrid();
	this.instance_5.setTransform(694.15,44.85,1,1,0,0,0,9.3,9.1);

	this.axisLeft = new lib.axisLeft();
	this.axisLeft.name = "axisLeft";
	this.axisLeft.setTransform(62.55,228.45,1,1,0,0,0,0,190.2);

	this.instance_6 = new lib.graphBG();
	this.instance_6.setTransform(383.05,225.95,1,1,0,0,0,320.5,190.2);

	this.graphName_1 = new cjs.Text("График функции", "bold 25px 'Consolas'");
	this.graphName_1.name = "graphName_1";
	this.graphName_1.textAlign = "center";
	this.graphName_1.lineHeight = 31;
	this.graphName_1.lineWidth = 635;
	this.graphName_1.parent = this;
	this.graphName_1.setTransform(381.85,2);

	this.beginBtn = new lib.begin_button();
	this.beginBtn.name = "beginBtn";
	this.beginBtn.setTransform(1095.65,682.65,1,1,0,0,0,90.8,19.6);
	new cjs.ButtonHelper(this.beginBtn, 0, 1, 2);

	this.SRight2 = new lib.chalNext();
	this.SRight2.name = "SRight2";
	this.SRight2.setTransform(1265.5,531.2,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight2, 0, 1, 2);

	this.SLeft2 = new lib.chalNext();
	this.SLeft2.name = "SLeft2";
	this.SLeft2.setTransform(1239.3,531.2,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft2, 0, 1, 2);

	this.text_5 = new cjs.Text("Метод решения", "bold 8px 'Arial'");
	this.text_5.textAlign = "center";
	this.text_5.lineHeight = 11;
	this.text_5.lineWidth = 170;
	this.text_5.parent = this;
	this.text_5.setTransform(1092.804,484.8003,1.4997,1.4997);

	this.meth_text = new cjs.Text("Метод простых итераций с верхней релаксацией", "bold 7px 'Arial'");
	this.meth_text.name = "meth_text";
	this.meth_text.textAlign = "center";
	this.meth_text.lineHeight = 10;
	this.meth_text.lineWidth = 116;
	this.meth_text.parent = this;
	this.meth_text.setTransform(1093.4827,511.9,2.1481,2.1481);

	this.SRight1 = new lib.chalNext();
	this.SRight1.name = "SRight1";
	this.SRight1.setTransform(1265.5,463.3,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight1, 0, 1, 2);

	this.SLeft1 = new lib.chalNext();
	this.SLeft1.name = "SLeft1";
	this.SLeft1.setTransform(1239.3,463.3,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft1, 0, 1, 2);

	this.text_6 = new cjs.Text("Вид графика", "bold 8px 'Arial'");
	this.text_6.textAlign = "center";
	this.text_6.lineHeight = 11;
	this.text_6.lineWidth = 101;
	this.text_6.parent = this;
	this.text_6.setTransform(1099.1915,432.3929,1.4997,1.4997);

	this.scheme_text = new cjs.Text("Срез по x", "bold 7px 'Arial'");
	this.scheme_text.name = "scheme_text";
	this.scheme_text.textAlign = "center";
	this.scheme_text.lineHeight = 10;
	this.scheme_text.lineWidth = 116;
	this.scheme_text.parent = this;
	this.scheme_text.setTransform(1093.4827,454.8,2.1481,2.1481);

	this.setPurp1 = new lib.setPurp();
	this.setPurp1.name = "setPurp1";
	this.setPurp1.setTransform(1094.8,421.25,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setPurp1, 0, 1, 2);

	this.text_7 = new cjs.Text("Длительность \"тика\" (в сек.)", "bold 8px 'Arial'");
	this.text_7.textAlign = "center";
	this.text_7.lineHeight = 11;
	this.text_7.parent = this;
	this.text_7.setTransform(1090.2701,364.1,1.4997,1.4997);

	this.dt_text = new cjs.Text("dt = 25", "bold 8px 'Arial'", "#660066");
	this.dt_text.name = "dt_text";
	this.dt_text.textAlign = "center";
	this.dt_text.lineHeight = 11;
	this.dt_text.lineWidth = 77;
	this.dt_text.parent = this;
	this.dt_text.setTransform(1091.55,385.2,2.1481,2.1481);

	this.setBlue2 = new lib.setBlue();
	this.setBlue2.name = "setBlue2";
	this.setBlue2.setTransform(1187.8,355.45,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue2, 0, 1, 2);

	this.setBlue1 = new lib.setBlue();
	this.setBlue1.name = "setBlue1";
	this.setBlue1.setTransform(997.4,355.6,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue1, 0, 1, 2);

	this.text_8 = new cjs.Text("Количество шагов y", "bold 8px 'Arial'");
	this.text_8.textAlign = "center";
	this.text_8.lineHeight = 11;
	this.text_8.parent = this;
	this.text_8.setTransform(1183.2648,298.3,1.4997,1.4997);

	this.text_9 = new cjs.Text("Количество шагов x", "bold 8px 'Arial'");
	this.text_9.textAlign = "center";
	this.text_9.lineHeight = 11;
	this.text_9.parent = this;
	this.text_9.setTransform(995.3398,298.25,1.4997,1.4997);

	this.K_text = new cjs.Text("Ny = 25", "bold 8px 'Arial'", "#002266");
	this.K_text.name = "K_text";
	this.K_text.textAlign = "center";
	this.K_text.lineHeight = 11;
	this.K_text.lineWidth = 77;
	this.K_text.parent = this;
	this.K_text.setTransform(1184.55,319.4,2.1481,2.1481);

	this.N_text = new cjs.Text("Nx = 15", "bold 8px 'Arial'", "#002266");
	this.N_text.name = "N_text";
	this.N_text.textAlign = "center";
	this.N_text.lineHeight = 11;
	this.N_text.lineWidth = 77;
	this.N_text.parent = this;
	this.N_text.setTransform(994.15,319.4,2.1481,2.1481);

	this.setGreen2 = new lib.setGreen();
	this.setGreen2.name = "setGreen2";
	this.setGreen2.setTransform(1187.85,290.25,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen2, 0, 1, 2);

	this.setGreen1 = new lib.setGreen();
	this.setGreen1.name = "setGreen1";
	this.setGreen1.setTransform(997.45,290.4,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen1, 0, 1, 2);

	this.text_10 = new cjs.Text("Длина y", "bold 8px 'Arial'");
	this.text_10.textAlign = "center";
	this.text_10.lineHeight = 11;
	this.text_10.parent = this;
	this.text_10.setTransform(1183.307,232.05,1.4997,1.4997);

	this.text_11 = new cjs.Text("Длина x", "bold 8px 'Arial'");
	this.text_11.textAlign = "center";
	this.text_11.lineHeight = 11;
	this.text_11.parent = this;
	this.text_11.setTransform(995.382,232,1.4997,1.4997);

	this.T_text = new cjs.Text("ly = 10", "bold 8px 'Arial'", "#226600");
	this.T_text.name = "T_text";
	this.T_text.textAlign = "center";
	this.T_text.lineHeight = 11;
	this.T_text.lineWidth = 77;
	this.T_text.parent = this;
	this.T_text.setTransform(1184.6,254.2,2.1481,2.1481);

	this.l_text = new cjs.Text("lx = 12.05", "bold 8px 'Arial'", "#226600");
	this.l_text.name = "l_text";
	this.l_text.textAlign = "center";
	this.l_text.lineHeight = 11;
	this.l_text.lineWidth = 77;
	this.l_text.parent = this;
	this.l_text.setTransform(994.2,254.2,2.1481,2.1481);

	this.text_12 = new cjs.Text("Шаг по y", "bold 8px 'Arial'");
	this.text_12.textAlign = "center";
	this.text_12.lineHeight = 11;
	this.text_12.parent = this;
	this.text_12.setTransform(1183.2575,181.95,1.4997,1.4997);

	this.aa = new cjs.Text("Шаг по x", "bold 8px 'Arial'");
	this.aa.name = "aa";
	this.aa.textAlign = "center";
	this.aa.lineHeight = 11;
	this.aa.parent = this;
	this.aa.setTransform(995.3325,181.9,1.4997,1.4997);

	this.tau_text = new cjs.Text("hy = 0.01", "bold 8px 'Arial'", "#660000");
	this.tau_text.name = "tau_text";
	this.tau_text.textAlign = "center";
	this.tau_text.lineHeight = 11;
	this.tau_text.lineWidth = 77;
	this.tau_text.parent = this;
	this.tau_text.setTransform(1184.55,203.05,2.1481,2.1481);

	this.h_text = new cjs.Text("hx = 0.01", "bold 8px 'Arial'", "#660000");
	this.h_text.name = "h_text";
	this.h_text.textAlign = "center";
	this.h_text.lineHeight = 11;
	this.h_text.lineWidth = 77;
	this.h_text.parent = this;
	this.h_text.setTransform(994.15,203.05,2.1481,2.1481);

	this.instance_7 = new lib.CachedBmp_2();
	this.instance_7.setTransform(563.65,614.05,0.5,0.5);

	this.instance_8 = new lib.CachedBmp_1();
	this.instance_8.setTransform(60.4,33.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_8},{t:this.instance_7},{t:this.h_text},{t:this.tau_text},{t:this.aa},{t:this.text_12},{t:this.l_text},{t:this.T_text},{t:this.text_11},{t:this.text_10},{t:this.setGreen1},{t:this.setGreen2},{t:this.N_text},{t:this.K_text},{t:this.text_9},{t:this.text_8},{t:this.setBlue1},{t:this.setBlue2},{t:this.dt_text},{t:this.text_7},{t:this.setPurp1},{t:this.scheme_text},{t:this.text_6},{t:this.SLeft1},{t:this.SRight1},{t:this.meth_text},{t:this.text_5},{t:this.SLeft2},{t:this.SRight2},{t:this.beginBtn},{t:this.graphName_1},{t:this.instance_6},{t:this.axisLeft},{t:this.instance_5},{t:this.instance_4},{t:this.divDown0},{t:this.divDown1},{t:this.divDown2},{t:this.divDown3},{t:this.divDown4},{t:this.divDown5},{t:this.divDown6},{t:this.divUp0},{t:this.divUp1},{t:this.divUp2},{t:this.divUp3},{t:this.divUp4},{t:this.divUp5},{t:this.divUp6},{t:this.divUp7},{t:this.text_4},{t:this.step_text},{t:this.SLeft3},{t:this.SRight3},{t:this.stopBtn},{t:this.graphName},{t:this.instance_3},{t:this.axisDownErr},{t:this.axisLeftErr},{t:this.instance_2},{t:this.instance_1},{t:this.divDown0err},{t:this.divDown1err},{t:this.divDown2err},{t:this.divDown3err},{t:this.divDown4err},{t:this.divDown5err},{t:this.divDown6err},{t:this.divUp0err},{t:this.divUp1err},{t:this.divUp2err},{t:this.divUp3err},{t:this.divUp4err},{t:this.divUp5err},{t:this.divUp6err},{t:this.divUp7err},{t:this.line},{t:this.pogr_text},{t:this.text_3},{t:this.SLeft4},{t:this.SRight4},{t:this.scale_text},{t:this.text_2},{t:this.SLeft5},{t:this.SRight5},{t:this.axisDown},{t:this.instance},{t:this.om_text},{t:this.text_1},{t:this.setMag1},{t:this.it_text},{t:this.text},{t:this.setMag2}]}).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(640.5,360,638.8,445.70000000000005);
// library properties:
lib.properties = {
	id: 'CE111B888947574DA9C363ECE12B7BC4',
	width: 1280,
	height: 720,
	fps: 60,
	color: "#FFFFFF",
	opacity: 1.00,
	manifest: [
		{src:"images/CachedBmp_1.png?1611306337397", id:"CachedBmp_1"},
		{src:"images/index_atlas_.png?1611306337341", id:"index_atlas_"},
		{src:"images/index_atlas_2.png?1611306337342", id:"index_atlas_2"}
	],
	preloads: []
};



// bootstrap callback support:

(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.StageGL();

p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }

p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }

an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}

an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};

an.compositions = an.compositions || {};
an.compositions['CE111B888947574DA9C363ECE12B7BC4'] = {
	getStage: function() { return exportRoot.stage; },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};

an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}

an.getComposition = function(id) {
	return an.compositions[id];
}


an.makeResponsive = function(isResp, respDim, isScale, scaleType, domContainers) {		
	var lastW, lastH, lastS=1;		
	window.addEventListener('resize', resizeCanvas);		
	resizeCanvas();		
	function resizeCanvas() {			
		var w = lib.properties.width, h = lib.properties.height;			
		var iw = window.innerWidth, ih=window.innerHeight;			
		var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
		if(isResp) {                
			if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
				sRatio = lastS;                
			}				
			else if(!isScale) {					
				if(iw<w || ih<h)						
					sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==1) {					
				sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==2) {					
				sRatio = Math.max(xRatio, yRatio);				
			}			
		}			
		domContainers[0].width = w * pRatio * sRatio;			
		domContainers[0].height = h * pRatio * sRatio;			
		domContainers.forEach(function(container) {				
			container.style.width = w * sRatio + 'px';				
			container.style.height = h * sRatio + 'px';			
		});			
		stage.scaleX = pRatio*sRatio;			
		stage.scaleY = pRatio*sRatio;			
		lastW = iw; lastH = ih; lastS = sRatio;            
		stage.tickOnUpdate = false;            
		stage.update();            
		stage.tickOnUpdate = true;		
	}
}


})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;