(function (cjs, an) {

var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"index_atlas_", frames: [[0,0,1289,771],[0,773,1282,761]]},
		{name:"index_atlas_2", frames: [[1906,0,96,93],[1906,95,96,93],[1906,190,96,93],[1886,773,156,34],[1849,380,161,33],[1886,809,156,34],[1849,415,161,33],[1858,520,156,34],[1723,773,161,33],[1773,556,156,34],[1723,808,161,33],[1773,592,156,34],[1695,450,161,33],[1773,628,156,34],[1858,450,161,33],[1773,664,156,34],[1695,485,161,33],[1773,700,156,34],[1858,485,161,33],[1773,736,156,34],[1695,520,161,33],[1965,556,32,64],[1982,285,32,92],[1931,556,32,111],[1999,556,32,64],[1155,0,749,340],[0,0,1153,780],[1906,285,74,93],[1773,342,74,93],[1695,342,74,93],[1352,769,369,77],[0,826,369,77],[371,826,369,77],[2036,0,10,771],[0,782,1350,42],[742,848,1292,10],[1155,577,616,190],[1155,342,538,233]]}
];


// symbols:



(lib.CachedBmp_86 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_85 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_84 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_83 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_82 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_81 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_80 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_79 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_78 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_77 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_76 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_75 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_74 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_73 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_72 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_71 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_70 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_69 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_68 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_67 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_66 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_65 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_64 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_63 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_62 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_61 = function() {
	this.initialize(ss["index_atlas_"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_60 = function() {
	this.initialize(ss["index_atlas_"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_59 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_58 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(26);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_57 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(27);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_56 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(28);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_55 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(29);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_54 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(30);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_53 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(31);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_52 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(32);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_51 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(33);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_50 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(34);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_49 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(35);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_48 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(36);
}).prototype = p = new cjs.Sprite();



(lib.CachedBmp_47 = function() {
	this.initialize(img.CachedBmp_47);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,2433,1349);


(lib.Растровоеизображение4 = function() {
	this.initialize(ss["index_atlas_2"]);
	this.gotoAndStop(37);
}).prototype = p = new cjs.Sprite();
// helper functions:

function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}

function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}


(lib.stopBtn = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_84();
	this.instance.setTransform(-7,-1.5,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_85();
	this.instance_1.setTransform(-6.9,-1.5,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_86();
	this.instance_2.setTransform(-7,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-7,-1.5,48.1,46.5);


(lib.setPurp = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_79();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_78();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_81();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_80();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_83();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_82();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.setGreen = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_73();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_72();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_75();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_74();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_77();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_76();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.setBlue = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_67();
	this.instance.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_1 = new lib.CachedBmp_66();
	this.instance_1.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_2 = new lib.CachedBmp_69();
	this.instance_2.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_3 = new lib.CachedBmp_68();
	this.instance_3.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.instance_4 = new lib.CachedBmp_71();
	this.instance_4.setTransform(0,-1.4,0.4469,0.4469);

	this.instance_5 = new lib.CachedBmp_70();
	this.instance_5.setTransform(-0.95,-0.75,0.4469,0.4469);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).to({state:[{t:this.instance_3},{t:this.instance_2}]},1).to({state:[{t:this.instance_5},{t:this.instance_4}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-0.9,-1.4,71.9,15.4);


(lib.line = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_62();
	this.instance.setTransform(0,-0.95,0.0315,0.0315);

	this.instance_1 = new lib.CachedBmp_63();
	this.instance_1.setTransform(0,-1.7,0.0315,0.0315);

	this.instance_2 = new lib.CachedBmp_64();
	this.instance_2.setTransform(0,-1.4,0.0315,0.0315);

	this.instance_3 = new lib.CachedBmp_65();
	this.instance_3.setTransform(0,-0.95,0.0315,0.0315);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,-1.7,1,3.5);


(lib.graphGrid = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_61();
	this.instance.setTransform(-623.35,-0.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.graphGrid, new cjs.Rectangle(-623.3,-0.5,644.5,385.5), null);


(lib.graphBG = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_60();
	this.instance.setTransform(0,0,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.graphBG, new cjs.Rectangle(0,0,641,380.5), null);


(lib.frame = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_59();
	this.instance.setTransform(-2,-2,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.frame, new cjs.Rectangle(-2,-2,374.5,170), null);


(lib.dividions = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_58();
	this.instance.setTransform(-1,-1,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.dividions, new cjs.Rectangle(-1,-1,576.5,390), null);


(lib.chalNext = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_55();
	this.instance.setTransform(-1.5,-1.5,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_56();
	this.instance_1.setTransform(-1.5,-1.5,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_57();
	this.instance_2.setTransform(-1.5,-1.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1.5,-1.5,37,46.5);


(lib.begin_button = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.text = new cjs.Text("Погнали?", "bold 15px 'Consolas'");
	this.text.textAlign = "center";
	this.text.lineHeight = 20;
	this.text.lineWidth = 101;
	this.text.parent = this;
	this.text.setTransform(90.3077,3.4,1.7167,1.7028);

	this.instance = new lib.CachedBmp_52();
	this.instance.setTransform(-1.5,0.55,0.5,0.5);

	this.instance_1 = new lib.CachedBmp_53();
	this.instance_1.setTransform(-1.5,0.55,0.5,0.5);

	this.instance_2 = new lib.CachedBmp_54();
	this.instance_2.setTransform(-1.5,0.55,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.text}]}).to({state:[{t:this.instance_1},{t:this.text}]},1).to({state:[{t:this.instance_2},{t:this.text}]},1).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1.5,0,184.5,39.1);


(lib.axisLeft = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_51();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisLeft, new cjs.Rectangle(-2.5,-2.5,5,385.5), null);


(lib.axisDownTT = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.axisTp = new cjs.Text("X", "bold 13px 'Arial'");
	this.axisTp.name = "axisTp";
	this.axisTp.textAlign = "center";
	this.axisTp.lineHeight = 17;
	this.axisTp.lineWidth = 29;
	this.axisTp.parent = this;
	this.axisTp.setTransform(688.2,-15.85,2.2169,2.2169);

	this.instance = new lib.CachedBmp_50();
	this.instance.setTransform(-2.5,-10.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance},{t:this.axisTp}]}).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisDownTT, new cjs.Rectangle(-2.5,-20.3,727.5,41.1), null);


(lib.axisDown = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.CachedBmp_49();
	this.instance.setTransform(-2.5,-2.5,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.axisDown, new cjs.Rectangle(-2.5,-2.5,646,5), null);


(lib.task2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Слой_1
	this.instance = new lib.frame();
	this.instance.setTransform(185.1,83.1,1,1,0,0,0,185.1,83.1);

	this.instance_1 = new lib.Растровоеизображение4();
	this.instance_1.setTransform(4,6,0.6726,0.6919);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1},{t:this.instance}]}).wait(1));

	this._renderFirstFrame();

}).prototype = getMCSymbolPrototype(lib.task2, new cjs.Rectangle(-2,-2,374.5,170), null);


// stage content:
(lib.index = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	this.isSingleFrame = false;
	// timeline functions:
	this.frame_0 = function() {
		if(this.isSingleFrame) {
			return;
		}
		if(this.totalFrames == 1) {
			this.isSingleFrame = true;
		}
		this.gotoAndStop(2);
		
		var alpha = 0; //α
		var beta = 1; //β
		var gamma = 0; //γ
		var delta = 1; //δ
		
		//Обозначим все как граничные условия 3 рода
		
		function phi_x0(y, t) {
			return 0;
		}
		
		function phi_xl(y, t) {
			return y*Math.cos(t);
		}
		
		function phi_y0(x, t) {
			return 0;
		}
		
		function phi_yl(x, t) {
			return x*Math.cos(t);
		}
		
		function phi_t0(x, y) {
			return x*y;
		}
		
		function f(x, y, t) {
			return -1 * x * y * Math.sin(t);
		}
		
		
		function U(x, y, t) {
			return x*y*Math.cos(t);
		} //Аналитическое решение
		
		
		//Параметры сетки
		var lx = 1; //интервал x
		var Nx = 20; //количество шагов x
		var Ny = 20; //количество шагов y
		var K = 20; //количество тиков
		var ly = 1; //интервал y
		var T = 1; //длительность
		
		var hx = 0; var hy = 0; var h = 0;
		
		var a = 1; var b = 2; var c = -3;
		
		var s1_cur = 0; //по y
		var s2_cur = 0; //по x
		var s3_cur = 0; //по t
		
		var dt = 0.02; //длительность тика
		var dxy = 0.02; //длительность тика по кд
		var cur_tick = 0;
		var cur_tick2 = 0;
		
		
		var generation = 0; //номер генерации
		var go1 = false; //увеличивать счетчик тиков?
		var go2 = false; //увеличивать счетчик тиков?
		
		
		var setupType = 1;
		//1 срез по yt
		//2 срез по xt
		
		var iters = 1000;
		//Количество итераций
		
		
		this.addEventListener("tick", det_ht.bind(this));
		function det_ht() {
			hx = lx / Nx;
			hy = ly / Ny;
			h = T / K;
			
			//определяем шаги по времени и пространству
			
			this.h1_text.text = "hx = " + Math.round(hx * 100000)/100000;
			this.h2_text.text = "hy = " + Math.round(hy * 100000)/100000;
			this.tau_text.text = "τ = " + Math.round(h * 100000)/100000;
			
			this.l1_text.text = "lx = " + Math.round(lx * 100000)/100000;
			this.l2_text.text = "ly = " + Math.round(ly * 100000)/100000;
			this.T_text.text = "T = " + Math.round(T * 100000)/100000;
			
			this.N1_text.text = "Nx = " + Math.round(Nx);
			this.N2_text.text = "Ny = " + Math.round(Ny);
			this.K_text.text = "K = " + Math.round(K);
			
			this.dt_text.text = "dt = " + Math.round(dt*1000)/1000;
			this.dxy_text.text = "dx, dy = " + Math.round(dxy*1000)/1000;
			
			
			if (setupType == 1) {
				if (go1) {
					cur_tick += 1/60;
					if (cur_tick >= dxy && s1_cur < Ny) {
						var tGot = Math.floor(cur_tick / dxy);
						cur_tick %= dxy;
						s1_cur += Math.min(Ny - s1_cur, tGot);
					}
					else if (s1_cur == Ny) {
						go1 = false;
					}
				}
				if (go2) {
					cur_tick2 += 1/60;
					if (cur_tick2 >= dt && s3_cur < K) {
						var tGot = Math.floor(cur_tick2 / dt);
						cur_tick2 %= dt;
						s3_cur += Math.min(K - s3_cur, tGot);
					}
					else if (s3_cur == K) {
						go2 = false;
					}
				}
			}
			else if (setupType == 2) {
				if (go1) {
					cur_tick += 1/60;
					if (cur_tick >= dxy && s2_cur < Nx) {
						var tGot = Math.floor(cur_tick / dxy);
						cur_tick %= dxy;
						s2_cur += Math.min(Nx - s2_cur, tGot);
					}
					else if (s2_cur == Nx) {
						go1 = false;
					}
				}
				if (go2) {
					cur_tick2 += 1/60;
					if (cur_tick2 >= dt && s3_cur < K) {
						var tGot = Math.floor(cur_tick2 / dt);
						cur_tick2 %= dt;
						s3_cur += Math.min(K - s3_cur, tGot);
					}
					else if (s3_cur == K) {
						go2 = false;
					}
				}
			}
			else if (setupType == 3) {
				if (go1) {
					cur_tick += 1/60;
					if (cur_tick >= dxy && s2_cur < Nx) {
						var tGot = Math.floor(cur_tick / dxy);
						cur_tick %= dxy;
						s2_cur += Math.min(Nx - s2_cur, tGot);
					}
					else if (s2_cur == Nx) {
						go1 = false;
					}
				}
				if (go2) {
					cur_tick2 += 1/60;
					if (cur_tick2 >= dxy && s1_cur < Ny) {
						var tGot = Math.floor(cur_tick2 / dxy);
						cur_tick %= dxy;
						s1_cur += Math.min(Ny - s1_cur, tGot);
					}
					else if (s1_cur == Ny) {
						go2 = false;
					}
				}
			}
			
		}
		
		
		
		
		this.setGreen1.addEventListener("click", set_l1_prompt.bind(this));
		function set_l1_prompt() {
			generation += 1;
			var temp = prompt("Введите lx:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = lx;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			lx = temp;
		}
		
		
		
		this.setGreen2.addEventListener("click", set_l2_prompt.bind(this));
		function set_l2_prompt() {
			generation += 1;
			var temp = prompt("Введите ly:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = ly;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			ly = temp;
		}
		
		
		
		this.setGreen3.addEventListener("click", set_T_prompt.bind(this));
		function set_T_prompt() {
			generation += 1;
			var temp = prompt("Введите T:", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = T;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 0.001;
			}
			T = temp;
		}
		
		
		this.setBlue1.addEventListener("click", set_Nx_prompt.bind(this));
		function set_Nx_prompt() {
			generation += 1;
			var temp = prompt("Введите Nx:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = Nx;
			}
			else if (temp > 100) {
				//ограничение на величину
				temp = 100;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			Nx = temp;
		}
		
		
		this.setBlue2.addEventListener("click", set_Ny_prompt.bind(this));
		function set_Ny_prompt() {
			generation += 1;
			var temp = prompt("Введите Ny:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = Ny;
			}
			else if (temp > 100) {
				//ограничение на величину
				temp = 100;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			Ny = temp;
		}
		
		
		this.setBlue3.addEventListener("click", set_K_prompt.bind(this));
		function set_K_prompt() {
			generation += 1;
			var temp = prompt("Введите K:", '');
			temp = Number.parseInt(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = K;
			}
			else if (temp > 100) {
				//ограничение на величину
				temp = 100;
			}
			else if (temp <= 0) {
				//всегда положительно
				temp = 1;
			}
			K = temp;
		}
		
		
		this.setPurp1.addEventListener("click", set_dt_prompt.bind(this));
		function set_dt_prompt() {
			cur_tick = 0;
			var temp = prompt("Введите dt (для ручного переключения можно ввести очень большим):", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = dt;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp < 0.02) {
				//всегда положительно и больше 0.02 (почти плавная смена графика)
				temp = 0.02;
			}
			dt = temp;
		}
		
		
		
		this.setPurp2.addEventListener("click", set_dxy_prompt.bind(this));
		function set_dxy_prompt() {
			cur_tick = 0;
			var temp = prompt("Введите dx и dy (для ручного переключения можно ввести очень большим):", '');
			temp = Number.parseFloat(temp);
			if (isNaN(temp)) {
				//если ввели какую-то хрень
				temp = dxy;
			}
			else if (temp > 1000000) {
				//ограничение на величину
				temp = 1000000;
			}
			else if (temp < 0.02) {
				//всегда положительно и больше 0.02 (почти плавная смена графика)
				temp = 0.02;
			}
			dxy = temp;
		}
		
		
		
		
		
		
		var meth_type = 1;
		//Метод решения (схема)
		//1 - метод переменных направлений
		//2 - метод дробных шагов
		
		
		var pogr_type = 1;
		//Тип погрешности
		//1 - Абсолютная
		//2 - От времени 1
		//3 - От времени 2
		
		var scale_type = 1;
		//Масштаб графика
		//1 - Фиксированный
		//2 - Динамический
		
		this.SLeft1.addEventListener("click", scheme_left.bind(this));
		function scheme_left() {
			if (setupType == 1) {
				setupType = 3;
			}
			else {
				setupType -= 1;
			}
		}
		
		this.SRight1.addEventListener("click", scheme_right.bind(this));
		function scheme_right() {
			if (setupType == 3) {
				setupType = 1;
			}
			else {
				setupType += 1;
			}
		}
		
		
		this.SLeft2.addEventListener("click", meth_left.bind(this));
		function meth_left() {
			if (meth_type == 1) {
				meth_type = 2;
			}
			else {
				meth_type -= 1;
			}
		}
		
		this.SRight2.addEventListener("click", meth_right.bind(this));
		function meth_right() {
			if (meth_type == 2) {
				meth_type = 1;
			}
			else {
				meth_type += 1;
			}
		}
		
		
		
		this.SLeft3.addEventListener("click", curStep_left.bind(this));
		function curStep_left() {
			if (setupType <= 2) {
				if (s3_cur > 0) {
					s3_cur -= 1;
				}
			}
			else {
				if (s2_cur > 0) {
					s2_cur -= 1;
				}
			}
		}
		
		
		
		this.SLeft31.addEventListener("click", curStep_left2.bind(this));
		function curStep_left2() {
			if (setupType == 1 || setupType == 3) {
				if (s1_cur > 0) {
					s1_cur -= 1;
				}
			}
			else {
				if (s2_cur > 0) {
					s2_cur -= 1;
				}
			}
		}
		
		this.SRight3.addEventListener("click", curStep_right.bind(this));
		function curStep_right() {
			if (setupType <= 2) {
				if (s3_cur < K) {
					s3_cur += 1;
				}
			}
			else {
				if (s2_cur < Nx) {
					s2_cur += 1;
				}
			}
		}
		
		this.SRight31.addEventListener("click", curStep_right2.bind(this));
		function curStep_right2() {
			if (setupType == 1 || setupType == 3) {
				if (s1_cur < Ny) {
					s1_cur += 1;
				}
			}
			else {
				if (s2_cur < Nx) {
					s2_cur += 1;
				}
			}
		}
		
		
		this.stopBtn.addEventListener("click", curStep_stop.bind(this));
		function curStep_stop() {
			dt = 1000000;
		}
		
		this.SLeft4.addEventListener("click", pogr_left.bind(this));
		function pogr_left() {
			if (pogr_type == 1) {
				pogr_type = 3;
			}
			else {
				pogr_type -= 1;
			}
		}
		
		this.SRight4.addEventListener("click", pogr_right.bind(this));
		function pogr_right() {
			if (pogr_type == 3) {
				pogr_type = 1;
			}
			else {
				pogr_type += 1;
			}
		}
		
		this.SLeft5.addEventListener("click", scale_left.bind(this));
		function scale_left() {
			if (scale_type == 1) {
				scale_type = 2;
			}
			else {
				scale_type -= 1;
			}
		}
		
		this.SRight5.addEventListener("click", scale_right.bind(this));
		function scale_right() {
			if (scale_type == 2) {
				scale_type = 1;
			}
			else {
				scale_type += 1;
			}
		}
		
		this.addEventListener("tick", setTexts2.bind(this));
		function setTexts2() {
			if (setupType == 1) {
				this.scheme_text.text = "Срез по yt";
			}
			else if (setupType == 2) {
				this.scheme_text.text = "Срез по xt";
			}
			else if (setupType == 3) {
				this.scheme_text.text = "Срез по xy";
			}
			
			if (meth_type == 1) {
				this.meth_text.text = "Метод переменных направлений";
			}
			else if (meth_type == 2) {
				this.meth_text.text = "Метод дробных шагов";
			}
			
			
			if (pogr_type == 1) {
				this.pogr_text.text = "Абсолютная погрешность";
			}
			else if (pogr_type == 2) {
				if (setupType <= 2) {
					this.pogr_text.text = "Макс. Погрешность от времени";
				}
				else {
					this.pogr_text.text = "Макс. Погрешность от X";
				}
			}
			else if (pogr_type == 3) {
				if (setupType == 1 || setupType == 3) {
					this.pogr_text.text = "Макс. Погрешность от Y";
				}
				else {
					this.pogr_text.text = "Макс. Погрешность от X";
				}
			}
			
			
			if (scale_type == 1) {
				this.scale_text.text = "Макс. Фиксированный";
			}
			else if (scale_type == 2) {
				this.scale_text.text = "Динамический";
			}
			
			
			if (setupType == 1) {
				this.divDown0.text = "" + 0;
				this.divDown1.text = "" + Math.round(lx*1/6*1000)/1000;
				this.divDown2.text = "" + Math.round(lx*2/6*1000)/1000;
				this.divDown3.text = "" + Math.round(lx*3/6*1000)/1000;
				this.divDown4.text = "" + Math.round(lx*4/6*1000)/1000;
				this.divDown5.text = "" + Math.round(lx*5/6*1000)/1000;
				this.divDown6.text = "" + Math.round(lx*1000)/1000;
			}
			else if (setupType == 2) {
				this.divDown0.text = "" + 0;
				this.divDown1.text = "" + Math.round(ly*1/6*1000)/1000;
				this.divDown2.text = "" + Math.round(ly*2/6*1000)/1000;
				this.divDown3.text = "" + Math.round(ly*3/6*1000)/1000;
				this.divDown4.text = "" + Math.round(ly*4/6*1000)/1000;
				this.divDown5.text = "" + Math.round(ly*5/6*1000)/1000;
				this.divDown6.text = "" + Math.round(ly*1000)/1000;
			}
			else if (setupType == 3) {
				this.divDown0.text = "" + 0;
				this.divDown1.text = "" + Math.round(T*1/6*1000)/1000;
				this.divDown2.text = "" + Math.round(T*2/6*1000)/1000;
				this.divDown3.text = "" + Math.round(T*3/6*1000)/1000;
				this.divDown4.text = "" + Math.round(T*4/6*1000)/1000;
				this.divDown5.text = "" + Math.round(T*5/6*1000)/1000;
				this.divDown6.text = "" + Math.round(T*1000)/1000;
			}
			
			if (setupType == 1) {
				if (pogr_type == 1) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(lx*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(lx*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(lx*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(lx*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(lx*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(lx*1000)/1000;
				}
				else if (pogr_type == 2) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(T*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(T*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(T*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(T*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(T*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(T*1000)/1000;
				}
				else if (pogr_type == 3) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(ly*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(ly*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(ly*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(ly*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(ly*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(ly*1000)/1000;
				}
			}
			else if (setupType == 2) {
				if (pogr_type == 1) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(ly*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(ly*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(ly*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(ly*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(ly*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(ly*1000)/1000;
				}
				else if (pogr_type == 2) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(T*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(T*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(T*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(T*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(T*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(T*1000)/1000;
				}
				else if (pogr_type == 3) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(lx*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(lx*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(lx*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(lx*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(lx*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(lx*1000)/1000;
				}
			}
			else {
				if (pogr_type == 1) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(T*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(T*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(T*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(T*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(T*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(T*1000)/1000;
				}
				else if (pogr_type == 2) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(lx*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(lx*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(lx*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(lx*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(lx*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(lx*1000)/1000;
				}
				else if (pogr_type == 3) {
					this.divDown0err.text = "" + 0;
					this.divDown1err.text = "" + Math.round(ly*1/6*1000)/1000;
					this.divDown2err.text = "" + Math.round(ly*2/6*1000)/1000;
					this.divDown3err.text = "" + Math.round(ly*3/6*1000)/1000;
					this.divDown4err.text = "" + Math.round(ly*4/6*1000)/1000;
					this.divDown5err.text = "" + Math.round(ly*5/6*1000)/1000;
					this.divDown6err.text = "" + Math.round(ly*1000)/1000;
				}
			}
			
			if (setupType == 1) {
				if (maxValsxt.length > 0 && scale_type == 2) {
					this.divUp0.text = "" + Math.round(minValsyt[s3_cur][s1_cur]*1000)/1000;
					this.divUp1.text = "" + Math.round((minValsyt[s3_cur][s1_cur] + (maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur])*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minValsyt[s3_cur][s1_cur] + (maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur])*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minValsyt[s3_cur][s1_cur] + (maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur])*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minValsyt[s3_cur][s1_cur] + (maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur])*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minValsyt[s3_cur][s1_cur] + (maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur])*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minValsyt[s3_cur][s1_cur] + (maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur])*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxValsyt[s3_cur][s1_cur]*1000)/1000;
				}
				else {
					this.divUp0.text = "" + Math.round(minMinValyt*1000)/1000;
					this.divUp1.text = "" + Math.round((minMinValyt + (maxMaxValyt - minMinValyt)*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minMinValyt + (maxMaxValyt - minMinValyt)*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minMinValyt + (maxMaxValyt - minMinValyt)*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minMinValyt + (maxMaxValyt - minMinValyt)*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minMinValyt + (maxMaxValyt - minMinValyt)*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minMinValyt + (maxMaxValyt - minMinValyt)*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxMaxValyt*1000)/1000;
				}
			}
			else if (setupType == 2) {
				if (maxValsyt.length > 0 && scale_type == 2) {
					this.divUp0.text = "" + Math.round(minValsxt[s3_cur][s2_cur]*1000)/1000;
					this.divUp1.text = "" + Math.round((minValsxt[s3_cur][s2_cur] + (maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur])*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minValsxt[s3_cur][s2_cur] + (maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur])*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minValsxt[s3_cur][s2_cur] + (maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur])*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minValsxt[s3_cur][s2_cur] + (maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur])*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minValsxt[s3_cur][s2_cur] + (maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur])*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minValsxt[s3_cur][s2_cur] + (maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur])*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxValsxt[s3_cur][s2_cur]*1000)/1000;
				}
				else {
					this.divUp0.text = "" + Math.round(minMinValxt*1000)/1000;
					this.divUp1.text = "" + Math.round((minMinValxt + (maxMaxValxt - minMinValxt)*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minMinValxt + (maxMaxValxt - minMinValxt)*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minMinValxt + (maxMaxValxt - minMinValxt)*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minMinValxt + (maxMaxValxt - minMinValxt)*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minMinValxt + (maxMaxValxt - minMinValxt)*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minMinValxt + (maxMaxValxt - minMinValxt)*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxMaxValxt*1000)/1000;
				}
			}
			else {
				if (maxValsxy.length > 0 && scale_type == 2) {
					this.divUp0.text = "" + Math.round(minValsxy[s1_cur][s2_cur]*1000)/1000;
					this.divUp1.text = "" + Math.round((minValsxy[s1_cur][s2_cur] + (maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur])*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minValsxy[s1_cur][s2_cur] + (maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur])*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minValsxy[s1_cur][s2_cur] + (maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur])*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minValsxy[s1_cur][s2_cur] + (maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur])*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minValsxy[s1_cur][s2_cur] + (maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur])*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minValsxy[s1_cur][s2_cur] + (maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur])*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxValsxy[s1_cur][s2_cur]*1000)/1000;
				}
				else {
					this.divUp0.text = "" + Math.round(minMinValxy*1000)/1000;
					this.divUp1.text = "" + Math.round((minMinValxy + (maxMaxValxy - minMinValxy)*1/7)*1000)/1000;
					this.divUp2.text = "" + Math.round((minMinValxy + (maxMaxValxy - minMinValxy)*2/7)*1000)/1000;
					this.divUp3.text = "" + Math.round((minMinValxy + (maxMaxValxy - minMinValxy)*3/7)*1000)/1000;
					this.divUp4.text = "" + Math.round((minMinValxy + (maxMaxValxy - minMinValxy)*4/7)*1000)/1000;
					this.divUp5.text = "" + Math.round((minMinValxy + (maxMaxValxy - minMinValxy)*5/7)*1000)/1000;
					this.divUp6.text = "" + Math.round((minMinValxy + (maxMaxValxy - minMinValxy)*6/7)*1000)/1000;
					this.divUp7.text = "" + Math.round(maxMaxValxy*1000)/1000;
				}
			}
			
			if (setupType == 1) {
				if (maxValsE.length > 0 && scale_type == 2 && pogr_type == 1) {
					this.divUp0err.text = "" + Math.round(minValsE[s3_cur][s1_cur]*1000)/1000;
					this.divUp1err.text = "" + Math.round((minValsE[s3_cur][s1_cur] + (maxValsE[s3_cur][s1_cur] - minValsE[s3_cur][s1_cur])*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minValsE[s3_cur][s1_cur] + (maxValsE[s3_cur][s1_cur] - minValsE[s3_cur][s1_cur])*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minValsE[s3_cur][s1_cur] + (maxValsE[s3_cur][s1_cur] - minValsE[s3_cur][s1_cur])*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minValsE[s3_cur][s1_cur] + (maxValsE[s3_cur][s1_cur] - minValsE[s3_cur][s1_cur])*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minValsE[s3_cur][s1_cur] + (maxValsE[s3_cur][s1_cur] - minValsE[s3_cur][s1_cur])*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minValsE[s3_cur][s1_cur] + (maxValsE[s3_cur][s1_cur] - minValsE[s3_cur][s1_cur])*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxValsE[s3_cur][s1_cur]*1000)/1000;
				}
				else if (pogr_type == 1) {
					this.divUp0err.text = "" + Math.round(minMinValE*1000)/1000;
					this.divUp1err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxMaxValE*1000)/1000;
				}
				else if (pogr_type == 2) {
					this.divUp0err.text = "" + Math.round(minEotTt*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTt + (maxEotTt - minEotTt)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTt + (maxEotTt - minEotTt)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTt + (maxEotTt - minEotTt)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTt + (maxEotTt - minEotTt)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTt + (maxEotTt - minEotTt)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTt + (maxEotTt - minEotTt)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTt*10000)/10000;
				}
				else if (pogr_type == 3) {
					this.divUp0err.text = "" + Math.round(minEotTy*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTy + (maxEotTy - minEotTy)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTy*10000)/10000;
				}
			}
			else if (setupType == 2) {
				if (maxValsE.length > 0 && scale_type == 2 && pogr_type == 1) {
					this.divUp0err.text = "" + Math.round(minValsE[s3_cur][s2_cur]*1000)/1000;
					this.divUp1err.text = "" + Math.round((minValsE[s3_cur][s2_cur] + (maxValsE[s3_cur][s2_cur] - minValsE[s3_cur][s2_cur])*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minValsE[s3_cur][s2_cur] + (maxValsE[s3_cur][s2_cur] - minValsE[s3_cur][s2_cur])*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minValsE[s3_cur][s2_cur] + (maxValsE[s3_cur][s2_cur] - minValsE[s3_cur][s2_cur])*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minValsE[s3_cur][s2_cur] + (maxValsE[s3_cur][s2_cur] - minValsE[s3_cur][s2_cur])*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minValsE[s3_cur][s2_cur] + (maxValsE[s3_cur][s2_cur] - minValsE[s3_cur][s2_cur])*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minValsE[s3_cur][s2_cur] + (maxValsE[s3_cur][s2_cur] - minValsE[s3_cur][s2_cur])*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxValsE[s3_cur][s2_cur]*1000)/1000;
				}
				else if (pogr_type == 1) {
					this.divUp0err.text = "" + Math.round(minMinValE*1000)/1000;
					this.divUp1err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxMaxValE*1000)/1000;
				}
				else if (pogr_type == 2) {
					this.divUp0err.text = "" + Math.round(minEotTt2*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTt2 + (maxEotTt2 - minEotTt2)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTt2 + (maxEotTt2 - minEotTt2)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTt2 + (maxEotTt2 - minEotTt2)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTt2 + (maxEotTt2 - minEotTt2)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTt2 + (maxEotTt2 - minEotTt2)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTt2 + (maxEotTt2 - minEotTt2)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTt2*10000)/10000;
				}
				else if (pogr_type == 3) {
					this.divUp0err.text = "" + Math.round(minEotTx2*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTx2 + (maxEotTx2 - minEotTx2)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTx2 + (maxEotTx2 - minEotTx2)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTx2 + (maxEotTx2 - minEotTx2)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTx2 + (maxEotTx2 - minEotTx2)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTx2 + (maxEotTx2 - minEotTx2)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTx2 + (maxEotTx2 - minEotTx2)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTx2*10000)/10000;
				}
			}
			else {
				if (maxValsE.length > 0 && scale_type == 2 && pogr_type == 1) {
					this.divUp0err.text = "" + Math.round(minValsE[s1_cur][s2_cur]*1000)/1000;
					this.divUp1err.text = "" + Math.round((minValsE[s1_cur][s2_cur] + (maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur])*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minValsE[s1_cur][s2_cur] + (maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur])*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minValsE[s1_cur][s2_cur] + (maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur])*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minValsE[s1_cur][s2_cur] + (maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur])*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minValsE[s1_cur][s2_cur] + (maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur])*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minValsE[s1_cur][s2_cur] + (maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur])*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxValsE[s1_cur][s2_cur]*1000)/1000;
				}
				else if (pogr_type == 1) {
					this.divUp0err.text = "" + Math.round(minMinValE*1000)/1000;
					this.divUp1err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*1/7)*1000)/1000;
					this.divUp2err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*2/7)*1000)/1000;
					this.divUp3err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*3/7)*1000)/1000;
					this.divUp4err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*4/7)*1000)/1000;
					this.divUp5err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*5/7)*1000)/1000;
					this.divUp6err.text = "" + Math.round((minMinValE + (maxMaxValE - minMinValE)*6/7)*1000)/1000;
					this.divUp7err.text = "" + Math.round(maxMaxValE*1000)/1000;
				}
				else if (pogr_type == 2) {
					this.divUp0err.text = "" + Math.round(minEotTx*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTx + (maxEotTx - minEotTx)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTx*10000)/10000;
				}
				else if (pogr_type == 3) {
					this.divUp0err.text = "" + Math.round(minEotTy2*10000)/10000;
					this.divUp1err.text = "" + Math.round((minEotTy2 + (maxEotTy2 - minEotTy2)*1/7)*10000)/10000;
					this.divUp2err.text = "" + Math.round((minEotTy2 + (maxEotTy2 - minEotTy2)*2/7)*10000)/10000;
					this.divUp3err.text = "" + Math.round((minEotTy2 + (maxEotTy2 - minEotTy2)*3/7)*10000)/10000;
					this.divUp4err.text = "" + Math.round((minEotTy2 + (maxEotTy2 - minEotTy2)*4/7)*10000)/10000;
					this.divUp5err.text = "" + Math.round((minEotTy2 + (maxEotTy2 - minEotTy2)*5/7)*10000)/10000;
					this.divUp6err.text = "" + Math.round((minEotTy2 + (maxEotTy2 - minEotTy2)*6/7)*10000)/10000;
					this.divUp7err.text = "" + Math.round(maxEotTy2*10000)/10000;
				}
			}
			
			
			if (setupType == 1) {
				var s1_cur2 = s1_cur*hy;
				var s3_cur2 = s3_cur*h;
				this.step_text.text = "t = " + Math.round(s3_cur2*10000)/10000 + " (шаг " + Math.round(s3_cur) + ")";
				this.step_text2.text = "y = " + Math.round(s1_cur2*10000)/10000 + " (шаг " + Math.round(s1_cur) + ")";
				this.axisDown.axisTp.text = "X";
			}
			else if (setupType == 2) {
				var s2_cur2 = s2_cur*hx;
				var s3_cur2 = s3_cur*h;
				this.step_text.text = "t = " + Math.round(s3_cur2*10000)/10000 + " (шаг " + Math.round(s3_cur) + ")";
				this.step_text2.text = "x = " + Math.round(s2_cur2*10000)/10000 + " (шаг " + Math.round(s2_cur) + ")";
				this.axisDown.axisTp.text = "Y";
			}
			else if (setupType == 3) {
				var s1_cur2 = s1_cur*hy;
				var s2_cur2 = s2_cur*hx;
				this.step_text.text = "x = " + Math.round(s2_cur2*10000)/10000 + " (шаг " + Math.round(s2_cur) + ")";
				this.step_text2.text = "y = " + Math.round(s1_cur2*10000)/10000 + " (шаг " + Math.round(s1_cur) + ")";
				this.axisDown.axisTp.text = "t";
			}
			this.axisDown.y = Math.min(Math.max(transfY(0), 26.4), 418.6);
			
			
			this.axisDownErr.y = Math.min(Math.max(transfEY(0), 468), 700);
		}
		
		
		//baseGraph
		//x = 0 : posX = 60
		//y = 0 : posY = 418.6
		
		//x = max : posX = 627
		//y = max : posY = 26.4
		
		//errGraph
		//x = 0 : posX = 53.6
		//y = 0 : posY = 700
		
		//x = max : posX = 397.8
		//y = max : posY = 468.4
		
		
		
		
		
		var s1_cur = 0;
		//текущий шаг по y
		
		var s2_cur = 0;
		//текущий шаг по x
		
		var s3_cur = 0;
		//текущий шаг по t
		
		
		var etalon = [];
		var xVector = [];
		var yVector = [];
		var tVector = [];
		
		var errorCube = []
		
		var maxMaxValyt = 1;
		var minMinValyt = 0;
		
		var maxMaxValxt = 1;
		var minMinValxt = 0;
		
		var maxMaxValxy = 1;
		var minMinValxy = 0;
		
		var maxMaxValE = 1; //link
		var minMinValE = 0; //link
		
		var maxMaxValE1yt = 1;
		var minMinValE1yt = 0;
		
		var maxMaxValE1xt = 1;
		var minMinValE1xt = 0;
		
		var maxMaxValE1xy = 1;
		var minMinValE1xy = 0;
		
		var maxValsyt = [];
		var minValsyt = [];
		
		var maxValsxt = [];
		var minValsxt = [];
		
		var maxValsxy = [];
		var minValsxy = [];
		
		var maxValsE = []; //link
		var minValsE = []; //link
		
		var maxValsE1yt = [];
		var minValsE1yt = [];
		
		var maxValsE1xt = [];
		var minValsE1xt = [];
		
		var maxValsE1xy = [];
		var minValsE1xy = [];
		
		
		
		var EotTx = [];
		var EotTy = [];
		var EotTt = [];
		
		var EotTx2 = [];
		var EotTy2 = [];
		var EotTt2 = [];
		
		this.addEventListener("tick", setError.bind(this));
		function setError() {
			if (setupType == 1) {
				maxMaxValE = maxMaxValE1yt;
				minMinValE = minMinValE1yt;
				maxValsE = maxValsE1yt;
				minValsE = minValsE1yt;
			}
			else if (setupType == 2) {
				maxMaxValE = maxMaxValE1xt;
				minMinValE = minMinValE1xt;
				maxValsE = maxValsE1xt;
				minValsE = minValsE1xt;
		
			}
			else if (setupType == 3) {
				maxMaxValE = maxMaxValE1xy;
				minMinValE = minMinValE1xy;
				maxValsE = maxValsE1xy;
				minValsE = minValsE1xy;
			}
		}
		
		var solve = [];
		var solve2 = [];
		
		
		function copyV(vector) {
			var newV = [];
			for (var i = 0 ; i < vector.length ; ++i) {
				newV.push(vector[i]);
			}
			return newV;
		}
		
		function copyM(matrix) {
			var newM = [];
			for (var i = 0 ; i < matrix.length ; ++i) {
				newM.push(copyV(matrix[i]));
			}
			return newM;
		}
		
		function copyC(cube) {
			var newC = [];
			for (var i = 0 ; i < cube.length ; ++i) {
				newC.push(copyM(cube[i]));
			}
			return newC;
		}
		
		
		var minEotTx = 0;
		var maxEotTx = 1;
		
		var minEotTy = 0;
		var maxEotTy = 1;
		
		var minEotTt = 0;
		var maxEotTt = 1;
		
		var minEotTx2 = 0;
		var maxEotTx2 = 1;
		
		var minEotTy2 = 0;
		var maxEotTy2 = 1;
		
		var minEotTt2 = 0;
		var maxEotTt2 = 1;
		
		
		
		
		this.beginBtn.addEventListener("click", beginSimulation.bind(this));
		function beginSimulation() {
			generation += 1;
			s1_cur = 0;
			s2_cur = 0;
			s3_cur = 0;
			etalon = [];
			solve = [];
			solve2 = [];
			maxMaxValyt = 1;
			minMinValyt = 0;
			
			maxMaxValxt = 1;
			minMinValxt = 0;
			
			maxMaxValxy = 1;
			minMinValxy = 0;
		
			maxValsyt = [];
			minValsyt = [];
			
			for (var t = 0; t <= K ; ++t) {
				var line = [];
				for (var y = 0 ; y <= Ny ; ++y) {
					line.push(0);
				}
				maxValsyt.push(copyV(line));
				minValsyt.push(copyV(line));
			}
			
			maxValsxt = [];
			minValsxt = [];
			
			for (var t = 0; t <= K ; ++t) {
				var line = [];
				for (var x = 0 ; x <= Nx ; ++x) {
					line.push(0);
				}
				maxValsxt.push(copyV(line));
				minValsxt.push(copyV(line));
			}
			
			maxValsxy = [];
			minValsxy = [];
			
			for (var y = 0; y <= Ny ; ++y) {
				var line = [];
				for (var x = 0 ; x <= Nx ; ++x) {
					line.push(0);
				}
				maxValsxy.push(copyV(line));
				minValsxy.push(copyV(line));
			}
			
			xVector = [];
			yVector = [];
			tVector = [];
			
			for (var j = 0 ; j <= Nx ; ++j) {
				xVector.push(hx * j);
			}
			for (var j = 0 ; j <= Ny ; ++j) {
				yVector.push(hy * j);
			}
			for (var j = 0 ; j <= K ; ++j) {
				tVector.push(h * j);
			}
			
			
			
			
			for (var i = 0 ; i <= K ; ++i) {
				var timeMatrix = [];
				var this_t = tVector[i];
				
				var this_maxX = 0;
				var this_minX = 0;
				
				for (var j = 0 ; j <= Ny ; ++j) {
					var timeVector = [];
					var this_y = yVector[j];
					
					for (var k = 0 ; k <= Nx ; ++k) {
						var this_x = xVector[k];
						var func_res = U(this_x, this_y, this_t);
						
						if (k == 0) {
							maxValsyt[i][j] = func_res;
							minValsyt[i][j] = func_res;
						}
						else {
							maxValsyt[i][j] = (func_res > maxValsyt[i][j] ? func_res : maxValsyt[i][j]);
							minValsyt[i][j] = (func_res < minValsyt[i][j] ? func_res : minValsyt[i][j]);
						}
						
						
						if (j == 0) {
							maxValsxt[i][k] = func_res;
							minValsxt[i][k] = func_res;
						}
						else {
							maxValsxt[i][k] = (func_res > maxValsxt[i][k] ? func_res : maxValsxt[i][k]);
							minValsxt[i][k] = (func_res < minValsxt[i][k] ? func_res : minValsxt[i][k]);
						}
						
						
						if (i == 0) {
							maxValsxy[j][k] = func_res;
							minValsxy[j][k] = func_res;
						}
						else {
							maxValsxy[j][k] = (func_res > maxValsxy[j][k] ? func_res : maxValsxy[j][k]);
							minValsxy[j][k] = (func_res < minValsxy[j][k] ? func_res : minValsxy[j][k]);
						}
						
						
						timeVector.push(func_res);
					}
					
					timeMatrix.push(timeVector);
					
				}
				etalon.push(timeMatrix);
			}
			
			solve2 = [];
			var downGrid = [];//нижний слой
			var emptyGrid = [];//пустая сетка
			
			for (var y = 0 ; y <= Ny ; ++y) {
				var timeVector = [];
				var emptyVector = [];
				var this_y = yVector[y];
				for (var x = 0 ; x <= Nx ; ++x) {
					var this_x = xVector[x];
					var res = phi_t0(this_x, this_y);
					timeVector.push(res);
					emptyVector.push(0);
				}
				downGrid.push(timeVector);
				emptyGrid.push(emptyVector);
			}
			
			solve2.push(downGrid);
			
			//метод переменных направлений
			if (meth_type == 1) {
				for (var it = 1 ; it <= 2*K ; ++it) {
					solve2.push(copyM(emptyGrid));
					var curT = it*h/2;
					
					//обрабатываем граничные условия
					for (var y = 0 ; y <= Ny ; ++y) {
						var curY = y*hy;
						solve2[it][y][0] = phi_x0(curY, curT);
						solve2[it][y][Nx] = phi_xl(curY, curT);
					}
					
					for (var x = 0 ; x <= Nx ; ++x) {
						var curX = x*hx;
						solve2[it][0][x] = phi_y0(curX, curT);
						solve2[it][Ny][x] = phi_yl(curX, curT);
					}
					
					var itsMatrix = [];
					
					//нечетный шаг схемы переменных направлений
					
					if (it%2 == 1) {
						for (var j = 1 ; j < Ny ; ++j) {
							var curY = j*hy;
							var solveMatr = [];
							var resVector = [];
							var BVector = [];
							for (var i = 0 ; i <= Nx ; ++i) {
								var curX = i*hx;
								var freeVector = [];
								
								for (var ii = 0 ; ii <= Nx ; ++ii) {
									if (i == 0) {
										if (ii == 0) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
									else if (i < Nx) {
										if (ii < i - 1) {
											freeVector.push(0);
										}
										else if (ii == i - 1) {
											var A = h / (2 * hx * hx);
											freeVector.push(A);
										}
										else if (ii == i) {
											var B = -1 - (h / (hx * hx));
											freeVector.push(B);
										}
										else if (ii == i + 1) {
											var C = h / (2 * hx * hx);
											freeVector.push(C);
										}
										else {
											freeVector.push(0);
										}
									}
									else {
										if (ii == Nx) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
								}
								solveMatr.push(freeVector);
								
								if (i == 0) {
									BVector.push(phi_x0(curY, curT));
								}
								else if (i < Nx) {
									var D = -h/(2*hy*hy)*(solve2[it-1][j+1][i]
										- 2*solve2[it-1][j][i] + solve2[it-1][j-1][i])
										- solve2[it-1][j][i] - (h/2)*f(curX, curY, curT);
									
									
									BVector.push(D);
								}
								else {
									BVector.push(phi_xl(curY, curT));
								}
							}
							
							resVector = progonka(solveMatr, BVector);
							itsMatrix.push(copyV(resVector));
						}
						
						
						for (var y = 0 ; y < Ny - 1 ; ++y) {
							for (var x = 0 ; x <= Nx ; ++x) {
								solve2[it][y+1][x] = itsMatrix[y][x];
							}
						}
					}
					else {
						for (var j = 1 ; j < Nx ; ++j) {
							var curX = j*hx;
							var solveMatr = [];
							var resVector = [];
							var BVector = [];
							for (var i = 0 ; i <= Ny ; ++i) {
								var curY = i*hy;
								var freeVector = [];
								
								for (var ii = 0 ; ii <= Ny ; ++ii) {
									if (i == 0) {
										if (ii == 0) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
									else if (i < Ny) {
										if (ii < i - 1) {
											freeVector.push(0);
										}
										else if (ii == i - 1) {
											var A = h / (2 * hy * hy);
											freeVector.push(A);
										}
										else if (ii == i) {
											var B = -1 - (h / (hy * hy));
											freeVector.push(B);
										}
										else if (ii == i + 1) {
											var C = h / (2 * hy * hy);
											freeVector.push(C);
										}
										else {
											freeVector.push(0);
										}
									}
									else {
										if (ii == Ny) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
								}
								solveMatr.push(copyV(freeVector));
								
								if (i == 0) {
									BVector.push(phi_y0(curX, curT - h/2));
								}
								else if (i < Ny) {
									var D = -h/(2*hx*hx)*(solve2[it-1][i][j+1]
										- 2*solve2[it-1][i][j] + solve2[it-1][i][j-1])
										- solve2[it-1][i][j] - (h/2)*f(curX, curY, curT - h/2);
									
									BVector.push(D);
								}
								else {
									BVector.push(phi_yl(curX, curT - h/2));
								}
							}
							
							resVector = progonka(solveMatr, BVector);
							
							
							itsMatrix.push(copyV(resVector));
						}
						
						
						
						for (var y = 0 ; y <= Ny ; ++y) {
							for (var x = 0 ; x < Nx - 1 ; ++x) {
								solve2[it][y][x+1] = itsMatrix[x][y];
							}
						}
					}
				}
			}
			else {
				for (var it = 1 ; it <= 2*K ; ++it) {
					solve2.push(copyM(emptyGrid));
					var curT = it*h/2;
					
					//обрабатываем граничные условия
					for (var y = 0 ; y <= Ny ; ++y) {
						var curY = y*hy;
						solve2[it][y][0] = phi_x0(curY, curT);
						solve2[it][y][Nx] = phi_xl(curY, curT);
					}
					
					for (var x = 0 ; x <= Nx ; ++x) {
						var curX = x*hx;
						solve2[it][0][x] = phi_y0(curX, curT);
						solve2[it][Ny][x] = phi_yl(curX, curT);
					}
					
					var itsMatrix = [];
					
					//нечетный шаг схемы дробных шагов
					
					if (it%2 == 1) {
						for (var j = 1 ; j < Ny ; ++j) {
							var curY = j*hy;
							var solveMatr = [];
							var resVector = [];
							var BVector = [];
							for (var i = 0 ; i <= Nx ; ++i) {
								var curX = i*hx;
								var freeVector = [];
								
								for (var ii = 0 ; ii <= Nx ; ++ii) {
									if (i == 0) {
										if (ii == 0) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
									else if (i < Nx) {
										if (ii < i - 1) {
											freeVector.push(0);
										}
										else if (ii == i - 1) {
											var A = h / (hx * hx);
											freeVector.push(A);
										}
										else if (ii == i) {
											var B = -1 - (2 * h / (hx * hx));
											freeVector.push(B);
										}
										else if (ii == i + 1) {
											var C = h / (hx * hx);
											freeVector.push(C);
										}
										else {
											freeVector.push(0);
										}
									}
									else {
										if (ii == Nx) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
								}
								solveMatr.push(freeVector);
								
								if (i == 0) {
									BVector.push(phi_x0(curY, curT-h/2));
								}
								else if (i < Nx) {
									var D = -h*f(curX, curY, curT-h/2)/2 - solve2[it-1][j][i];
				
									BVector.push(D);
								}
								else {
									BVector.push(phi_xl(curY, curT-h/2));
								}
							}
							
							resVector = progonka(solveMatr, BVector);
							itsMatrix.push(copyV(resVector));
						}
						
						
						for (var y = 0 ; y < Ny - 1 ; ++y) {
							for (var x = 0 ; x <= Nx ; ++x) {
								solve2[it][y+1][x] = itsMatrix[y][x];
							}
						}
					}
					else {
						for (var j = 1 ; j < Nx ; ++j) {
							var curX = j*hx;
							var solveMatr = [];
							var resVector = [];
							var BVector = [];
							for (var i = 0 ; i <= Ny ; ++i) {
								var curY = i*hy;
								var freeVector = [];
								
								for (var ii = 0 ; ii <= Ny ; ++ii) {
									if (i == 0) {
										if (ii == 0) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
									else if (i < Ny) {
										if (ii < i - 1) {
											freeVector.push(0);
										}
										else if (ii == i - 1) {
											var A = h / (hy * hy);
											freeVector.push(A);
										}
										else if (ii == i) {
											var B = -1 - (2*h / (hy * hy));
											freeVector.push(B);
										}
										else if (ii == i + 1) {
											var C = h / (hy * hy);
											freeVector.push(C);
										}
										else {
											freeVector.push(0);
										}
									}
									else {
										if (ii == Ny) {
											freeVector.push(1);
										}
										else {
											freeVector.push(0);
										}
									}
								}
								solveMatr.push(copyV(freeVector));
								
								if (i == 0) {
									BVector.push(phi_y0(curX, curT));
								}
								else if (i < Ny) {
									var D = -h*f(curX, curY, curT)/2 - solve2[it-1][i][j];
									
									BVector.push(D);
								}
								else {
									BVector.push(phi_yl(curX, curT));
								}
							}
							
							resVector = progonka(solveMatr, BVector);
							
							
							itsMatrix.push(copyV(resVector));
						}
						
						
						
						for (var y = 0 ; y <= Ny ; ++y) {
							for (var x = 0 ; x < Nx - 1 ; ++x) {
								solve2[it][y][x+1] = itsMatrix[x][y];
							}
						}
					}
				}
			}
			
			
			
			
			
			
			
			
			for (var m = 0 ; m <= 2*K ; m+=2) {
				solve.push(copyM(solve2[m]));
			}
			
			
			//update minMax
			for (var i = 0 ; i <= K ; ++i) {
				
				for (var j = 0 ; j <= Ny ; ++j) {
					
					for (var k = 0 ; k <= Nx ; ++k) {
		
						maxValsyt[i][j] = (solve[i][j][k] > maxValsyt[i][j] ? solve[i][j][k] : maxValsyt[i][j]);
						minValsyt[i][j] = (solve[i][j][k] < minValsyt[i][j] ? solve[i][j][k] : minValsyt[i][j]);
						
					
						maxValsxt[i][k] = (solve[i][j][k] > maxValsxt[i][k] ? solve[i][j][k] : maxValsxt[i][k]);
						minValsxt[i][k] = (solve[i][j][k] < minValsxt[i][k] ? solve[i][j][k] : minValsxt[i][k]);
					
						maxValsxy[j][k] = (solve[i][j][k] > maxValsxy[j][k] ? solve[i][j][k] : maxValsxy[j][k]);
						minValsxy[j][k] = (solve[i][j][k] < minValsxy[j][k] ? solve[i][j][k] : minValsxy[j][k]);
						
					}
				}
			}
			
			
			
			maxMaxValyt = maxValsyt[0][0];
			minMinValyt = minValsyt[0][0];
			
			for (var t = 0; t <= K ; ++t) {
				for (var y = 0 ; y <= Ny ; ++y) {
					maxMaxValyt = (maxValsyt[t][y] > maxMaxValyt ? maxValsyt[t][y] : maxMaxValyt);
					minMinValyt = (minValsyt[t][y] < minMinValyt ? minValsyt[t][y] : minMinValyt);
				}
			}
			
			maxMaxValxt = maxValsxt[0][0];
			minMinValxt = minValsxt[0][0];
			
			for (var t = 0; t <= K ; ++t) {
				for (var x = 0 ; x <= Nx ; ++x) {
					maxMaxValxt = (maxValsxt[t][x] > maxMaxValxt ? maxValsxt[t][x] : maxMaxValxt);
					minMinValxt = (minValsxt[t][x] < minMinValxt ? minValsxt[t][x] : minMinValxt);
				}
			}
			
			
			maxMaxValxy = maxValsxy[0][0];
			minMinValxy = minValsxy[0][0];
			
			for (var y = 0; y <= Ny ; ++y) {
				for (var x = 0 ; x <= Nx ; ++x) {
					maxMaxValxy = (maxValsxy[y][x] > maxMaxValxy ? maxValsxy[y][x] : maxMaxValxy);
					minMinValxy = (minValsxy[y][x] < minMinValxy ? minValsxy[y][x] : minMinValxy);
				}
			}	
			
			
			// error
			
			maxMaxValE1yt = 1;
			minMinValE1yt = 0;
			
			maxMaxValE1xt = 1;
			minMinValE1xt = 0;
			
			maxMaxValE1xy = 1;
			minMinValE1xy = 0;
		
			maxValsE1yt = [];
			minValsE1yt = [];
		
			maxValsE1xt = [];
			minValsE1xt = [];
		
			maxValsE1xy = [];
			minValsE1xy = [];
			
			EotTx = [];
			EotTy = [];
			EotTt = [];
			
			EotTx2 = [];
			EotTy2 = [];
			EotTt2 = [];
			
			
			errorCube = copyC(solve);
			
			for (var t = 0 ; t <= K ; ++t) {
				for (var y = 0 ; y <= Ny ; ++y) {
					for (var x = 0 ; x <= Nx ; ++x) {
						errorCube[t][y][x] -= etalon[t][y][x];
					}
				}
			}
			
			for (var t = 0 ; t <= K ; ++t) {
				maxValsE1yt.push([]);
				minValsE1yt.push([]);
				for (var y = 0 ; y <= Ny ; ++y) {
					for (var x = 0 ; x <= Nx ; ++x) {
						if (x == 0) {
							maxValsE1yt[t].push(errorCube[t][y][x]);
							minValsE1yt[t].push(errorCube[t][y][x]);
						}
						else {
							maxValsE1yt[t][y] = (errorCube[t][y][x] > maxValsE1yt[t][y] ? errorCube[t][y][x] : maxValsE1yt[t][y]);
							minValsE1yt[t][y] = (errorCube[t][y][x] < minValsE1yt[t][y] ? errorCube[t][y][x] : minValsE1yt[t][y]);
						}
					}
				}
			}
			
			maxMaxValE1yt = maxValsE1yt[0][0];
			minMinValE1yt = minValsE1yt[0][0];
			
			for (var t = 0; t <= K ; ++t) {
				for (var y = 0 ; y <= Ny ; ++y) {
					maxMaxValE1yt = (maxValsE1yt[t][y] > maxMaxValE1yt ? maxValsE1yt[t][y] : maxMaxValE1yt);
					minMinValE1yt = (minValsE1yt[t][y] < minMinValE1yt ? minValsE1yt[t][y] : minMinValE1yt);
				}
			}
			
			
			
			for (var t = 0 ; t <= K ; ++t) {
				maxValsE1xt.push([]);
				minValsE1xt.push([]);
				for (var x = 0 ; x <= Nx ; ++x) {
					for (var y = 0 ; y <= Ny ; ++y) {
						if (y == 0) {
							maxValsE1xt[t].push(errorCube[t][y][x]);
							minValsE1xt[t].push(errorCube[t][y][x]);
						}
						else {
							maxValsE1xt[t][x] = (errorCube[t][y][x] > maxValsE1xt[t][x] ? errorCube[t][y][x] : maxValsE1xt[t][x]);
							minValsE1xt[t][x] = (errorCube[t][y][x] < minValsE1xt[t][x] ? errorCube[t][y][x] : minValsE1xt[t][x]);
						}
					}
				}
			}
			
			maxMaxValE1xt = maxValsE1xt[0][0];
			minMinValE1xt = minValsE1xt[0][0];
			
			for (var t = 0; t <= K ; ++t) {
				for (var x = 0 ; x <= Nx ; ++x) {
					maxMaxValE1xt = (maxValsE1xt[t][x] > maxMaxValE1xt ? maxValsE1xt[t][x] : maxMaxValE1xt);
					minMinValE1xt = (minValsE1xt[t][x] < minMinValE1xt ? minValsE1xt[t][x] : minMinValE1xt);
				}
			}
			
		
			for (var y = 0 ; y <= Ny ; ++y) {
				maxValsE1xy.push([]);
				minValsE1xy.push([]);
				for (var x = 0 ; x <= Nx ; ++x) {
					for (var t = 0 ; t <= K ; ++t) {
						if (t == 0) {
							maxValsE1xy[y].push(errorCube[t][y][x]);
							minValsE1xy[y].push(errorCube[t][y][x]);
						}
						else {
							maxValsE1xy[y][x] = (errorCube[t][y][x] > maxValsE1xy[y][x] ? errorCube[t][y][x] : maxValsE1xy[y][x]);
							minValsE1xy[y][x] = (errorCube[t][y][x] < minValsE1xy[y][x] ? errorCube[t][y][x] : minValsE1xy[y][x]);
						}
					}
				}
			}
			
			maxMaxValE1xy = maxValsE1xy[0][0];
			minMinValE1xy = minValsE1xy[0][0];
			
			for (var y = 0; y <= Ny ; ++y) {
				for (var x = 0 ; x <= Nx ; ++x) {
					maxMaxValE1xy = (maxValsE1xy[y][x] > maxMaxValE1xy ? maxValsE1xy[y][x] : maxMaxValE1xy);
					minMinValE1xy = (minValsE1xy[y][x] < minMinValE1xy ? minValsE1xy[y][x] : minMinValE1xy);
				}
			}
			
			
			
			//eotT
			
			for (var x = 0 ; x <= Nx ; ++x) {
				for (var t = 0 ; t <= K ; ++t) {
					for (var y = 0 ; y <= Ny ; ++y) {
						if (y == 0) {
							EotTx.push(errorCube[t][y][x]);
						}
						else {
							EotTx[x] = (errorCube[t][y][x] > EotTx[x] ? errorCube[t][y][x] : EotTx[x]);
						}
						
						if (t == 0) {
							EotTx2.push(errorCube[t][y][x]);
						}
						else {
							EotTx2[x] = (errorCube[t][y][x] > EotTx2[x] ? errorCube[t][y][x] : EotTx2[x]);
						}
					}
				}
			}
			
			minEotTx = EotTx[0];
			maxEotTx = EotTx[0];
		
			minEotTx2 = EotTx2[0];
			maxEotTx2 = EotTx2[0];
			
			for (var x = 0 ; x <= Nx ; ++x) {
				minEotTx = (EotTx[x] < minEotTx ? EotTx[x] : minEotTx);
				minEotTx2 = (EotTx2[x] < minEotTx2 ? EotTx2[x] : minEotTx2);
				
				maxEotTx = (EotTx[x] > maxEotTx ? EotTx[x] : maxEotTx);
				maxEotTx2 = (EotTx2[x] > maxEotTx2 ? EotTx2[x] : maxEotTx2);
			}
			
			
			for (var y = 0 ; y <= Ny ; ++y) {
				for (var x = 0 ; x <= Nx ; ++x) {
					for (var t = 0 ; t <= K ; ++t) {
						if (t == 0) {
							EotTy.push(errorCube[t][y][x]);
						}
						else {
							EotTy[y] = (errorCube[t][y][x] > EotTy[y] ? errorCube[t][y][x] : EotTy[y]);
						}
						
						if (x == 0) {
							EotTy2.push(errorCube[t][y][x]);
						}
						else {
							EotTy2[y] = (errorCube[t][y][x] > EotTy2[y] ? errorCube[t][y][x] : EotTy2[y]);
						}
					}
				}
			}
			
			
			minEotTy = EotTy[0];
			maxEotTy = EotTy[0];
		
			minEotTy2 = EotTy2[0];
			maxEotTy2 = EotTy2[0];
			
			for (var y = 0 ; y <= Ny ; ++y) {
				minEotTy = (EotTy[y] < minEotTy ? EotTy[y] : minEotTy);
				minEotTy2 = (EotTy2[y] < minEotTy2 ? EotTy2[y] : minEotTy2);
				
				maxEotTy = (EotTy[y] > maxEotTy ? EotTy[y] : maxEotTy);
				maxEotTy2 = (EotTy2[y] > maxEotTy2 ? EotTy2[y] : maxEotTy2);
			}
			
			
			
			
			for (var t = 0 ; t <= K ; ++t) {
				for (var x = 0 ; x <= Nx ; ++x) {
					for (var y = 0 ; y <= Ny ; ++y) {
						if (y == 0) {
							EotTt.push(errorCube[t][y][x]);
						}
						else {
							EotTt[t] = (errorCube[t][y][x] > EotTt[t] ? errorCube[t][y][x] : EotTt[t]);
						}
						
						if (x == 0) {
							EotTt2.push(errorCube[t][y][x]);
						}
						else {
							EotTt2[t] = (errorCube[t][y][x] > EotTt2[t] ? errorCube[t][y][x] : EotTt2[t]);
						}
					}
				}
			}
			
			minEotTt = EotTt[0];
			maxEotTt = EotTt[0];
		
			minEotTt2 = EotTt2[0];
			maxEotTt2 = EotTt2[0];
			
			for (var t = 0 ; t <= K ; ++t) {
				minEotTt = (EotTt[t] < minEotTt ? EotTt[t] : minEotTt);
				minEotTt2 = (EotTt2[t] < minEotTt2 ? EotTt2[t] : minEotTt2);
				
				maxEotTt = (EotTt[t] > maxEotTt ? EotTt[t] : maxEotTt);
				maxEotTt2 = (EotTt2[t] > maxEotTt2 ? EotTt2[t] : maxEotTt2);
			}
			
			makeEtalonGraph();
			makeSolveGraph();
			makeErrorGraph();
			makeErrorTGraph();
			
			go1 = true;
			go2 = true;
		}
		
		function transfX(x) {
			var newX;
			if (setupType == 1) {
				newX = 60 + (567 * (x / lx));
			}
			else if (setupType == 2) {
				newX = 60 + (567 * (x / ly));
			}
			else {
				newX = 60 + (567 * (x / T));
			}
			return newX;
		}
		
		function transfY(y) {
			var newY = 0;
			if (setupType == 1) {
				if (maxValsyt.length > 0 && scale_type == 2) {
					newY = 418.6 - (382.6 * (y - minValsyt[s3_cur][s1_cur])/(maxValsyt[s3_cur][s1_cur] - minValsyt[s3_cur][s1_cur]));
				}
				else {
					newY = 418.6 - (382.6 * (y - minMinValyt)/(maxMaxValyt - minMinValyt));
				}
			}
			else if (setupType == 2) {
				if (maxValsxt.length > 0 && scale_type == 2) {
					newY = 418.6 - (382.6 * (y - minValsxt[s3_cur][s2_cur])/(maxValsxt[s3_cur][s2_cur] - minValsxt[s3_cur][s2_cur]));
				}
				else {
					newY = 418.6 - (382.6 * (y - minMinValxt)/(maxMaxValxt - minMinValxt));
				}
			}
			else if (setupType == 3) {
				if (maxValsxy.length > 0 && scale_type == 2) {
					newY = 418.6 - (382.6 * (y - minValsxy[s1_cur][s2_cur])/(maxValsxy[s1_cur][s2_cur] - minValsxy[s1_cur][s2_cur]));
				}
				else {
					newY = 418.6 - (382.6 * (y - minMinValxy)/(maxMaxValxy - minMinValxy));
				}
			}
			return newY;
		}
		
		
		function transfEX(x) {
			var newX;
			if (setupType == 1) {
				newX = 60.6 + (344.2 * (x / lx));
			}
			else if (setupType == 2) {
				newX = 60.6 + (344.2 * (x / ly));
			}
			else {
				newX = 60.6 + (344.2 * (x / T));
			}
			return newX;
		}
		
		
		function transfE2X(x) {
			var newX;
			if (pogr_type <= 2) {
				if (setupType == 1) {
					newX = 60.6 + (344.2 * (x / T));
				}
				else if (setupType == 2) {
					newX = 60.6 + (344.2 * (x / T));
				}
				else {
					newX = 60.6 + (344.2 * (x / lx));
				}
			}
			else {
				if (setupType == 1) {
					newX = 60.6 + (344.2 * (x / ly));
				}
				else if (setupType == 2) {
					newX = 60.6 + (344.2 * (x / lx));
				}
				else {
					newX = 60.6 + (344.2 * (x / ly));
				}
			}
			return newX;
		}
		
		function transfEY(y) {
			var newY = 0;
			if (setupType == 1) {
				if (maxValsE.length > 0 && scale_type == 2) {
					newY = 700 - (231 * (y - minValsE[s1_cur][s3_cur])/(maxValsE[s1_cur][s3_cur] - minValsE[s1_cur][s3_cur]));
				}
				else {
					newY = 700 - (231 * (y - minMinValE)/(maxMaxValE - minMinValE));
				}
			}
			else if (setupType == 2) {
				if (maxValsE.length > 0 && scale_type == 2) {
					newY = 700 - (231 * (y - minValsE[s2_cur][s3_cur])/(maxValsE[s2_cur][s3_cur] - minValsE[s2_cur][s3_cur]));
				}
				else {
					newY = 700 - (231 * (y - minMinValE)/(maxMaxValE - minMinValE));
				}
			}
			else if (setupType == 3) {
				if (maxValsE.length > 0 && scale_type == 2) {
					newY = 700 - (231 * (y - minValsE[s1_cur][s2_cur])/(maxValsE[s1_cur][s2_cur] - minValsE[s1_cur][s2_cur]));
				}
				else {
					newY = 700 - (231 * (y - minMinValE)/(maxMaxValE - minMinValE));
				}
			}
			return newY;
		}
		
		function transfE2Y(y) {
			var newY = 0;
			if (setupType == 1) {
				newY = 700 - (231 * (y - minEotTx)/(maxEotTx - minEotTx));
			}
			else if (setupType == 2) {
				newY = 700 - (231 * (y - minEotTy)/(maxEotTy - minEotTy));
			}
			else if (setupType == 3) {
				newY = 700 - (231 * (y - minEotTt)/(maxEotTt - minEotTt));
			}
			
			return newY;
		}
		
		
		function makeEtalonGraph() {
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(xVector[i]);
				join.y = transfY(etalon[0][0][i]);
				join.endX = transfX(xVector[i+1]);
				join.endY = transfY(etalon[0][0][i+1]);
				
				join.gotoAndStop(0);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses11);
			}
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(yVector[i]);
				join.y = transfY(etalon[0][i][0]);
				join.endX = transfX(yVector[i+1]);
				join.endY = transfY(etalon[0][i+1][0]);
				
				join.gotoAndStop(0);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses12);
			}
			for (var i = 0 ; i < K ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(tVector[i]);
				join.y = transfY(etalon[i][0][0]);
				join.endX = transfX(tVector[i+1]);
				join.endY = transfY(etalon[i+1][0][0]);
				
				join.gotoAndStop(0);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses13);
			}
			
		}
		
		function makeSolveGraph() {
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(xVector[i]);
				join.y = transfY(solve[0][0][i]);
				join.endX = transfX(xVector[i+1]);
				join.endY = transfY(solve[0][0][i+1]);
				
				join.gotoAndStop(1);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses21);
			}
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(yVector[i]);
				join.y = transfY(solve[0][i][0]);
				join.endX = transfX(yVector[i+1]);
				join.endY = transfY(solve[0][i+1][0]);
				
				join.gotoAndStop(1);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses22);
			}
			for (var i = 0 ; i < K ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfX(tVector[i]);
				join.y = transfY(solve[i][0][0]);
				join.endX = transfX(tVector[i+1]);
				join.endY = transfY(solve[i+1][0][0]);
				
				join.gotoAndStop(1);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses23);
			}
		}
		
		function makeErrorGraph() {
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfEX(xVector[i]);
				join.y = transfEY(errorCube[0][0][i]);
				join.endX = transfEX(xVector[i+1]);
				join.endY = transfEY(errorCube[0][0][i+1]);
				
				join.gotoAndStop(3);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses31);
			}
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfEX(yVector[i]);
				join.y = transfEY(errorCube[0][i][0]);
				join.endX = transfEX(yVector[i+1]);
				join.endY = transfEY(errorCube[0][i+1][0]);
				
				join.gotoAndStop(3);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses32);
			}
			for (var i = 0 ; i < K ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfEX(tVector[i]);
				join.y = transfEY(errorCube[i][0][0]);
				join.endX = transfEX(tVector[i+1]);
				join.endY = transfEY(errorCube[i+1][0][0]);
				
				join.gotoAndStop(3);
				join.num = i;
							
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
							
				join.scaleX = join.len;
				join.scaleY = 1;
							
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
				
				join.gen = generation;
				
				
				join.visible = true;
				join.alpha = 1;
				
				join.addEventListener('tick', setPoses33);
			}
		
			
		}
		
		
		function makeErrorTGraph() {
			for (var i = 0 ; i < Nx ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfE2X(xVector[i]);
				join.y = transfE2Y(EotTx[i]);
				join.endX = transfE2X(xVector[i+1]);
				join.endY = transfE2Y(EotTx[i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses41);
			}
			for (var i = 0 ; i < Ny ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfE2X(yVector[i]);
				join.y = transfE2Y(EotTy[i]);
				join.endX = transfE2X(yVector[i+1]);
				join.endY = transfE2Y(EotTy[i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses42);
			}
			for (var i = 0 ; i < K ; ++i) {
				var join = new lib.line();
				stage.addChild(join);
				join.x = transfE2X(tVector[i]);
				join.y = transfE2Y(EotTt[i]);
				join.endX = transfE2X(tVector[i+1]);
				join.endY = transfE2Y(EotTt[i+1]);
					
				join.gotoAndStop(3);
				join.num = i;
								
				join.len = Math.sqrt(Math.pow((join.endY - join.y), 2) + Math.pow((join.endX - join.x), 2));
								
				join.scaleX = join.len;
				join.scaleY = 1;
								
				join.rotation = Math.atan2((join.endY - join.y), (join.endX - join.x)) * 180 / Math.PI;
					
				join.gen = generation;
					
					
				join.visible = true;
				join.alpha = 1;
					
				join.addEventListener('tick', setPoses43);
			}
		}
		
		
		
		function setPoses11(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(xVector[object.num]);
				object.y = transfY(etalon[s3_cur][s1_cur][object.num]);
				object.endX = transfX(xVector[object.num+1]);
				object.endY = transfY(etalon[s3_cur][s1_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses11);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses12(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(yVector[object.num]);
				object.y = transfY(etalon[s3_cur][object.num][s2_cur]);
				object.endX = transfX(yVector[object.num+1]);
				object.endY = transfY(etalon[s3_cur][object.num+1][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 2) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses12);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses13(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(tVector[object.num]);
				object.y = transfY(etalon[object.num][s1_cur][s2_cur]);
				object.endX = transfX(tVector[object.num+1]);
				object.endY = transfY(etalon[object.num+1][s1_cur][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 3) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses13);
				stage.removeChild(object);
			}
			
		}
		
		
		
		function setPoses21(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(xVector[object.num]);
				object.y = transfY(solve[s3_cur][s1_cur][object.num]);
				object.endX = transfX(xVector[object.num+1]);
				object.endY = transfY(solve[s3_cur][s1_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses21);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses22(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(yVector[object.num]);
				object.y = transfY(solve[s3_cur][object.num][s2_cur]);
				object.endX = transfX(yVector[object.num+1]);
				object.endY = transfY(solve[s3_cur][object.num+1][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 2) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses22);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses23(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfX(tVector[object.num]);
				object.y = transfY(solve[object.num][s1_cur][s2_cur]);
				object.endX = transfX(tVector[object.num+1]);
				object.endY = transfY(solve[object.num+1][s1_cur][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 3) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses23);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses31(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfEX(xVector[object.num]);
				object.y = transfEY(errorCube[s3_cur][s1_cur][object.num]);
				object.endX = transfEX(xVector[object.num+1]);
				object.endY = transfEY(errorCube[s3_cur][s1_cur][object.num+1]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 1 && pogr_type == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses21);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses32(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfEX(yVector[object.num]);
				object.y = transfEY(errorCube[s3_cur][object.num][s2_cur]);
				object.endX = transfEX(yVector[object.num+1]);
				object.endY = transfEY(errorCube[s3_cur][object.num+1][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 2 && pogr_type == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses22);
				stage.removeChild(object);
			}
			
		}
		
		function setPoses33(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfEX(tVector[object.num]);
				object.y = transfEY(errorCube[object.num][s1_cur][s2_cur]);
				object.endX = transfEX(tVector[object.num+1]);
				object.endY = transfEY(errorCube[object.num+1][s1_cur][s2_cur]);
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if (setupType == 3 && pogr_type == 1) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses23);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses41(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfE2X(xVector[object.num]);
				object.endX = transfE2X(xVector[object.num+1]);
				
				if (setupType == 2 && pogr_type == 3) {
					object.y = transfEY(EotTx[object.num]);
					object.endY = transfEY(EotTx[object.num+1]);
				}
				else {
					object.y = transfEY(EotTx2[object.num]);
					object.endY = transfEY(EotTx2[object.num+1]);
				}
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if ((setupType == 2 && pogr_type == 3) || (setupType == 3 && pogr_type == 2)) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses41);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses42(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfE2X(yVector[object.num]);
				object.endX = transfE2X(yVector[object.num+1]);
				
				if (setupType == 1 && pogr_type == 3) {
					object.y = transfEY(EotTy[object.num]);
					object.endY = transfEY(EotTy[object.num+1]);
				}
				else {
					object.y = transfEY(EotTy2[object.num]);
					object.endY = transfEY(EotTy2[object.num+1]);
				}
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if ((setupType == 1 && pogr_type == 3) || (setupType == 3 && pogr_type == 3)) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses42);
				stage.removeChild(object);
			}
			
		}
		
		
		function setPoses43(e) {
			var object = e.currentTarget;
			if (object.gen == generation) {
				object.x = transfE2X(tVector[object.num]);
				object.endX = transfE2X(tVector[object.num+1]);
				
				if (setupType == 1 && pogr_type == 2) {
					object.y = transfEY(EotTt[object.num]);
					object.endY = transfEY(EotTt[object.num+1]);
				}
				else {
					object.y = transfEY(EotTt2[object.num]);
					object.endY = transfEY(EotTt2[object.num+1]);
				}
				
				object.len = Math.sqrt(Math.pow((object.endY - object.y), 2) + Math.pow((object.endX - object.x), 2));
						
				if ((setupType == 1 && pogr_type == 2) || (setupType == 2 && pogr_type == 2)) {
					object.visible = true;
				}
				else {
					object.visible = false;
				}
				
				
				object.scaleX = object.len;
				object.scaleY = 1;
							
				object.rotation = Math.atan2((object.endY - object.y), (object.endX - object.x)) * 180 / Math.PI;
			}
			else if (object.gen != generation) {
				object.alpha -= 3/30;
			}
			
			if (object.alpha <= 0) {
				object.alpha = 0;
				object.visible = false;
				object.removeEventListener('tick', setPoses43);
				stage.removeChild(object);
			}
			
		}
		
		
		
		
		
		
		//метод прогонки
		function progonka(matrix, vectorB) {
			var vectorX = [];
			
			var N = vectorB.length;
			
			var alphas = [];
			var betas = [];
			
			
			for (var i = 0 ; i < vectorB.length ; ++i) {
				alphas.push(0);
				betas.push(0);
			}
		
			//Прямой ход прогонки
		
			for (var i = 0; i < N; ++i) {
				var A0, C0, B0, F0;
		
				if (i - 1 < 0) {
					A0 = 0;
				}
				else {
					A0 = matrix[i][i - 1];
				}
		
				C0 = -1 * matrix[i][i];
		
				if (i + 1 < N) {
					B0 = matrix[i][i + 1];
				}
				else {
					B0 = 0;
				}
		
				F0 = vectorB[i];
		
		
				if (i == 0) {
					alphas[i] = B0 / C0;
					betas[i] = -(F0 / C0);
				}
				else if (i == N - 1) {
					alphas[i] = 0;
					betas[i] = (betas[i - 1] * A0 - F0) / (C0 - alphas[i - 1] * A0);
				}
				else {
					alphas[i] = B0 / (C0 - alphas[i - 1] * A0);
					betas[i] = (betas[i - 1] * A0 - F0) / (C0 - alphas[i - 1] * A0);
				}
		
			}
		
		
			vectorX[N - 1] = betas[N - 1];
		
			for (var i = 2; i <= N; ++i) {
				vectorX[N - i] = alphas[N - i] * vectorX[N - i + 1] + betas[N - i];
			}
			
			return vectorX;
		}
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));

	// Lab6
	this.stopBtn = new lib.stopBtn();
	this.stopBtn.name = "stopBtn";
	this.stopBtn.setTransform(803.15,151.25,0.6281,0.6281,180,0,0,16.9,21.8);
	new cjs.ButtonHelper(this.stopBtn, 0, 1, 2);

	this.SRight31 = new lib.chalNext();
	this.SRight31.name = "SRight31";
	this.SRight31.setTransform(866.45,151.25,0.6281,0.6281,0,0,0,17.1,21.9);
	new cjs.ButtonHelper(this.SRight31, 0, 1, 2);

	this.SLeft31 = new lib.chalNext();
	this.SLeft31.name = "SLeft31";
	this.SLeft31.setTransform(741.4,151.25,0.6281,0.6281,180,0,0,16.9,21.8);
	new cjs.ButtonHelper(this.SLeft31, 0, 1, 2);

	this.step_text2 = new cjs.Text("y = 0.111 (шаг 10000)", "bold 6px 'Arial'");
	this.step_text2.name = "step_text2";
	this.step_text2.textAlign = "center";
	this.step_text2.lineHeight = 9;
	this.step_text2.lineWidth = 77;
	this.step_text2.parent = this;
	this.step_text2.setTransform(804.45,118.35,1.806,1.806);

	this.text = new cjs.Text("Момент коорд.", "bold 18px 'Consolas'");
	this.text.textAlign = "center";
	this.text.lineHeight = 23;
	this.text.lineWidth = 148;
	this.text.parent = this;
	this.text.setTransform(802.1,91.1,0.8408,0.8408);

	this.setPurp2 = new lib.setPurp();
	this.setPurp2.name = "setPurp2";
	this.setPurp2.setTransform(1139.05,432.05,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setPurp2, 0, 1, 2);

	this.text_1 = new cjs.Text("Длительность коорд. (в сек.)", "bold 8px 'Arial'");
	this.text_1.textAlign = "center";
	this.text_1.lineHeight = 11;
	this.text_1.parent = this;
	this.text_1.setTransform(1134.5203,374.9,1.4997,1.4997);

	this.dxy_text = new cjs.Text("dx, dy = 25", "bold 8px 'Arial'", "#660066");
	this.dxy_text.name = "dxy_text";
	this.dxy_text.textAlign = "center";
	this.dxy_text.lineHeight = 11;
	this.dxy_text.lineWidth = 77;
	this.dxy_text.parent = this;
	this.dxy_text.setTransform(1138.35,395.9,2.1481,2.1481);

	this.setBlue3 = new lib.setBlue();
	this.setBlue3.name = "setBlue3";
	this.setBlue3.setTransform(1191.8,355.6,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue3, 0, 1, 2);

	this.text_2 = new cjs.Text("Количество тиков", "bold 8px 'Arial'");
	this.text_2.textAlign = "center";
	this.text_2.lineHeight = 11;
	this.text_2.parent = this;
	this.text_2.setTransform(1187.2884,298.45,1.4997,1.4997);

	this.K_text = new cjs.Text("K = 25", "bold 8px 'Arial'", "#002266");
	this.K_text.name = "K_text";
	this.K_text.textAlign = "center";
	this.K_text.lineHeight = 11;
	this.K_text.lineWidth = 77;
	this.K_text.parent = this;
	this.K_text.setTransform(1188.55,319.55,2.1481,2.1481);

	this.setGreen3 = new lib.setGreen();
	this.setGreen3.name = "setGreen3";
	this.setGreen3.setTransform(1191.85,290.4,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen3, 0, 1, 2);

	this.text_3 = new cjs.Text("Длительность", "bold 8px 'Arial'");
	this.text_3.textAlign = "center";
	this.text_3.lineHeight = 11;
	this.text_3.parent = this;
	this.text_3.setTransform(1187.3361,232.2,1.4997,1.4997);

	this.T_text = new cjs.Text("T = 10", "bold 8px 'Arial'", "#226600");
	this.T_text.name = "T_text";
	this.T_text.textAlign = "center";
	this.T_text.lineHeight = 11;
	this.T_text.lineWidth = 77;
	this.T_text.parent = this;
	this.T_text.setTransform(1188.6,254.35,2.1481,2.1481);

	this.text_4 = new cjs.Text("Шаг по t", "bold 8px 'Arial'");
	this.text_4.textAlign = "center";
	this.text_4.lineHeight = 11;
	this.text_4.parent = this;
	this.text_4.setTransform(1187.2822,182.1,1.4997,1.4997);

	this.tau_text = new cjs.Text("τ = 0.01", "bold 8px 'Arial'", "#660000");
	this.tau_text.name = "tau_text";
	this.tau_text.textAlign = "center";
	this.tau_text.lineHeight = 11;
	this.tau_text.lineWidth = 77;
	this.tau_text.parent = this;
	this.tau_text.setTransform(1188.55,203.2,2.1481,2.1481);

	this.instance = new lib.task2();
	this.instance.setTransform(1090.1,88.1,1,1,0,0,0,185.1,83.1);

	this.axisDown = new lib.axisDownTT();
	this.axisDown.name = "axisDown";
	this.axisDown.setTransform(383.15,418.6,1,1,0,0,0,320.5,0);

	this.SRight5 = new lib.chalNext();
	this.SRight5.name = "SRight5";
	this.SRight5.setTransform(864.95,577.75,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight5, 0, 1, 2);

	this.SLeft5 = new lib.chalNext();
	this.SLeft5.name = "SLeft5";
	this.SLeft5.setTransform(838.75,577.75,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft5, 0, 1, 2);

	this.text_5 = new cjs.Text("Масштаб графика", "bold 8px 'Arial'");
	this.text_5.textAlign = "center";
	this.text_5.lineHeight = 11;
	this.text_5.lineWidth = 167;
	this.text_5.parent = this;
	this.text_5.setTransform(693.3283,546.2,1.4997,1.4997);

	this.scale_text = new cjs.Text("Макс. Фиксированный", "bold 7px 'Arial'");
	this.scale_text.name = "scale_text";
	this.scale_text.textAlign = "center";
	this.scale_text.lineHeight = 10;
	this.scale_text.lineWidth = 116;
	this.scale_text.parent = this;
	this.scale_text.setTransform(692.9327,569.25,2.1481,2.1481);

	this.SRight4 = new lib.chalNext();
	this.SRight4.name = "SRight4";
	this.SRight4.setTransform(864.95,523.65,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight4, 0, 1, 2);

	this.SLeft4 = new lib.chalNext();
	this.SLeft4.name = "SLeft4";
	this.SLeft4.setTransform(838.75,523.65,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft4, 0, 1, 2);

	this.text_6 = new cjs.Text("График погрешности", "bold 8px 'Arial'");
	this.text_6.textAlign = "center";
	this.text_6.lineHeight = 11;
	this.text_6.lineWidth = 167;
	this.text_6.parent = this;
	this.text_6.setTransform(693.3283,492.1,1.4997,1.4997);

	this.pogr_text = new cjs.Text("Относительная погрешность", "bold 7px 'Arial'");
	this.pogr_text.name = "pogr_text";
	this.pogr_text.textAlign = "center";
	this.pogr_text.lineHeight = 10;
	this.pogr_text.lineWidth = 116;
	this.pogr_text.parent = this;
	this.pogr_text.setTransform(692.9327,515.15,2.1481,2.1481);

	this.line = new lib.line();
	this.line.name = "line";
	this.line.setTransform(232.9,805,15.8702,0.6);

	this.divUp7err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp7err.name = "divUp7err";
	this.divUp7err.textAlign = "right";
	this.divUp7err.lineHeight = 31;
	this.divUp7err.lineWidth = 123;
	this.divUp7err.parent = this;
	this.divUp7err.setTransform(55.05,460.8,0.3719,0.3719);

	this.divUp6err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp6err.name = "divUp6err";
	this.divUp6err.textAlign = "right";
	this.divUp6err.lineHeight = 31;
	this.divUp6err.lineWidth = 123;
	this.divUp6err.parent = this;
	this.divUp6err.setTransform(55.05,494.3,0.3719,0.3719);

	this.divUp5err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp5err.name = "divUp5err";
	this.divUp5err.textAlign = "right";
	this.divUp5err.lineHeight = 31;
	this.divUp5err.lineWidth = 123;
	this.divUp5err.parent = this;
	this.divUp5err.setTransform(55.05,527.8,0.3719,0.3719);

	this.divUp4err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp4err.name = "divUp4err";
	this.divUp4err.textAlign = "right";
	this.divUp4err.lineHeight = 31;
	this.divUp4err.lineWidth = 123;
	this.divUp4err.parent = this;
	this.divUp4err.setTransform(55.05,561.35,0.3719,0.3719);

	this.divUp3err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp3err.name = "divUp3err";
	this.divUp3err.textAlign = "right";
	this.divUp3err.lineHeight = 31;
	this.divUp3err.lineWidth = 123;
	this.divUp3err.parent = this;
	this.divUp3err.setTransform(55.05,594.8,0.3719,0.3719);

	this.divUp2err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp2err.name = "divUp2err";
	this.divUp2err.textAlign = "right";
	this.divUp2err.lineHeight = 31;
	this.divUp2err.lineWidth = 123;
	this.divUp2err.parent = this;
	this.divUp2err.setTransform(55.05,628.3,0.3723,0.3723);

	this.divUp1err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp1err.name = "divUp1err";
	this.divUp1err.textAlign = "right";
	this.divUp1err.lineHeight = 31;
	this.divUp1err.lineWidth = 123;
	this.divUp1err.parent = this;
	this.divUp1err.setTransform(55.05,661.85,0.3719,0.3719);

	this.divUp0err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp0err.name = "divUp0err";
	this.divUp0err.textAlign = "right";
	this.divUp0err.lineHeight = 31;
	this.divUp0err.lineWidth = 123;
	this.divUp0err.parent = this;
	this.divUp0err.setTransform(55.05,695.35,0.3715,0.3715);

	this.divDown6err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown6err.name = "divDown6err";
	this.divDown6err.textAlign = "center";
	this.divDown6err.lineHeight = 31;
	this.divDown6err.lineWidth = 123;
	this.divDown6err.parent = this;
	this.divDown6err.setTransform(406.55,702.2,0.3698,0.3698);

	this.divDown5err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown5err.name = "divDown5err";
	this.divDown5err.textAlign = "center";
	this.divDown5err.lineHeight = 31;
	this.divDown5err.lineWidth = 123;
	this.divDown5err.parent = this;
	this.divDown5err.setTransform(349.2,702.2,0.3698,0.3698);

	this.divDown4err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown4err.name = "divDown4err";
	this.divDown4err.textAlign = "center";
	this.divDown4err.lineHeight = 31;
	this.divDown4err.lineWidth = 123;
	this.divDown4err.parent = this;
	this.divDown4err.setTransform(291.85,702.2,0.3701,0.3701);

	this.divDown3err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown3err.name = "divDown3err";
	this.divDown3err.textAlign = "center";
	this.divDown3err.lineHeight = 31;
	this.divDown3err.lineWidth = 123;
	this.divDown3err.parent = this;
	this.divDown3err.setTransform(234.5,702.2,0.3701,0.3701);

	this.divDown2err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown2err.name = "divDown2err";
	this.divDown2err.textAlign = "center";
	this.divDown2err.lineHeight = 31;
	this.divDown2err.lineWidth = 123;
	this.divDown2err.parent = this;
	this.divDown2err.setTransform(177.3,702.2,0.3698,0.3698);

	this.divDown1err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown1err.name = "divDown1err";
	this.divDown1err.textAlign = "center";
	this.divDown1err.lineHeight = 31;
	this.divDown1err.lineWidth = 123;
	this.divDown1err.parent = this;
	this.divDown1err.setTransform(119.95,702.15,0.3706,0.3706);

	this.divDown0err = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown0err.name = "divDown0err";
	this.divDown0err.textAlign = "center";
	this.divDown0err.lineHeight = 31;
	this.divDown0err.lineWidth = 123;
	this.divDown0err.parent = this;
	this.divDown0err.setTransform(62.55,702.2,0.3701,0.3701);

	this.instance_1 = new lib.dividions();
	this.instance_1.setTransform(231.95,585.1,0.6065,0.6065,0,0,0,287.2,194.2);

	this.instance_2 = new lib.graphGrid();
	this.instance_2.setTransform(445,472.9,0.6065,0.6065,0,0,0,9.4,9.3);

	this.axisLeftErr = new lib.axisLeft();
	this.axisLeftErr.name = "axisLeftErr";
	this.axisLeftErr.setTransform(61.9,584.15,0.6065,0.6065,0,0,0,0.1,190.3);

	this.axisDownErr = new lib.axisDown();
	this.axisDownErr.name = "axisDownErr";
	this.axisDownErr.setTransform(256.25,699.7,0.6065,0.6065,0,0,0,320.5,0.1);

	this.instance_3 = new lib.graphBG();
	this.instance_3.setTransform(256.3,582.65,0.6065,0.6065,0,0,0,320.6,190.3);

	this.graphName = new cjs.Text("График ошибки", "bold 25px 'Consolas'");
	this.graphName.name = "graphName";
	this.graphName.textAlign = "center";
	this.graphName.lineHeight = 31;
	this.graphName.lineWidth = 635;
	this.graphName.parent = this;
	this.graphName.setTransform(255.5,446.7797,0.6065,0.6065);

	this.stopBtn_1 = new lib.stopBtn();
	this.stopBtn_1.name = "stopBtn_1";
	this.stopBtn_1.setTransform(803.45,66.85,0.6281,0.6281,180,0,0,16.9,21.8);
	new cjs.ButtonHelper(this.stopBtn_1, 0, 1, 2);

	this.SRight3 = new lib.chalNext();
	this.SRight3.name = "SRight3";
	this.SRight3.setTransform(866.75,66.85,0.6281,0.6281,0,0,0,17.1,21.9);
	new cjs.ButtonHelper(this.SRight3, 0, 1, 2);

	this.SLeft3 = new lib.chalNext();
	this.SLeft3.name = "SLeft3";
	this.SLeft3.setTransform(741.7,66.85,0.6281,0.6281,180,0,0,16.9,21.8);
	new cjs.ButtonHelper(this.SLeft3, 0, 1, 2);

	this.step_text = new cjs.Text("t = 0.111 (шаг 10000)", "bold 6px 'Arial'");
	this.step_text.name = "step_text";
	this.step_text.textAlign = "center";
	this.step_text.lineHeight = 9;
	this.step_text.lineWidth = 77;
	this.step_text.parent = this;
	this.step_text.setTransform(804.75,33.95,1.806,1.806);

	this.text_7 = new cjs.Text("Момент времени", "bold 18px 'Consolas'");
	this.text_7.textAlign = "center";
	this.text_7.lineHeight = 23;
	this.text_7.lineWidth = 148;
	this.text_7.parent = this;
	this.text_7.setTransform(802.4,6.7,0.8408,0.8408);

	this.divUp7 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp7.name = "divUp7";
	this.divUp7.textAlign = "right";
	this.divUp7.lineHeight = 31;
	this.divUp7.lineWidth = 123;
	this.divUp7.parent = this;
	this.divUp7.setTransform(52.05,28.05,0.4126,0.4126);

	this.divUp6 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp6.name = "divUp6";
	this.divUp6.textAlign = "right";
	this.divUp6.lineHeight = 31;
	this.divUp6.lineWidth = 123;
	this.divUp6.parent = this;
	this.divUp6.setTransform(52.05,83.3,0.4126,0.4126);

	this.divUp5 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp5.name = "divUp5";
	this.divUp5.textAlign = "right";
	this.divUp5.lineHeight = 31;
	this.divUp5.lineWidth = 123;
	this.divUp5.parent = this;
	this.divUp5.setTransform(52.05,138.55,0.4126,0.4126);

	this.divUp4 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp4.name = "divUp4";
	this.divUp4.textAlign = "right";
	this.divUp4.lineHeight = 31;
	this.divUp4.lineWidth = 123;
	this.divUp4.parent = this;
	this.divUp4.setTransform(52.05,193.8,0.4126,0.4126);

	this.divUp3 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp3.name = "divUp3";
	this.divUp3.textAlign = "right";
	this.divUp3.lineHeight = 31;
	this.divUp3.lineWidth = 123;
	this.divUp3.parent = this;
	this.divUp3.setTransform(52.05,249.05,0.4126,0.4126);

	this.divUp2 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp2.name = "divUp2";
	this.divUp2.textAlign = "right";
	this.divUp2.lineHeight = 31;
	this.divUp2.lineWidth = 123;
	this.divUp2.parent = this;
	this.divUp2.setTransform(52.05,304.3,0.4126,0.4126);

	this.divUp1 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp1.name = "divUp1";
	this.divUp1.textAlign = "right";
	this.divUp1.lineHeight = 31;
	this.divUp1.lineWidth = 123;
	this.divUp1.parent = this;
	this.divUp1.setTransform(52.05,359.55,0.4126,0.4126);

	this.divUp0 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divUp0.name = "divUp0";
	this.divUp0.textAlign = "right";
	this.divUp0.lineHeight = 31;
	this.divUp0.lineWidth = 123;
	this.divUp0.parent = this;
	this.divUp0.setTransform(52.05,414.8,0.4126,0.4126);

	this.divDown6 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown6.name = "divDown6";
	this.divDown6.textAlign = "center";
	this.divDown6.lineHeight = 31;
	this.divDown6.lineWidth = 123;
	this.divDown6.parent = this;
	this.divDown6.setTransform(630.8,426,0.4126,0.4126);

	this.divDown5 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown5.name = "divDown5";
	this.divDown5.textAlign = "center";
	this.divDown5.lineHeight = 31;
	this.divDown5.lineWidth = 123;
	this.divDown5.parent = this;
	this.divDown5.setTransform(536.3,426,0.4126,0.4126);

	this.divDown4 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown4.name = "divDown4";
	this.divDown4.textAlign = "center";
	this.divDown4.lineHeight = 31;
	this.divDown4.lineWidth = 123;
	this.divDown4.parent = this;
	this.divDown4.setTransform(441.8,426,0.4126,0.4126);

	this.divDown3 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown3.name = "divDown3";
	this.divDown3.textAlign = "center";
	this.divDown3.lineHeight = 31;
	this.divDown3.lineWidth = 123;
	this.divDown3.parent = this;
	this.divDown3.setTransform(347.3,426,0.4126,0.4126);

	this.divDown2 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown2.name = "divDown2";
	this.divDown2.textAlign = "center";
	this.divDown2.lineHeight = 31;
	this.divDown2.lineWidth = 123;
	this.divDown2.parent = this;
	this.divDown2.setTransform(252.8,426,0.4126,0.4126);

	this.divDown1 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown1.name = "divDown1";
	this.divDown1.textAlign = "center";
	this.divDown1.lineHeight = 31;
	this.divDown1.lineWidth = 123;
	this.divDown1.parent = this;
	this.divDown1.setTransform(158.3,426,0.4126,0.4126);

	this.divDown0 = new cjs.Text("999.999", "bold 25px 'Consolas'");
	this.divDown0.name = "divDown0";
	this.divDown0.textAlign = "center";
	this.divDown0.lineHeight = 31;
	this.divDown0.lineWidth = 123;
	this.divDown0.parent = this;
	this.divDown0.setTransform(63.8,426,0.4126,0.4126);

	this.instance_4 = new lib.dividions();
	this.instance_4.setTransform(342.95,229.9,1,1,0,0,0,287.2,194.1);

	this.instance_5 = new lib.graphGrid();
	this.instance_5.setTransform(694.15,44.85,1,1,0,0,0,9.3,9.1);

	this.axisLeft = new lib.axisLeft();
	this.axisLeft.name = "axisLeft";
	this.axisLeft.setTransform(62.55,228.45,1,1,0,0,0,0,190.2);

	this.instance_6 = new lib.graphBG();
	this.instance_6.setTransform(383.05,225.95,1,1,0,0,0,320.5,190.2);

	this.graphName_1 = new cjs.Text("График функции", "bold 25px 'Consolas'");
	this.graphName_1.name = "graphName_1";
	this.graphName_1.textAlign = "center";
	this.graphName_1.lineHeight = 31;
	this.graphName_1.lineWidth = 635;
	this.graphName_1.parent = this;
	this.graphName_1.setTransform(381.85,2);

	this.beginBtn = new lib.begin_button();
	this.beginBtn.name = "beginBtn";
	this.beginBtn.setTransform(1095.65,694.45,1,1,0,0,0,90.8,19.6);
	new cjs.ButtonHelper(this.beginBtn, 0, 1, 2);

	this.SRight2 = new lib.chalNext();
	this.SRight2.name = "SRight2";
	this.SRight2.setTransform(1265.5,554.2,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight2, 0, 1, 2);

	this.SLeft2 = new lib.chalNext();
	this.SLeft2.name = "SLeft2";
	this.SLeft2.setTransform(1239.3,554.2,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft2, 0, 1, 2);

	this.text_8 = new cjs.Text("Метод решения", "bold 8px 'Arial'");
	this.text_8.textAlign = "center";
	this.text_8.lineHeight = 11;
	this.text_8.lineWidth = 170;
	this.text_8.parent = this;
	this.text_8.setTransform(1092.804,507.8003,1.4997,1.4997);

	this.meth_text = new cjs.Text("Метод простых итераций с верхней релаксацией", "bold 7px 'Arial'");
	this.meth_text.name = "meth_text";
	this.meth_text.textAlign = "center";
	this.meth_text.lineHeight = 10;
	this.meth_text.lineWidth = 116;
	this.meth_text.parent = this;
	this.meth_text.setTransform(1093.4827,534.9,2.1481,2.1481);

	this.SRight1 = new lib.chalNext();
	this.SRight1.name = "SRight1";
	this.SRight1.setTransform(1265.5,486.3,0.7471,0.7471,0,0,0,17,21.8);
	new cjs.ButtonHelper(this.SRight1, 0, 1, 2);

	this.SLeft1 = new lib.chalNext();
	this.SLeft1.name = "SLeft1";
	this.SLeft1.setTransform(1239.3,486.3,0.7471,0.7471,180,0,0,17,21.8);
	new cjs.ButtonHelper(this.SLeft1, 0, 1, 2);

	this.text_9 = new cjs.Text("Вид графика", "bold 8px 'Arial'");
	this.text_9.textAlign = "center";
	this.text_9.lineHeight = 11;
	this.text_9.lineWidth = 101;
	this.text_9.parent = this;
	this.text_9.setTransform(1099.1915,455.3929,1.4997,1.4997);

	this.scheme_text = new cjs.Text("Срез по x", "bold 7px 'Arial'");
	this.scheme_text.name = "scheme_text";
	this.scheme_text.textAlign = "center";
	this.scheme_text.lineHeight = 10;
	this.scheme_text.lineWidth = 116;
	this.scheme_text.parent = this;
	this.scheme_text.setTransform(1093.4827,477.8,2.1481,2.1481);

	this.setPurp1 = new lib.setPurp();
	this.setPurp1.name = "setPurp1";
	this.setPurp1.setTransform(931.05,432.6,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setPurp1, 0, 1, 2);

	this.text_10 = new cjs.Text("Длительность \"тика\" (в сек.)", "bold 8px 'Arial'");
	this.text_10.textAlign = "center";
	this.text_10.lineHeight = 11;
	this.text_10.parent = this;
	this.text_10.setTransform(926.5201,375.45,1.4997,1.4997);

	this.dt_text = new cjs.Text("dt = 25", "bold 8px 'Arial'", "#660066");
	this.dt_text.name = "dt_text";
	this.dt_text.textAlign = "center";
	this.dt_text.lineHeight = 11;
	this.dt_text.lineWidth = 77;
	this.dt_text.parent = this;
	this.dt_text.setTransform(927.8,396.55,2.1481,2.1481);

	this.setBlue2 = new lib.setBlue();
	this.setBlue2.name = "setBlue2";
	this.setBlue2.setTransform(1001.8,355.45,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue2, 0, 1, 2);

	this.setBlue1 = new lib.setBlue();
	this.setBlue1.name = "setBlue1";
	this.setBlue1.setTransform(811.4,355.6,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setBlue1, 0, 1, 2);

	this.text_11 = new cjs.Text("Количество шагов y", "bold 8px 'Arial'");
	this.text_11.textAlign = "center";
	this.text_11.lineHeight = 11;
	this.text_11.parent = this;
	this.text_11.setTransform(997.2648,298.3,1.4997,1.4997);

	this.text_12 = new cjs.Text("Количество шагов x", "bold 8px 'Arial'");
	this.text_12.textAlign = "center";
	this.text_12.lineHeight = 11;
	this.text_12.parent = this;
	this.text_12.setTransform(809.3398,298.25,1.4997,1.4997);

	this.N2_text = new cjs.Text("Ny = 25", "bold 8px 'Arial'", "#002266");
	this.N2_text.name = "N2_text";
	this.N2_text.textAlign = "center";
	this.N2_text.lineHeight = 11;
	this.N2_text.lineWidth = 77;
	this.N2_text.parent = this;
	this.N2_text.setTransform(998.55,319.4,2.1481,2.1481);

	this.N1_text = new cjs.Text("Nx = 15", "bold 8px 'Arial'", "#002266");
	this.N1_text.name = "N1_text";
	this.N1_text.textAlign = "center";
	this.N1_text.lineHeight = 11;
	this.N1_text.lineWidth = 77;
	this.N1_text.parent = this;
	this.N1_text.setTransform(808.15,319.4,2.1481,2.1481);

	this.setGreen2 = new lib.setGreen();
	this.setGreen2.name = "setGreen2";
	this.setGreen2.setTransform(1001.85,290.25,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen2, 0, 1, 2);

	this.setGreen1 = new lib.setGreen();
	this.setGreen1.name = "setGreen1";
	this.setGreen1.setTransform(811.45,290.4,1.1187,1.1187,0,0,0,34.9,6.7);
	new cjs.ButtonHelper(this.setGreen1, 0, 1, 2);

	this.text_13 = new cjs.Text("Длина y", "bold 8px 'Arial'");
	this.text_13.textAlign = "center";
	this.text_13.lineHeight = 11;
	this.text_13.parent = this;
	this.text_13.setTransform(997.307,232.05,1.4997,1.4997);

	this.text_14 = new cjs.Text("Длина x", "bold 8px 'Arial'");
	this.text_14.textAlign = "center";
	this.text_14.lineHeight = 11;
	this.text_14.parent = this;
	this.text_14.setTransform(809.382,232,1.4997,1.4997);

	this.l2_text = new cjs.Text("ly = 10", "bold 8px 'Arial'", "#226600");
	this.l2_text.name = "l2_text";
	this.l2_text.textAlign = "center";
	this.l2_text.lineHeight = 11;
	this.l2_text.lineWidth = 77;
	this.l2_text.parent = this;
	this.l2_text.setTransform(998.6,254.2,2.1481,2.1481);

	this.l1_text = new cjs.Text("lx = 12.05", "bold 8px 'Arial'", "#226600");
	this.l1_text.name = "l1_text";
	this.l1_text.textAlign = "center";
	this.l1_text.lineHeight = 11;
	this.l1_text.lineWidth = 77;
	this.l1_text.parent = this;
	this.l1_text.setTransform(808.2,254.2,2.1481,2.1481);

	this.text_15 = new cjs.Text("Шаг по y", "bold 8px 'Arial'");
	this.text_15.textAlign = "center";
	this.text_15.lineHeight = 11;
	this.text_15.parent = this;
	this.text_15.setTransform(997.2575,181.95,1.4997,1.4997);

	this.aa = new cjs.Text("Шаг по x", "bold 8px 'Arial'");
	this.aa.name = "aa";
	this.aa.textAlign = "center";
	this.aa.lineHeight = 11;
	this.aa.parent = this;
	this.aa.setTransform(809.3325,181.9,1.4997,1.4997);

	this.h2_text = new cjs.Text("hy = 0.01", "bold 8px 'Arial'", "#660000");
	this.h2_text.name = "h2_text";
	this.h2_text.textAlign = "center";
	this.h2_text.lineHeight = 11;
	this.h2_text.lineWidth = 77;
	this.h2_text.parent = this;
	this.h2_text.setTransform(998.55,203.05,2.1481,2.1481);

	this.h1_text = new cjs.Text("hx = 0.01", "bold 8px 'Arial'", "#660000");
	this.h1_text.name = "h1_text";
	this.h1_text.textAlign = "center";
	this.h1_text.lineHeight = 11;
	this.h1_text.lineWidth = 77;
	this.h1_text.parent = this;
	this.h1_text.setTransform(808.15,203.05,2.1481,2.1481);

	this.instance_7 = new lib.CachedBmp_48();
	this.instance_7.setTransform(563.65,614.05,0.5,0.5);

	this.instance_8 = new lib.CachedBmp_47();
	this.instance_8.setTransform(60.4,25,0.5,0.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_8},{t:this.instance_7},{t:this.h1_text},{t:this.h2_text},{t:this.aa},{t:this.text_15},{t:this.l1_text},{t:this.l2_text},{t:this.text_14},{t:this.text_13},{t:this.setGreen1},{t:this.setGreen2},{t:this.N1_text},{t:this.N2_text},{t:this.text_12},{t:this.text_11},{t:this.setBlue1},{t:this.setBlue2},{t:this.dt_text},{t:this.text_10},{t:this.setPurp1},{t:this.scheme_text},{t:this.text_9},{t:this.SLeft1},{t:this.SRight1},{t:this.meth_text},{t:this.text_8},{t:this.SLeft2},{t:this.SRight2},{t:this.beginBtn},{t:this.graphName_1},{t:this.instance_6},{t:this.axisLeft},{t:this.instance_5},{t:this.instance_4},{t:this.divDown0},{t:this.divDown1},{t:this.divDown2},{t:this.divDown3},{t:this.divDown4},{t:this.divDown5},{t:this.divDown6},{t:this.divUp0},{t:this.divUp1},{t:this.divUp2},{t:this.divUp3},{t:this.divUp4},{t:this.divUp5},{t:this.divUp6},{t:this.divUp7},{t:this.text_7},{t:this.step_text},{t:this.SLeft3},{t:this.SRight3},{t:this.stopBtn_1},{t:this.graphName},{t:this.instance_3},{t:this.axisDownErr},{t:this.axisLeftErr},{t:this.instance_2},{t:this.instance_1},{t:this.divDown0err},{t:this.divDown1err},{t:this.divDown2err},{t:this.divDown3err},{t:this.divDown4err},{t:this.divDown5err},{t:this.divDown6err},{t:this.divUp0err},{t:this.divUp1err},{t:this.divUp2err},{t:this.divUp3err},{t:this.divUp4err},{t:this.divUp5err},{t:this.divUp6err},{t:this.divUp7err},{t:this.line},{t:this.pogr_text},{t:this.text_6},{t:this.SLeft4},{t:this.SRight4},{t:this.scale_text},{t:this.text_5},{t:this.SLeft5},{t:this.SRight5},{t:this.axisDown},{t:this.instance},{t:this.tau_text},{t:this.text_4},{t:this.T_text},{t:this.text_3},{t:this.setGreen3},{t:this.K_text},{t:this.text_2},{t:this.setBlue3},{t:this.dxy_text},{t:this.text_1},{t:this.setPurp2},{t:this.text},{t:this.step_text2},{t:this.SLeft31},{t:this.SRight31},{t:this.stopBtn}]}).wait(1));

	this._renderFirstFrame();

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(640.5,360,638.8,445.70000000000005);
// library properties:
lib.properties = {
	id: 'CE111B888947574DA9C363ECE12B7BC4',
	width: 1280,
	height: 720,
	fps: 60,
	color: "#FFFFFF",
	opacity: 1.00,
	manifest: [
		{src:"images/CachedBmp_47.png?1611304814367", id:"CachedBmp_47"},
		{src:"images/index_atlas_.png?1611304814292", id:"index_atlas_"},
		{src:"images/index_atlas_2.png?1611304814293", id:"index_atlas_2"}
	],
	preloads: []
};



// bootstrap callback support:

(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.StageGL();

p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }

p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }

an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}

an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};

an.compositions = an.compositions || {};
an.compositions['CE111B888947574DA9C363ECE12B7BC4'] = {
	getStage: function() { return exportRoot.stage; },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};

an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}

an.getComposition = function(id) {
	return an.compositions[id];
}


an.makeResponsive = function(isResp, respDim, isScale, scaleType, domContainers) {		
	var lastW, lastH, lastS=1;		
	window.addEventListener('resize', resizeCanvas);		
	resizeCanvas();		
	function resizeCanvas() {			
		var w = lib.properties.width, h = lib.properties.height;			
		var iw = window.innerWidth, ih=window.innerHeight;			
		var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
		if(isResp) {                
			if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
				sRatio = lastS;                
			}				
			else if(!isScale) {					
				if(iw<w || ih<h)						
					sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==1) {					
				sRatio = Math.min(xRatio, yRatio);				
			}				
			else if(scaleType==2) {					
				sRatio = Math.max(xRatio, yRatio);				
			}			
		}			
		domContainers[0].width = w * pRatio * sRatio;			
		domContainers[0].height = h * pRatio * sRatio;			
		domContainers.forEach(function(container) {				
			container.style.width = w * sRatio + 'px';				
			container.style.height = h * sRatio + 'px';			
		});			
		stage.scaleX = pRatio*sRatio;			
		stage.scaleY = pRatio*sRatio;			
		lastW = iw; lastH = ih; lastS = sRatio;            
		stage.tickOnUpdate = false;            
		stage.update();            
		stage.tickOnUpdate = true;		
	}
}


})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;